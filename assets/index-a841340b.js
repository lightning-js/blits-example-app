var Jt=Object.defineProperty;var ei=(s,t,e)=>t in s?Jt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var m=(s,t,e)=>(ei(s,typeof t!="symbol"?t+"":t,e),e);import{s as w,a as Y,E as Ee,g as oi,m as et,b as Ze,i as wt,W as no,c as xe,T as Ct,C as ti,S as ii,d as si,e as vo,f as ot,h as vt,B as ni,j as ri,k as li,l as ko,n as tt,o as fi,p as ai,q as di,r as Ge}from"./settings-b6f7d147.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();class Ie extends Error{constructor(t,e,i){super(`TemplateParseError: ${t}`),this.name=e,this.context=i}}const ci=(s="")=>{let t=0,e=[],i=null,o=0;const l=/^<\/?([a-zA-Z0-9_\-.]+)\s*/,r=/^\s*(\/?>)\s*/,n=/^([A-Za-z0-9:.\-_@]+)=\s*(["'])/,f=/^<>\s*/,d=/^\s*(<\/>)\s*/,a=()=>{s=p(s);try{return c(h),C(e)}catch(S){return S instanceof Ie?console.error(`${S.message} | ${S.name}`):console.error(S),null}},c=S=>{t>=s.length||S()},p=S=>S.replace(/<!--.*?-->/gms,"").replace(/\r?\n\s*\r\n/gm," ").replace(/\r?\n\s*(\S)/gm," $1").replace(/\r?\n/g,"").trim(),u=S=>{const v=s.slice(t).match(S);return v&&(t+=v[0].length),v},h=()=>{u(f)?(e.push({type:null,[w.type]:"opening",[w.level]:o}),o++,c(h)):c(y)},y=()=>{u(d)?(o--,e.push({type:null,[w.type]:"closing",[w.level]:o}),c(h)):c(g)},g=()=>{const S=u(l);if(S)S[0].startsWith("</")?(o--,i={type:S[1],[w.type]:"closing",[w.level]:o}):(i={type:S[1],[w.type]:"opening",[w.level]:o},o++),c(x);else throw new Ie("InvalidTag",s.slice(t))},x=()=>{const S=u(r);if(S){if(S[1]==="/>"){if(i[w.type]==="closing")throw new Ie("InvalidClosingTag",s.slice(t-10));i[w.type]="self-closing",o--}if(i[w.type]==="opening"){const v=s.slice(t,s.indexOf("<",t));v&&(i.content=v,t+=v.length)}e.push(i),c(h)}else c(I)},I=()=>{const S=u(n);if(S){const v=S[2],_=new RegExp(`^(.*?)${v}\\s*`),T=u(_);if(T){const $=b(S[1],T[1]);i[$.name]=$.value,c(x)}else throw new Ie("MissingOrInvalidAttributeValue",s.slice(t))}else throw new Ie("InvalidAttribute",s.slice(t))},b=(S,v)=>{if(S.includes(".")){const[_,T]=S.split(".");return{name:_,value:`{${T}: ${v}}`}}return{name:S,value:v}},C=S=>{let v=[],_=!1,T={children:[]},$=T;for(let z=0;z<S.length;z++){let k=S[z];if(k[w.level]===0&&k[w.type]!=="closing"){if(_)throw new Ie("MultipleTopLevelTags",R(k));_=!0}if(k[w.type]==="opening")v.push({[w.level]:k[w.level],[w.type]:k[w.type],type:k.type,parent:$});else if(k[w.type]==="closing"){const F=v.length===0;let B=!1,E=!1;if(F||(B=v[v.length-1][w.level]!==k[w.level],E=v[v.length-1].type!==k.type),F||B||E)throw new Ie("MismatchedClosingTag",R(k));$=v.pop().parent}const M={...k};delete M[w.type],delete M[w.level],k[w.type]==="opening"?(z+1<S.length&&S[z+1][w.type]!=="closing"&&(M.children=[]),$.children.push(M),$=M):k[w.type]==="self-closing"&&$.children.push(M)}if(v.length>0){const z=v.map(k=>R(k)).join(", ");throw new Ie("UnclosedTags",z)}function R(z){return`${z.type||"empty-tag"}[${z[w.type]}] at level ${z[w.level]}`}return T};return a()};let j;function ui(s={children:[]}){const t={renderCode:["const elms = []"],effectsCode:[],context:{props:[],components:this.components}};return j=-1,_t.call(t,s),t.renderCode.push("return elms"),{render:new Function("parent","component","context",t.renderCode.join(`
`)),effects:t.effectsCode.map(e=>new Function("component","elms","context",e)),context:t.context}}const So=function(s,t=!1,e={key:!1,component:"component.",forceEffect:!1}){const i=e.forceEffect?this.effectsCode:this.renderCode;t&&i.push(`parent = ${t}`),"key"in s&&(e.key=He(s.key,e.component));const o=e.key?`elms[${j}][${e.key}]`:`elms[${j}]`;e.key&&i.push(`
      elms[${j}] = elms[${j}] || {}
    `),i.push(`
    if(!${o}) {
      ${o} = this.element({componentId: component[Symbol.for('id')], parent: parent || 'root'}, component)
    }
    const elementConfig${j} = {}
  `);const l=s.children;delete s.children,Object.keys(s).forEach(r=>{if(r==="type"){s[r]==="Slot"&&i.push(`elementConfig${j}[Symbol.for('isSlot')] = true`);return}r==="slot"&&i.push(`
        elementConfig${j}['parent'] = component[Symbol.for('slots')].filter(slot => slot.ref === '${s.slot}').shift() || component[Symbol.for('slots')][0] || parent
      `),kt(r)?this.effectsCode.push(`${o}.set('${r.substring(1)}', ${He(s[r],e.component)})`):i.push(`elementConfig${j}['${r}'] = ${jo(s[r],r,e.component)}`)}),e.holder===!0&&i.push(`
    if(typeof cmp${j} !== 'undefined') {
      for(let key in cmp${j}.config.props) {
        delete  elementConfig${j}[cmp${j}.config.props[key]]
      }
    }
    `),i.push(`
    if(!${o}.nodeId) {
      ${o}.populate(elementConfig${j})
    }
  `),l&&_t.call(this,{children:l},`${o}`,e)},Tt=function(s,t=!1,e={key:!1,component:"component.",forceEffect:!1,holder:!1}){const i=e.forceEffect?this.effectsCode:this.renderCode;i.push(`
    const cmp${j} =
      (context.components && context.components['${s.type}']) ||
      component[Symbol.for('components')]['${s.type}']
  `),"key"in s&&(e.key=He(s.key,e.component));const o=s.children;delete s.children,So.call(this,s,t,{...e,holder:!0}),t=e.key?`elms[${j}][${e.key}]`:`elms[${j}]`,j++;const l=e.key?`elms[${j}][${e.key}]`:`elms[${j}]`;e.key&&i.push(`
      elms[${j}] = elms[${j}] || {}
    `),t&&i.push(`parent = ${t}`),i.push(`const props${j} = {}`),Object.keys(s).forEach(r=>{r!=="type"&&(kt(r)?(this.effectsCode.push(`
        ${l}[Symbol.for('props')]['${r.substring(1)}'] = ${He(s[r],e.component)}`),i.push(`props${j}['${r.substring(1)}'] = ${He(s[r],e.component)}`)):i.push(`props${j}['${r}'] = ${jo(s[r],r,e.component)}`))}),i.push(`
    if(!${l}) {
      ${l} = (context.components && context.components['${s.type}'] || component[Symbol.for('components')]['${s.type}'] || (() => { console.error('component ${s.type} not found')})).call(null, {props: props${j}}, ${t}, component)
      if (${l}[Symbol.for('slots')][0]) {
        parent = ${l}[Symbol.for('slots')][0]
        component = ${l}
      } else {
        parent = ${l}[Symbol.for('children')][0]
      }
    }
  `),o&&(j++,So.call(this,{children:o},!1,{...e}))},hi=function(s,t){const e=s[":for"];delete s[":for"];const o=/(.+)\s+in\s+(.+)/gi.exec(e),[l,r="index"]=o[1].replace("(","").replace(")","").split(/\s*,\s*/),n={renderCode:[],effectsCode:[],context:{props:[],components:this.components}};t&&n.renderCode.push(`parent = ${t}`),n.renderCode.push(`
    const collection = ${jo(o[2],":for")}
    const keys = []
    for(let __index = 0; __index < collection.length; __index++) {
      parent = ${t}
      if(!component.key) keys.length = 0
      const scope = Object.assign(component, {
        key: Math.random(),
        ${r}: __index,
        ${l}: collection[__index]
      })
    `),"key"in s?n.renderCode.push(`
      keys.push(${He(s.key,"scope.")})
    `):n.renderCode.push(`
      keys.push(scope.key.toString())
    `),s.type==="Element"||s.type==="Slot"?So.call(n,s,t,{key:"scope.key",component:"scope.",forceEffect:!1}):Tt.call(n,s,!1,{key:"scope.key",component:"scope.",forceEffect:!1}),n.renderCode=n.renderCode.concat(n.effectsCode),n.renderCode.push("}"),n.renderCode.push(`
    if(elms[${j}]) {
      Object.keys(elms[${j}]).forEach(key => {
        if(keys.indexOf(key) === -1) {
          elms[${j}][key].delete && elms[${j}][key].delete()
          elms[${j}][key].destroy && elms[${j}][key].destroy()
          delete elms[${j}][key]
        }
      })
    }
  `),this.effectsCode.push(n.renderCode.join(`
`))},_t=function(s,t=!1,e={}){s.children&&s.children.forEach(i=>{j++,Object.keys(i).indexOf(":for")>-1?hi.call(this,i,t):i.type==="Element"||i.type==="Slot"?So.call(this,i,t,e):Tt.call(this,i,t,e)})},He=(s,t="component.")=>{const e=/('.*?')+/gi,i=/\$/gi,o=s.matchAll(e),l=[];let r=0;for(const n of o)l.push(n[0]),s=s.replace(n[0],`[@@REPLACEMENT${r}@@]`),r++;return s=s.replace(i,t),l.forEach((n,f)=>{s=s.replace(`[@@REPLACEMENT${f}@@]`,n)}),s},jo=(s="",t=!1,e="component.")=>{let i;if(t==="content")s.startsWith("$")?i=`${e}${s.replace("$","")}`:i=`'${pi(s.replace(new RegExp("(?<!\\\\)'","g"),"\\'"),e)}'`;else if(t!=="color"&&!isNaN(parseFloat(s))){if(i=parseFloat(s),s.endsWith("%")){const l={w:"width",width:"width",x:"width",h:"height",height:"height",y:"height"}[t];l&&(i=`parent.node.${l} * (${i} / 100)`)}}else if(s.toLowerCase()==="true")i=!0;else if(s.toLowerCase()==="false")i=!1;else if(t.startsWith("@")&&s){const o=e.slice(0,-1);i=`${o}['${s.replace("$","")}'] && ${o}['${s.replace("$","")}'].bind(${o})`}else s.startsWith("$")?i=`${e}${s.replace("$","")}`:i=`"${s}"`;return i},kt=s=>s.startsWith(":"),pi=(s,t)=>{const e=/\{\{\s*(\$\S+)\s*\}\}/g,i=[...s.matchAll(e)];if(i.length)for(let[o,l]of i)s=s.replace(o,`${l.replace("$",`'+${t}`)}+'`);return s};class $t{constructor(t){m(this,"releaseCallback");this.releaseCallback=t}}class mi extends $t{constructor(e,i){super(e);m(this,"textureMap",new Map);m(this,"zeroReferenceTextureSet",new Set);m(this,"options");this.options={textureCleanupIntervalMs:i.textureCleanupIntervalMs??1e4,textureCleanupAgeThreadholdMs:i.textureCleanupAgeThreadholdMs??6e4},setInterval(()=>{const o=Date.now(),l=this.options.textureCleanupAgeThreadholdMs;for(const r of this.zeroReferenceTextureSet)o-r.lastUpdate>l&&(this.releaseCallback(r.id),this.textureMap.delete(r.id),this.zeroReferenceTextureSet.delete(r))},this.options.textureCleanupIntervalMs)}registerTexture(e){var o;const i=(o=e.options)==null?void 0:o.id;if(Y(i,"Texture must have an id to be registered"),!this.textureMap.has(i)){const l={id:i,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(i,l),this.zeroReferenceTextureSet.add(l)}}incrementTextureRefCount(e){var l;const i=(l=e.options)==null?void 0:l.id;Y(i,"Texture must have an id to be registered");let o=this.textureMap.get(i);o||(this.registerTexture(e),o=this.textureMap.get(i)),Y(o,"Texture must have been registered"),e.txType==="SubTexture"&&this.incrementTextureRefCount(e.props.texture),o.nodeRefCount++,o.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(o)&&this.zeroReferenceTextureSet.delete(o)}decrementTextureRefCount(e){var l;const i=(l=e.options)==null?void 0:l.id;Y(i,"Texture must have an id to be registered");const o=this.textureMap.get(i);Y(o,"Texture must have been registered"),o.nodeRefCount--,o.lastUpdate=Date.now(),o.nodeRefCount===0&&this.zeroReferenceTextureSet.add(o),e.txType==="SubTexture"&&this.decrementTextureRefCount(e.props.texture)}}class yi extends $t{constructor(e){super(e);m(this,"registry");this.registry=new FinalizationRegistry(e)}registerTexture(e){var i,o;Y((i=e.options)==null?void 0:i.id,"Texture must have an ID to be registered"),this.registry.register(e,(o=e.options)==null?void 0:o.id)}incrementTextureRefCount(){}decrementTextureRefCount(){}}class gi extends Ee{constructor(e,i,o){super();m(this,"root",null);m(this,"driver");m(this,"canvas");m(this,"settings");m(this,"nodes",new Map);m(this,"nextTextureId",1);m(this,"textureTracker");const l={appWidth:e.appWidth||1920,appHeight:e.appHeight||1080,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:e.clearColor??0,coreExtensionModule:e.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:e.experimental_FinalizationRegistryTextureUsageTracker??!1,textureCleanupOptions:e.textureCleanupOptions||{},fpsUpdateInterval:e.fpsUpdateInterval||0};this.settings=l;const{appWidth:r,appHeight:n,deviceLogicalPixelRatio:f,devicePhysicalPixelRatio:d}=l,a=g=>{this.driver.releaseTexture(g)},c=l.experimental_FinalizationRegistryTextureUsageTracker&&typeof FinalizationRegistry=="function";this.textureTracker=c?new yi(a):new mi(a,this.settings.textureCleanupOptions);const p=r*f,u=n*f;this.driver=o;const h=document.createElement("canvas");this.canvas=h,h.width=p*d,h.height=u*d,h.style.width=`${p}px`,h.style.height=`${u}px`;let y;if(typeof i=="string"?y=document.getElementById(i):y=i,!y)throw new Error("Could not find target element");o.onCreateNode=g=>{this.nodes.set(g.id,g)},o.onBeforeDestroyNode=g=>{this.nodes.delete(g.id)},o.onFpsUpdate=g=>{this.emit("fpsUpdate",g)},y.appendChild(h)}async init(){await this.driver.init(this,this.settings,this.canvas),this.root=this.driver.getRootNode()}createNode(e){return this.driver.createNode(this.resolveNodeDefaults(e))}createTextNode(e){return this.driver.createTextNode({...this.resolveNodeDefaults(e),text:e.text??"",textRendererOverride:e.textRendererOverride??null,fontSize:e.fontSize??16,fontFamily:e.fontFamily??"sans-serif",fontStyle:e.fontStyle??"normal",fontWeight:e.fontWeight??"normal",fontStretch:e.fontStretch??"normal",textAlign:e.textAlign??"left",contain:e.contain??"none",scrollable:e.scrollable??!1,scrollY:e.scrollY??0,offsetY:e.offsetY??0,letterSpacing:e.letterSpacing??0,debug:e.debug??{}})}resolveNodeDefaults(e){const i=e.color??4294967295,o=e.colorTl??e.colorTop??e.colorLeft??i,l=e.colorTr??e.colorTop??e.colorRight??i,r=e.colorBl??e.colorBottom??e.colorLeft??i,n=e.colorBr??e.colorBottom??e.colorRight??i;return{x:e.x??0,y:e.y??0,width:e.width??0,height:e.height??0,alpha:e.alpha??1,clipping:e.clipping??!1,color:i,colorTop:e.colorTop??i,colorBottom:e.colorBottom??i,colorLeft:e.colorLeft??i,colorRight:e.colorRight??i,colorBl:r,colorBr:n,colorTl:o,colorTr:l,zIndex:e.zIndex??0,zIndexLocked:e.zIndexLocked??0,parent:e.parent??null,texture:e.texture??null,shader:e.shader??null,src:e.src??"",scale:e.scale??null,scaleX:e.scaleX??e.scale??1,scaleY:e.scaleY??e.scale??1,mount:e.mount??0,mountX:e.mountX??e.mount??0,mountY:e.mountY??e.mount??0,pivot:e.pivot??.5,pivotX:e.pivotX??e.pivot??.5,pivotY:e.pivotY??e.pivot??.5,rotation:e.rotation??0}}destroyNode(e){return this.driver.destroyNode(e)}createTexture(e,i,o){const l=this.nextTextureId++,r={descType:"texture",txType:e,props:i,options:{...o,id:l}};return this.textureTracker.registerTexture(r),r}createShader(e,i){return{descType:"shader",shType:e,props:i}}getNodeById(e){return this.nodes.get(e)||null}toggleFreeze(){throw new Error("Not implemented")}advanceFrame(){throw new Error("Not implemented")}rerender(){throw new Error("Not implemented")}}class xi extends Ee{constructor(e,i,o){super();m(this,"node");m(this,"props");m(this,"settings");m(this,"propStartValues",{});m(this,"restoreValues",{});m(this,"progress",0);m(this,"timingFunction");m(this,"propsList");this.node=e,this.props=i,this.settings=o,this.propStartValues={},this.propsList=Object.keys(i),this.propsList.forEach(l=>{this.propStartValues[l]=e[l]}),this.timingFunction=l=>l,o.easing&&typeof o.easing=="string"&&(this.timingFunction=oi(o.easing))}reset(){this.progress=0,this.update(0)}restore(){this.reset(),Object.keys(this.props).forEach(e=>{this.node[e]=this.propStartValues[e]})}reverse(){this.progress=0,Object.keys(this.props).forEach(e=>{const i=this.props[e],o=this.propStartValues[e];this.props[e]=o,this.propStartValues[e]=i}),this.settings.loop||(this.settings.stopMethod=!1)}applyEasing(e,i,o){return(this.timingFunction(e)||e)*(o-i)+i}update(e){const{duration:i,loop:o,easing:l,stopMethod:r}=this.settings;if(!i){this.emit("finished",{});return}if(this.progress+=e/i,this.progress>1&&(this.progress=o?0:1,r)){this.emit("finished",{});return}for(let n=0;n<this.propsList.length;n++){const f=this.propsList[n],d=this.props[f],a=this.propStartValues[f],c=d;if(f.indexOf("color")!==-1){if(a===c){this.node[f]=a;continue}if(l){const p=this.timingFunction(this.progress)||this.progress,u=et(a,c,p);this.node[f]=u;continue}this.node[f]=et(a,c,this.progress);continue}if(l){this.node[f]=this.applyEasing(this.progress,a,c);continue}this.node[f]=a+(c-a)*this.progress}this.progress===1&&this.emit("finished",{})}}class bi{constructor(t,e){m(this,"manager");m(this,"animation");m(this,"stoppedPromise",null);m(this,"stoppedResolve",null);m(this,"state");this.manager=t,this.animation=e,this.state="stopped"}start(){return this.makeStoppedPromise(),this.animation.once("finished",this.finished.bind(this)),this.manager.activeAnimations.has(this.animation)||this.manager.registerAnimation(this.animation),this.state="running",this}stop(){return this.manager.unregisterAnimation(this.animation),this.stoppedResolve!==null&&(this.stoppedResolve(),this.stoppedResolve=null),this.animation.reset(),this.state="stopped",this}pause(){return this.manager.unregisterAnimation(this.animation),this.state="paused",this}restore(){return this.stoppedResolve=null,this.animation.restore(),this}waitUntilStopped(){this.makeStoppedPromise();const t=this.stoppedPromise;return Y(t),t}makeStoppedPromise(){this.stoppedResolve===null&&(this.stoppedPromise=new Promise(t=>{this.stoppedResolve=t}))}finished(){Y(this.stoppedResolve);const{loop:t,stopMethod:e}=this.animation.settings;if(e==="reverse"){this.animation.reverse(),this.start();return}this.stoppedResolve(),this.stoppedResolve=null,!t&&this.manager.unregisterAnimation(this.animation)}}const te=0,ie=3,fe=6,oe=1,se=4,de=7,he=2,pe=5,me=8;class ye{constructor(t){m(this,"data");t?(this.data=new Float32Array(9),this.data[te]=t[0],this.data[ie]=t[3],this.data[fe]=t[6],this.data[oe]=t[1],this.data[se]=t[4],this.data[de]=t[7],this.data[he]=t[2],this.data[pe]=t[5],this.data[me]=t[8]):this.data=new Float32Array(9)}static get temp(){return Si}static multiply(t,e,i){const o=t.data[te]*e.data[te]+t.data[ie]*e.data[oe]+t.data[fe]*e.data[he],l=t.data[te]*e.data[ie]+t.data[ie]*e.data[se]+t.data[fe]*e.data[pe],r=t.data[te]*e.data[fe]+t.data[ie]*e.data[de]+t.data[fe]*e.data[me],n=t.data[oe]*e.data[te]+t.data[se]*e.data[oe]+t.data[de]*e.data[he],f=t.data[oe]*e.data[ie]+t.data[se]*e.data[se]+t.data[de]*e.data[pe],d=t.data[oe]*e.data[fe]+t.data[se]*e.data[de]+t.data[de]*e.data[me],a=t.data[he]*e.data[te]+t.data[pe]*e.data[oe]+t.data[me]*e.data[he],c=t.data[he]*e.data[ie]+t.data[pe]*e.data[se]+t.data[me]*e.data[pe],p=t.data[he]*e.data[fe]+t.data[pe]*e.data[de]+t.data[me]*e.data[me];return i||(i=new ye),i.data[te]=o,i.data[ie]=l,i.data[fe]=r,i.data[oe]=n,i.data[se]=f,i.data[de]=d,i.data[he]=a,i.data[pe]=c,i.data[me]=p,i}static identity(t){return t||(t=new ye),t.data[te]=1,t.data[ie]=0,t.data[fe]=0,t.data[oe]=0,t.data[se]=1,t.data[de]=0,t.data[he]=0,t.data[pe]=0,t.data[me]=1,t}static translate(t,e,i){return i||(i=new ye),i.data[te]=1,i.data[ie]=0,i.data[fe]=t,i.data[oe]=0,i.data[se]=1,i.data[de]=e,i.data[he]=0,i.data[pe]=0,i.data[me]=1,i}static scale(t,e,i){return i||(i=new ye),i.data[te]=t,i.data[ie]=0,i.data[fe]=0,i.data[oe]=0,i.data[se]=e,i.data[de]=0,i.data[he]=0,i.data[pe]=0,i.data[me]=1,i}static rotate(t,e){const i=Math.cos(t),o=Math.sin(t);return e||(e=new ye),e.data[te]=i,e.data[ie]=-o,e.data[fe]=0,e.data[oe]=o,e.data[se]=i,e.data[de]=0,e.data[he]=0,e.data[pe]=0,e.data[me]=1,e}static copy(t,e,i){return e||(e=new ye),e.data[0]=t.data[0],e.data[1]=t.data[1],e.data[2]=t.data[2],e.data[3]=t.data[3],e.data[4]=t.data[4],e.data[5]=t.data[5],e.data[6]=t.data[6],e.data[7]=t.data[7],e.data[8]=t.data[8],e}translate(t,e){return this.data[fe]=this.data[te]*t+this.data[ie]*e+this.data[fe],this.data[de]=this.data[oe]*t+this.data[se]*e+this.data[de],this}scale(t,e){return this.data[te]=this.data[te]*t,this.data[ie]=this.data[ie]*e,this.data[oe]=this.data[oe]*t,this.data[se]=this.data[se]*e,this}rotate(t){if(t===0||!(t%Math.PI*2))return this;const e=Math.cos(t),i=Math.sin(t),o=this.data[te]*e+this.data[ie]*i,l=this.data[ie]*e-this.data[te]*i,r=this.data[oe]*e+this.data[se]*i,n=this.data[se]*e-this.data[oe]*i;return this.data[te]=o,this.data[ie]=l,this.data[oe]=r,this.data[se]=n,this}multiply(t){return ye.multiply(this,t,this)}get tx(){return this.data[fe]}get ty(){return this.data[de]}get ta(){return this.data[te]}get tb(){return this.data[ie]}get tc(){return this.data[oe]}get td(){return this.data[se]}transformPoint(t,e){return[this.data[te]*t+this.data[ie]*e+this.data[fe],this.data[oe]*t+this.data[se]*e+this.data[oe]]}}const Si=new ye;var P;(function(s){s[s.Children=1]="Children",s[s.ScaleRotate=2]="ScaleRotate",s[s.Local=4]="Local",s[s.Global=8]="Global",s[s.Clipping=16]="Clipping",s[s.CalculatedZIndex=32]="CalculatedZIndex",s[s.ZIndexSortedChildren=64]="ZIndexSortedChildren",s[s.PremultipliedColors=128]="PremultipliedColors",s[s.WorldAlpha=256]="WorldAlpha",s[s.None=0]="None",s[s.All=511]="All"})(P||(P={}));class Go extends Ee{constructor(e,i){super();m(this,"stage");m(this,"children",[]);m(this,"props");m(this,"updateType",P.All);m(this,"globalTransform");m(this,"scaleRotateTransform");m(this,"localTransform");m(this,"clippingRect",null);m(this,"isRenderable",!1);m(this,"parentClippingRect",null);m(this,"worldAlpha",1);m(this,"premultipliedColorTl",0);m(this,"premultipliedColorTr",0);m(this,"premultipliedColorBl",0);m(this,"premultipliedColorBr",0);m(this,"calcZIndex",0);m(this,"isComplex",!1);m(this,"onTextureLoaded",(e,i)=>{this.stage.requestRender(),this.emit("loaded",{type:"texture",dimensions:i})});m(this,"onTextureFailed",(e,i)=>{this.emit("failed",{type:"texture",error:i})});this.stage=e,this.props={...i,parent:null},this.parent=i.parent,this.updateScaleRotateTransform()}loadTexture(e,i,o=null){this.props.texture&&this.unloadTexture();const{txManager:l}=this.stage,r=l.loadTexture(e,i,o);this.props.texture=r,this.props.textureOptions=o,this.checkIsRenderable(),queueMicrotask(()=>{r.state==="loaded"?this.onTextureLoaded(r,r.dimensions):r.state==="failed"&&this.onTextureFailed(r,r.error),r.on("loaded",this.onTextureLoaded),r.on("failed",this.onTextureFailed)})}unloadTexture(){this.props.texture&&(this.props.texture.off("loaded",this.onTextureLoaded),this.props.texture.off("failed",this.onTextureFailed)),this.props.texture=null,this.props.textureOptions=null,this.checkIsRenderable()}loadShader(e,i){const o=this.stage.renderer.getShaderManager();Y(o);const{shader:l,props:r}=o.loadShader(e,i);this.props.shader=l,this.props.shaderProps=r,this.checkIsRenderable()}setUpdateType(e){this.updateType|=e;const i=this.props.parent;i&&!(i.updateType&P.Children)&&i.setUpdateType(P.Children)}sortChildren(){this.children.sort((e,i)=>e.calcZIndex-i.calcZIndex)}updateScaleRotateTransform(){this.scaleRotateTransform=ye.rotate(this.props.rotation,this.scaleRotateTransform).scale(this.props.scaleX,this.props.scaleY)}updateLocalTransform(){Y(this.scaleRotateTransform);const e=this.props.pivotX*this.props.width,i=this.props.pivotY*this.props.height,o=this.props.mountX*this.props.width,l=this.props.mountY*this.props.height;this.localTransform=ye.translate(e-o+this.props.x,i-l+this.props.y,this.localTransform).multiply(this.scaleRotateTransform).translate(-e,-i),this.setUpdateType(P.Global)}update(e,i=null){this.updateType&P.ScaleRotate&&(this.updateScaleRotateTransform(),this.setUpdateType(P.Local)),this.updateType&P.Local&&(this.updateLocalTransform(),this.setUpdateType(P.Global));const o=this.props.parent;let l=P.None;this.updateType&P.Global&&(Y(this.localTransform),this.globalTransform=ye.copy((o==null?void 0:o.globalTransform)||this.localTransform,this.globalTransform),o&&this.globalTransform.multiply(this.localTransform),this.setUpdateType(P.Clipping|P.Children),l|=P.Global),this.updateType&P.Clipping&&(this.calculateClippingRect(i),this.checkIsRenderable(),this.setUpdateType(P.Children),l|=P.Clipping),this.updateType&P.WorldAlpha&&(o?this.worldAlpha=o.worldAlpha*this.props.alpha:this.worldAlpha=this.props.alpha,this.setUpdateType(P.Children|P.PremultipliedColors),l|=P.WorldAlpha),this.updateType&P.PremultipliedColors&&(this.premultipliedColorTl=Ze(this.props.colorTl,this.worldAlpha,!0),this.premultipliedColorTr=Ze(this.props.colorTr,this.worldAlpha,!0),this.premultipliedColorBl=Ze(this.props.colorBl,this.worldAlpha,!0),this.premultipliedColorBr=Ze(this.props.colorBr,this.worldAlpha,!0),this.checkIsRenderable(),this.setUpdateType(P.Children),l|=P.PremultipliedColors),o&&this.updateType&P.CalculatedZIndex&&(this.calculateZIndex(),o.setUpdateType(P.ZIndexSortedChildren)),this.updateType&P.Children&&this.children.length&&this.children.forEach(r=>{r.setUpdateType(l),r.updateType!==0&&r.update(e,this.clippingRect)}),this.updateType&P.ZIndexSortedChildren&&this.sortChildren(),this.updateType=0}checkIsRenderable(){return this.props.texture?this.isRenderable=!0:this.props.shader?this.isRenderable=!0:this.props.clipping?this.isRenderable=!0:["color","colorTop","colorBottom","colorLeft","colorRight","colorTl","colorTr","colorBl","colorBr"].some(i=>this.props[i]!==0)?this.isRenderable=!0:this.isRenderable=!1}calculateClippingRect(e=null){if(Y(this.globalTransform),this.parentClippingRect===e&&this.clippingRect)return;const i=this.globalTransform,o=i.tb!==0||i.tc!==0;let l=this.props.clipping&&!o?{x:i.tx,y:i.ty,width:this.width*i.ta,height:this.height*i.td}:null;e&&l?l=wt(e,l):e&&(l=e),this.parentClippingRect=e,this.clippingRect=l}calculateZIndex(){var r,n;const e=this.props,i=e.zIndex||0,o=((r=e.parent)==null?void 0:r.zIndex)||0;let l=i;(n=e.parent)!=null&&n.zIndexLocked&&(l=i<o?i:o),this.calcZIndex=l}renderQuads(e){const{width:i,height:o,texture:l,textureOptions:r,shader:n,shaderProps:f}=this.props,{premultipliedColorTl:d,premultipliedColorTr:a,premultipliedColorBl:c,premultipliedColorBr:p}=this,{zIndex:u,worldAlpha:h,globalTransform:y,clippingRect:g}=this;Y(y),e.addQuad({width:i,height:o,colorTl:d,colorTr:a,colorBl:c,colorBr:p,texture:l,textureOptions:r,zIndex:u,shader:n,shaderProps:f,alpha:h,clippingRect:g,tx:y.tx,ty:y.ty,ta:y.ta,tb:y.tb,tc:y.tc,td:y.td})}get id(){return this.props.id}get x(){return this.props.x}set x(e){this.props.x!==e&&(this.props.x=e,this.setUpdateType(P.Local))}get absX(){var e,i,o;return this.props.x+(((e=this.props.parent)==null?void 0:e.absX)||((o=(i=this.props.parent)==null?void 0:i.globalTransform)==null?void 0:o.tx)||0)}get absY(){var e;return this.props.y+(((e=this.props.parent)==null?void 0:e.absY)??0)}get y(){return this.props.y}set y(e){this.props.y!==e&&(this.props.y=e,this.setUpdateType(P.Local))}get width(){return this.props.width}set width(e){this.props.width!==e&&(this.props.width=e,this.setUpdateType(P.Local))}get height(){return this.props.height}set height(e){this.props.height!==e&&(this.props.height=e,this.setUpdateType(P.Local))}get scale(){return this.scaleX}set scale(e){this.scaleX=e,this.scaleY=e}get scaleX(){return this.props.scaleX}set scaleX(e){this.props.scaleX!==e&&(this.props.scaleX=e,this.setUpdateType(P.ScaleRotate))}get scaleY(){return this.props.scaleY}set scaleY(e){this.props.scaleY!==e&&(this.props.scaleY=e,this.setUpdateType(P.ScaleRotate))}get mount(){return this.props.mount}set mount(e){(this.props.mountX!==e||this.props.mountY!==e)&&(this.props.mountX=e,this.props.mountY=e,this.props.mount=e,this.setUpdateType(P.Local))}get mountX(){return this.props.mountX}set mountX(e){this.props.mountX!==e&&(this.props.mountX=e,this.setUpdateType(P.Local))}get mountY(){return this.props.mountY}set mountY(e){this.props.mountY!==e&&(this.props.mountY=e,this.setUpdateType(P.Local))}get pivot(){return this.props.pivot}set pivot(e){(this.props.pivotX!==e||this.props.pivotY!==e)&&(this.props.pivotX=e,this.props.pivotY=e,this.props.pivot=e,this.setUpdateType(P.Local))}get pivotX(){return this.props.pivotX}set pivotX(e){this.props.pivotX!==e&&(this.props.pivotX=e,this.setUpdateType(P.Local))}get pivotY(){return this.props.pivotY}set pivotY(e){this.props.pivotY!==e&&(this.props.pivotY=e,this.setUpdateType(P.Local))}get rotation(){return this.props.rotation}set rotation(e){this.props.rotation!==e&&(this.props.rotation=e,this.setUpdateType(P.ScaleRotate))}get alpha(){return this.props.alpha}set alpha(e){this.props.alpha=e,this.setUpdateType(P.PremultipliedColors|P.WorldAlpha)}get clipping(){return this.props.clipping}set clipping(e){this.props.clipping=e,this.setUpdateType(P.Clipping)}get color(){return this.props.color}set color(e){(this.props.colorTl!==e||this.props.colorTr!==e||this.props.colorBl!==e||this.props.colorBr!==e)&&(this.colorTl=e,this.colorTr=e,this.colorBl=e,this.colorBr=e),this.props.color=e,this.setUpdateType(P.PremultipliedColors)}get colorTop(){return this.props.colorTop}set colorTop(e){(this.props.colorTl!==e||this.props.colorTr!==e)&&(this.colorTl=e,this.colorTr=e),this.props.colorTop=e,this.setUpdateType(P.PremultipliedColors)}get colorBottom(){return this.props.colorBottom}set colorBottom(e){(this.props.colorBl!==e||this.props.colorBr!==e)&&(this.colorBl=e,this.colorBr=e),this.props.colorBottom=e,this.setUpdateType(P.PremultipliedColors)}get colorLeft(){return this.props.colorLeft}set colorLeft(e){(this.props.colorTl!==e||this.props.colorBl!==e)&&(this.colorTl=e,this.colorBl=e),this.props.colorLeft=e,this.setUpdateType(P.PremultipliedColors)}get colorRight(){return this.props.colorRight}set colorRight(e){(this.props.colorTr!==e||this.props.colorBr!==e)&&(this.colorTr=e,this.colorBr=e),this.props.colorRight=e,this.setUpdateType(P.PremultipliedColors)}get colorTl(){return this.props.colorTl}set colorTl(e){this.props.colorTl=e,this.setUpdateType(P.PremultipliedColors)}get colorTr(){return this.props.colorTr}set colorTr(e){this.props.colorTr=e,this.setUpdateType(P.PremultipliedColors)}get colorBl(){return this.props.colorBl}set colorBl(e){this.props.colorBl=e,this.setUpdateType(P.PremultipliedColors)}get colorBr(){return this.props.colorBr}set colorBr(e){this.props.colorBr=e,this.setUpdateType(P.PremultipliedColors)}get zIndexLocked(){return this.props.zIndexLocked||0}set zIndexLocked(e){this.props.zIndexLocked=e,this.setUpdateType(P.CalculatedZIndex|P.Children),this.children.forEach(i=>{i.setUpdateType(P.CalculatedZIndex)})}get zIndex(){return this.props.zIndex}set zIndex(e){this.props.zIndex=e,this.setUpdateType(P.CalculatedZIndex|P.Children),this.children.forEach(i=>{i.setUpdateType(P.CalculatedZIndex)})}get parent(){return this.props.parent}set parent(e){const i=this.props.parent;if(i!==e){if(this.props.parent=e,i){const o=i.children.indexOf(this);Y(o!==-1,"CoreNode.parent: Node not found in old parent's children!"),i.children.splice(o,1)}e&&(e.children.push(this),this.setUpdateType(P.All),e.setUpdateType(P.Children|P.ZIndexSortedChildren)),this.updateScaleRotateTransform()}}}let Ii=1;function Vo(){return Ii++}class Po extends Ee{constructor(e,i,o,l){super();m(this,"rendererMain");m(this,"stage");m(this,"id");m(this,"coreNode");m(this,"_children",[]);m(this,"_src","");m(this,"_parent",null);m(this,"_texture",null);m(this,"_shader",null);m(this,"onTextureLoaded",(e,i)=>{this.emit("loaded",i)});m(this,"onTextureFailed",(e,i)=>{this.emit("failed",i)});this.rendererMain=i,this.stage=o,this.id=(l==null?void 0:l.id)??Vo(),this.coreNode=l||new Go(this.stage,{id:this.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null}),this.coreNode.on("loaded",this.onTextureLoaded),this.coreNode.on("failed",this.onTextureFailed),this.parent=e.parent,this.shader=e.shader,this.texture=e.texture,this.src=e.src}get x(){return this.coreNode.x}set x(e){this.coreNode.x=e}get y(){return this.coreNode.y}set y(e){this.coreNode.y=e}get width(){return this.coreNode.width}set width(e){this.coreNode.width=e}get height(){return this.coreNode.height}set height(e){this.coreNode.height=e}get alpha(){return this.coreNode.alpha}set alpha(e){this.coreNode.alpha=e}get clipping(){return this.coreNode.clipping}set clipping(e){this.coreNode.clipping=e}get color(){return this.coreNode.color}set color(e){this.coreNode.color=e}get colorTop(){return this.coreNode.colorTop}set colorTop(e){this.coreNode.colorTop=e}get colorBottom(){return this.coreNode.colorBottom}set colorBottom(e){this.coreNode.colorBottom=e}get colorLeft(){return this.coreNode.colorLeft}set colorLeft(e){this.coreNode.colorLeft=e}get colorRight(){return this.coreNode.colorRight}set colorRight(e){this.coreNode.colorRight=e}get colorTl(){return this.coreNode.colorTl}set colorTl(e){this.coreNode.colorTl=e}get colorTr(){return this.coreNode.colorTr}set colorTr(e){this.coreNode.colorTr=e}get colorBl(){return this.coreNode.colorBl}set colorBl(e){this.coreNode.colorBl=e}get colorBr(){return this.coreNode.colorBr}set colorBr(e){this.coreNode.colorBr=e}get scale(){return this.scaleX!==this.scaleY?null:this.coreNode.scaleX}set scale(e){e!==null&&(this.coreNode.scaleX=e,this.coreNode.scaleY=e)}get scaleX(){return this.coreNode.scaleX}set scaleX(e){this.coreNode.scaleX=e}get scaleY(){return this.coreNode.scaleY}set scaleY(e){this.coreNode.scaleY=e}get mount(){return this.coreNode.mount}set mount(e){this.coreNode.mount=e}get mountX(){return this.coreNode.mountX}set mountX(e){this.coreNode.mountX=e}get mountY(){return this.coreNode.mountY}set mountY(e){this.coreNode.mountY=e}get pivot(){return this.coreNode.pivot}set pivot(e){this.coreNode.pivot=e}get pivotX(){return this.coreNode.pivotX}set pivotX(e){this.coreNode.pivotX=e}get pivotY(){return this.coreNode.pivotY}set pivotY(e){this.coreNode.pivotY=e}get rotation(){return this.coreNode.rotation}set rotation(e){this.coreNode.rotation=e}get parent(){return this._parent}set parent(e){const i=this._parent;if(this._parent=e,this.coreNode.parent=(e==null?void 0:e.coreNode)??null,i){const o=i.children.indexOf(this);Y(o!==-1,"MainOnlyNode.parent: Node not found in old parent's children!"),i.children.splice(o,1)}e&&e.children.push(this)}get children(){return this._children}get zIndex(){return this.coreNode.zIndex}set zIndex(e){this.coreNode.zIndex=e}get zIndexLocked(){return this.coreNode.zIndexLocked}set zIndexLocked(e){this.coreNode.zIndexLocked=e}get src(){return this._src}set src(e){if(this._src!==e){if(this._src=e,!e){this.texture=null;return}this.texture=this.rendererMain.createTexture("ImageTexture",{src:e})}}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}destroy(){this.emit("beforeDestroy",{}),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}flush(){}animate(e,i){const o=new xi(this.coreNode,e,i);return new bi(this.stage.animationManager,o)}}const wi=s=>{const t=()=>{if(s.updateAnimations(),!s.hasSceneUpdates()){setTimeout(t,16.666666666666668);return}s.drawFrame(),requestAnimationFrame(t)};requestAnimationFrame(t)},Ci=()=>performance?performance.now():Date.now();class Rt extends no{constructor(t){super({renderer:t,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"}]})}bindTextures(t){const{gl:e}=this;e.getParameter(e.TEXTURE_BINDING_2D)!==t[0].ctxTexture&&(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t[0].ctxTexture))}}m(Rt,"shaderSources",{vertex:`
      # ifdef GL_FRAGMENT_PRESICISON_HIGH
      precision highp float;
      # else
      precision mediump float;
      # endif

      attribute vec2 a_position;
      attribute vec2 a_textureCoordinate;
      attribute vec4 a_color;

      uniform vec2 u_resolution;
      uniform float u_pixelRatio;


      varying vec4 v_color;
      varying vec2 v_textureCoordinate;

      void main() {
        vec2 normalized = a_position * u_pixelRatio / u_resolution;
        vec2 zero_two = normalized * 2.0;
        vec2 clip_space = zero_two - 1.0;

        // pass to fragment
        v_color = a_color;
        v_textureCoordinate = a_textureCoordinate;

        // flip y
        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);
      }
    `,fragment:`
      # ifdef GL_FRAGMENT_PRESICISON_HIGH
      precision highp float;
      # else
      precision mediump float;
      # endif

      uniform vec2 u_resolution;
      uniform sampler2D u_texture;

      varying vec4 v_color;
      varying vec2 v_textureCoordinate;

      void main() {
          vec4 color = texture2D(u_texture, v_textureCoordinate);
          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);
      }
    `});class zt extends no{constructor(e){super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color","a_textureIndex"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_textures[0]",uniform:"uniform1iv"}]});m(this,"supportsIndexedTextures",!0)}bindTextures(e){const{renderer:i,gl:o}=this;if(e.length>i.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS)throw new Error(`DefaultShaderBatched: Cannot bind more than ${i.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS} textures`);e.forEach((r,n)=>{o.activeTexture(o.TEXTURE0+n),o.bindTexture(o.TEXTURE_2D,r.ctxTexture)});const l=Array.from(Array(e.length).keys());this.setUniform("u_textures[0]",l)}}m(zt,"shaderSources",{vertex:`
      # ifdef GL_FRAGMENT_PRESICISON_HIGH
      precision highp float;
      # else
      precision mediump float;
      # endif

      attribute vec2 a_textureCoordinate;
      attribute vec2 a_position;
      attribute vec4 a_color;
      attribute float a_textureIndex;
      attribute float a_depth;

      uniform vec2 u_resolution;
      uniform float u_pixelRatio;

      varying vec4 v_color;
      varying vec2 v_textureCoordinate;
      varying float v_textureIndex;

      void main(){
        vec2 normalized = a_position * u_pixelRatio / u_resolution;
        vec2 zero_two = normalized * 2.0;
        vec2 clip_space = zero_two - 1.0;

        // pass to fragment
        v_color = a_color;
        v_textureCoordinate = a_textureCoordinate;
        v_textureIndex = a_textureIndex;

        // flip y
        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);
      }
    `,fragment:e=>`
      #define txUnits ${e}
      # ifdef GL_FRAGMENT_PRESICISON_HIGH
      precision highp float;
      # else
      precision mediump float;
      # endif

      uniform vec2 u_resolution;
      uniform sampler2D u_image;
      uniform sampler2D u_textures[txUnits];

      varying vec4 v_color;
      varying vec2 v_textureCoordinate;
      varying float v_textureIndex;

      vec4 sampleFromTexture(sampler2D textures[${e}], int idx, vec2 uv) {
        ${Array.from(Array(e).keys()).map(i=>`
          ${i!==0?"else ":""}if (idx == ${i}) {
            return texture2D(textures[${i}], uv);
          }
        `).join("")}
        return texture2D(textures[0], uv);
      }

      void main(){
        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);
      }
    `});class le{constructor(t){m(this,"priority",1);m(this,"name","");m(this,"ref");m(this,"target");m(this,"passParameters","");m(this,"declaredUniforms","");m(this,"uniformInfo",{});const{ref:e,target:i,props:o={}}=t;this.ref=e,this.target=i;const l={},r=[];let n="";const f=this.constructor.uniforms||{};for(const d in f){const a=f[d],c=a.type,p=`${e}_${d}`;let u="";a.size&&(u=`[${a.size(o)}]`),r.push(p),n+=`uniform ${c} ${p}${u};`,l[d]={name:p,uniform:f[d].method}}this.passParameters=r.join(","),this.declaredUniforms=n,this.uniformInfo=l}static getEffectKey(t){return""}static getMethodParameters(t,e){const i=[];for(const o in t){const l=t[o];let r="";l.size&&(r=`[${l.size(e)}]`),i.push(`${l.type} ${o}${r}`)}return i.join(",")}static resolveDefaults(t){return{}}static makeEffectKey(t){return!1}}m(le,"uniforms",{}),m(le,"methods"),m(le,"onShaderMask"),m(le,"onColorize"),m(le,"onEffectMask");const be=class be extends no{constructor(e,i,o){const l=be.createShader(i,o);super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_alpha",uniform:"uniform1f"},...l.uniforms],shaderSources:{vertex:l.vertex,fragment:l.fragment}});m(this,"effects",[]);this.effects=l.effects}bindTextures(e){const{gl:i}=this;i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e[0].ctxTexture)}bindProps(e){var o;const i=this.renderer.shManager.getRegisteredEffects();(o=e.effects)==null||o.forEach((l,r)=>{const n=this.effects[r],f=i[n.name],d=l.props??{},a=n.uniformInfo;Object.keys(d).forEach(c=>{const p=f.uniforms[c],u=a[c];let h=p.validator?p.validator(d[c],d):d[c];Array.isArray(h)&&(h=new Float32Array(h)),this.setUniform(u.name,h)})})}static createShader(e,i){const o={},l={};let r="";const n=[],f=[],d=e.effects.map(h=>{const y=i[h.type],g=y.getEffectKey(h.props||{});o[g]=o[g]?++o[g]:1;const x=o[g];x===1&&f.push({key:g,type:h.type,props:h.props});const I=new y({ref:`${g}${x===1?"":x}`,target:g,props:h.props});return r+=I.declaredUniforms,n.push(...Object.values(I.uniformInfo)),I});let a="";f==null||f.forEach(h=>{const y=i[h.type],g=y.resolveDefaults(h.props??{}),x=[];for(const _ in y.methods){let T=_;const $=y.methods[_];l[_]&&l[_]!==$&&(T=be.resolveMethodDuplicate(_,$,l)),l[T]=$.replace("function",T),x.push({m:_,cm:T})}let I=y.onShaderMask instanceof Function?y.onShaderMask(g):y.onShaderMask,b=y.onColorize instanceof Function?y.onColorize(g):y.onColorize,C=y.onEffectMask instanceof Function?y.onEffectMask(g):y.onEffectMask;x.forEach(_=>{const{m:T,cm:$}=_,R=new RegExp(`\\$${T}`,"g");I&&(I=I.replace(R,$)),b&&(b=b.replace(R,$)),C&&(C=C.replace(R,$))});const S=y.getMethodParameters(y.uniforms,g),v=S.length>0?`, ${S}`:"";I&&(a+=`
        float fx_${h.key}_onShaderMask(float shaderMask ${v}) {
          ${I}
        }
        `),b&&(a+=`
          vec4 fx_${h.key}_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor${v}) {
            ${b}
          }
        `),C&&(a+=`
          vec4 fx_${h.key}_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor${v}) {
            ${C}
          }
        `)});let c="";for(const h in l)c+=l[h];let p="mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))",u=`

    `;for(let h=0;h<d.length;h++){const y=d[h],g=y.passParameters.length>0?`, ${y.passParameters}`:"",x=i[y.name];x.onShaderMask&&(u+=`
        shaderMask = fx_${y.target}_onShaderMask(shaderMask ${g});
        `),x.onColorize&&(u+=`
        maskColor = fx_${y.target}_onColorize(shaderMask, maskColor, shaderColor${g});
        `),x.onEffectMask&&(p=`fx_${y.target}_onEffectMask(shaderMask, maskColor, shaderColor${g})`);const I=d[h+1];(I===void 0||i[I.name].onEffectMask)&&(u+=`
          shaderColor = ${p};
        `)}return{effects:d,uniforms:n,fragment:be.fragment(r,c,a,u),vertex:be.vertex()}}static resolveMethodDuplicate(e,i,o,l=0){const r=e+(l>0?l:"");return o[r]&&o[r]!==i?this.resolveMethodDuplicate(e,i,o,++l):r}static resolveDefaults(e,i){return{effects:(e.effects??[]).map(o=>({type:o.type,props:i[o.type].resolveDefaults(o.props||{})})),$dimensions:{width:0,height:0},$alpha:0}}static makeCacheKey(e,i){var l;let o="";return(l=e.effects)==null||l.forEach(r=>{const f=i[r.type].getEffectKey(r.props||{});o+=`,${f}`}),`DynamicShader${o}`}};m(be,"z$__type__Props"),m(be,"vertex",()=>`
    # ifdef GL_FRAGMENT_PRESICISON_HIGH
    precision highp float;
    # else
    precision mediump float;
    # endif

    attribute vec2 a_textureCoordinate;
    attribute vec2 a_position;
    attribute vec4 a_color;
    attribute float a_textureIndex;

    uniform vec2 u_resolution;
    uniform float u_pixelRatio;

    varying vec4 v_color;
    varying vec2 v_textureCoordinate;
    varying float v_textureIndex;

    void main(){
      vec2 normalized = a_position * u_pixelRatio / u_resolution;
      vec2 zero_two = normalized * 2.0;
      vec2 clip_space = zero_two - 1.0;

      // pass to fragment
      v_color = a_color;
      v_textureCoordinate = a_textureCoordinate;
      v_textureIndex = a_textureIndex;

      // flip y
      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);
    }
  `),m(be,"fragment",(e,i,o,l)=>`
    # ifdef GL_FRAGMENT_PRESICISON_HIGH
    precision highp float;
    # else
    precision mediump float;
    # endif

    #define PI 3.14159265359

    uniform vec2 u_resolution;
    uniform vec2 u_dimensions;
    uniform float u_alpha;
    uniform float u_radius;
    uniform sampler2D u_texture;
    uniform float u_pixelRatio;

    ${e}

    varying vec4 v_color;
    varying vec2 v_textureCoordinate;

    ${i}

    ${o}

    void main() {
      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;
      vec2 d = abs(p) - (u_dimensions) * 0.5;
      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));

      vec4 shaderColor = vec4(0.0);
      float shaderMask = lng_DefaultMask;

      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;

      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));

      ${l}

      gl_FragColor = shaderColor * u_alpha;
    }
  `);let Ue=be;class No extends no{constructor(t){super({renderer:t,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_radius",uniform:"uniform1f"}]})}static resolveDefaults(t){return{radius:t.radius||10,$dimensions:{width:0,height:0}}}bindTextures(t){const{gl:e}=this;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t[0].ctxTexture)}bindProps(t){this.setUniform("u_radius",t.radius)}canBatchShaderProps(t,e){return t.radius===e.radius&&t.$dimensions.width===e.$dimensions.width&&t.$dimensions.height===e.$dimensions.height}}m(No,"z$__type__Props"),m(No,"shaderSources",{vertex:`
      # ifdef GL_FRAGMENT_PRESICISON_HIGH
      precision highp float;
      # else
      precision mediump float;
      # endif

      attribute vec2 a_position;
      attribute vec2 a_textureCoordinate;
      attribute vec4 a_color;
      attribute float a_textureIndex;
      attribute float a_depth;

      uniform vec2 u_resolution;
      uniform float u_pixelRatio;

      varying vec4 v_color;
      varying vec2 v_textureCoordinate;

      void main() {
        vec2 normalized = a_position * u_pixelRatio / u_resolution;
        vec2 zero_two = normalized * 2.0;
        vec2 clip_space = zero_two - 1.0;

        // pass to fragment
        v_color = a_color;
        v_textureCoordinate = a_textureCoordinate;

        // flip y
        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);
      }
    `,fragment:`
      # ifdef GL_FRAGMENT_PRESICISON_HIGH
      precision highp float;
      # else
      precision mediump float;
      # endif

      uniform vec2 u_resolution;
      uniform vec2 u_dimensions;
      uniform float u_radius;
      uniform sampler2D u_texture;

      varying vec4 v_color;
      varying vec2 v_textureCoordinate;

      float boxDist(vec2 p, vec2 size, float radius){
        size -= vec2(radius);
        vec2 d = abs(p) - size;
        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;
      }

      float fillMask(float dist) {
        return clamp(-dist, 0.0, 1.0);
      }

      void main() {
        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;
        vec2 halfDimensions = u_dimensions * 0.5;

        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);
        gl_FragColor = mix(vec4(0.0), color, fillMask(d));
      }
    `});const vi=new Float32Array([1,0,0,0,1,0,0,0,1]),Co=class Co extends no{constructor(t){super({renderer:t,attributes:["a_position","a_textureCoordinate"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_transform",uniform:"uniformMatrix3fv"},{name:"u_scrollY",uniform:"uniform1f"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_color",uniform:"uniform4fv"},{name:"u_size",uniform:"uniform1f"},{name:"u_distanceRange",uniform:"uniform1f"},{name:"u_debug",uniform:"uniform1i"}]})}bindTextures(t){const{gl:e}=this;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t[0].ctxTexture)}bindProps(t){const e=Co.resolveDefaults(t);for(const i in e)if(i==="transform")this.setUniform("u_transform",!1,e[i]);else if(i==="scrollY")this.setUniform("u_scrollY",e[i]);else if(i==="color"){const o=xe(e.color);this.setUniform("u_color",o)}else i==="size"?this.setUniform("u_size",e[i]):i==="distanceRange"?this.setUniform("u_distanceRange",e[i]):i==="debug"&&this.setUniform("u_debug",e[i]?1:0)}static resolveDefaults(t={}){return{transform:t.transform??vi,scrollY:t.scrollY??0,color:t.color??4294967295,size:t.size??16,distanceRange:t.distanceRange??1,debug:t.debug??!1}}};m(Co,"shaderSources",{vertex:`
      // an attribute is an input (in) to a vertex shader.
      // It will receive data from a buffer
      attribute vec2 a_position;
      attribute vec2 a_textureCoordinate;

      uniform vec2 u_resolution;
      uniform mat3 u_transform;
      uniform float u_scrollY;
      uniform float u_pixelRatio;
      uniform float u_size;

      varying vec2 v_texcoord;

      void main() {
        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);
        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;
        gl_Position = vec4((transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1), 0, 1);
        v_texcoord = a_textureCoordinate;
      }
    `,fragment:`
      precision highp float;

      uniform vec4 u_color;
      uniform sampler2D u_texture;
      uniform float u_distanceRange;
      uniform float u_pixelRatio;
      uniform int u_debug;

      varying vec2 v_texcoord;

      float median(float r, float g, float b) {
          return max(min(r, g), min(max(r, g), b));
      }

      void main() {
          vec3 sample = texture2D(u_texture, v_texcoord).rgb;
          if (u_debug == 1) {
            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);
            return;
          }
          float scaledDistRange = u_distanceRange * u_pixelRatio;
          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);
          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;

          // Build the final color.
          // IMPORTANT: We must premultiply the color by the alpha value before returning it.
          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);
      }
    `});let Ao=Co;class Ne extends le{constructor(){super(...arguments);m(this,"name","radius")}static getEffectKey(){return"radius"}static resolveDefaults(e){return{radius:e.radius??10}}}m(Ne,"z$__type__Props"),m(Ne,"uniforms",{radius:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let i=e;return Array.isArray(i)?i.length===2?i=[i[0],i[1],i[0],i[1]]:i.length===3?i=[i[0],i[1],i[2],i[0]]:i.length!==4&&(i=[i[0],i[0],i[0],i[0]]):typeof i=="number"&&(i=[i,i,i,i]),i}}}),m(Ne,"methods",{fillMask:`
      float function(float dist) {
        return clamp(-dist, 0.0, 1.0);
      }
    `,boxDist:`
      float function(vec2 p, vec2 size, float radius) {
        size -= vec2(radius);
        vec2 d = abs(p) - size;
        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;
      }
    `}),m(Ne,"onShaderMask",`
  vec2 halfDimensions = u_dimensions * 0.5;
  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);
  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);
  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);
  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);
  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);
  `),m(Ne,"onEffectMask",`
  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));
  `);class Je extends le{constructor(){super(...arguments);m(this,"name","border")}static getEffectKey(){return"border"}static resolveDefaults(e){return{width:e.width??10,color:e.color??4294967295}}}m(Je,"z$__type__Props"),m(Je,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>xe(e),method:"uniform4fv",type:"vec4"}}),m(Je,"onEffectMask",`
  float mask = clamp(shaderMask + width, 0.0, 1.0) - clamp(shaderMask, 0.0, 1.0);
  return mix(shaderColor, maskColor, mask);
  `),m(Je,"onColorize",`
    return color;
  `);class Ae extends le{constructor(){super(...arguments);m(this,"name","linearGradient")}static getEffectKey(e){return`linearGradient${e.colors.length}`}static resolveDefaults(e){const i=e.colors??[4278190080,4294967295];let o=e.stops;if(!o){o=[];const l=i.length-1;for(let r=0;r<i.length;r++)o.push(r*(1/l))}return{colors:i,stops:o,angle:e.angle??0}}}m(Ae,"z$__type__Props"),m(Ae,"uniforms",{angle:{value:0,method:"uniform1f",type:"float"},colors:{value:4294967295,validator:e=>e.map(o=>xe(o)).reduce((o,l)=>o.concat(l),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],validator:(e,i)=>{const o=i.colors??[];let l=e;const r=e;if(l.length===0||l&&l.length!==o.length){for(let n=0;n<o.length;n++)l[n]?(r[n]=l[n],l[n-1]===void 0&&r[n-2]!==void 0&&(r[n-1]=r[n-2]+(l[n]-r[n-2])/2)):r[n]=n*(1/(o.length-1));l=r}return r},size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),m(Ae,"methods",{fromLinear:`
      vec4 function(vec4 linearRGB) {
        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);
        vec4 lower = linearRGB * vec4(12.92);
        return mix(higher, lower, 1.0);
      }
    `,toLinear:`
      vec4 function(vec4 sRGB) {
        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));
        vec4 lower = sRGB/vec4(12.92);
        return mix(higher, lower, 1.0);
      }
    `,calcPoint:`
      vec2 function(float d, float angle) {
        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);
      }
    `}),m(Ae,"ColorLoop",e=>{let i="";for(let o=2;o<e;o++)i+=`colorOut = mix(colorOut, colors[${o}], clamp((dist - stops[${o-1}]) / (stops[${o}] - stops[${o-1}]), 0.0, 1.0));`;return i}),m(Ae,"onColorize",e=>`
      float a = angle - (PI / 180.0 * 90.0);
      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));
      vec2 f = $calcPoint(lineDist * 0.5, a);
      vec2 t = $calcPoint(lineDist * 0.5, a + PI);
      vec2 gradVec = t - f;
      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);

      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);
      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));
      for(int i = 1; i < ${e.colors.length||1}-1; i++) {
        stopCalc = (dist - stops[i]) / (stops[i + 1] - stops[i]);
        colorOut = mix(colorOut, colors[i + 1], clamp(stopCalc, 0.0, 1.0));
      }
      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));
    `);class Mt extends le{constructor(){super(...arguments);m(this,"name","grayscale")}static getEffectKey(){return"grayscale"}}m(Mt,"onColorize",`
    vec3 color = pow(maskColor.rgb, vec3(2.0));
    float gray = dot(color, vec3(0.2126, 0.7152, 0.0722));
    float gammaGray = sqrt(gray);
    return vec4(gammaGray, gammaGray, gammaGray, 1.0);
  `);class Oe extends le{constructor(){super(...arguments);m(this,"name","borderRight")}static getEffectKey(){return"borderRight"}static resolveDefaults(e){return{width:e.width??10,color:e.color??4294967295}}}m(Oe,"z$__type__Props"),m(Oe,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>xe(e),method:"uniform4fv",type:"vec4"}}),m(Oe,"methods",{fillMask:`
      float function(float dist) {
        return clamp(-dist, 0.0, 1.0);
      }
    `,rectDist:`
      float function(vec2 p, vec2 size) {
        vec2 d = abs(p) - size;
        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));
      }
    `}),m(Oe,"onEffectMask",`
  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);
  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));
  return mix(shaderColor, maskColor, $fillMask(mask));
  `),m(Oe,"onColorize",`
    return color;
  `);class De extends le{constructor(){super(...arguments);m(this,"name","borderTop")}static getEffectKey(){return"borderTop"}static resolveDefaults(e){return{width:e.width??10,color:e.color??4294967295}}}m(De,"z$__type__Props"),m(De,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>xe(e),method:"uniform4fv",type:"vec4"}}),m(De,"methods",{fillMask:`
      float function(float dist) {
        return clamp(-dist, 0.0, 1.0);
      }
    `,rectDist:`
      float function(vec2 p, vec2 size) {
        vec2 d = abs(p) - size;
        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));
      }
    `}),m(De,"onEffectMask",`
  vec2 pos = vec2(0.0, width * 0.5);
  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));
  return mix(shaderColor, maskColor, $fillMask(mask));
  `),m(De,"onColorize",`
    return color;
  `);class Ye extends le{constructor(){super(...arguments);m(this,"name","borderBottom")}static getEffectKey(){return"borderBottom"}static resolveDefaults(e){return{width:e.width??10,color:e.color??4294967295}}}m(Ye,"z$__type__Props"),m(Ye,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>xe(e),method:"uniform4fv",type:"vec4"}}),m(Ye,"methods",{fillMask:`
      float function(float dist) {
        return clamp(-dist, 0.0, 1.0);
      }
    `,rectDist:`
      float function(vec2 p, vec2 size) {
        vec2 d = abs(p) - size;
        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));
      }
    `}),m(Ye,"onEffectMask",`
  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);
  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));
  return mix(shaderColor, maskColor, $fillMask(mask));
  `),m(Ye,"onColorize",`
    return color;
  `);class We extends le{constructor(){super(...arguments);m(this,"name","borderLeft")}static getEffectKey(){return"borderLeft"}static resolveDefaults(e){return{width:e.width??10,color:e.color??4294967295}}}m(We,"z$__type__Props"),m(We,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>xe(e),method:"uniform4fv",type:"vec4"}}),m(We,"methods",{fillMask:`
      float function(float dist) {
        return clamp(-dist, 0.0, 1.0);
      }
    `,rectDist:`
      float function(vec2 p, vec2 size) {
        vec2 d = abs(p) - size;
        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));
      }
    `}),m(We,"onEffectMask",`
  vec2 pos = vec2(width * 0.5, 0.0);
  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));
  return mix(shaderColor, maskColor, $fillMask(mask));
  `),m(We,"onColorize",`
    return color;
  `);class eo extends le{constructor(){super(...arguments);m(this,"name","glitch")}static getEffectKey(e){return"glitch"}static resolveDefaults(e){return{amplitude:e.amplitude??.2,narrowness:e.narrowness??4,blockiness:e.blockiness??2,minimizer:e.minimizer??8,time:e.time??Date.now()}}}m(eo,"z$__type__Props"),m(eo,"uniforms",{amplitude:{value:0,method:"uniform1f",type:"float"},narrowness:{value:0,method:"uniform1f",type:"float"},blockiness:{value:0,method:"uniform1f",type:"float"},minimizer:{value:0,method:"uniform1f",type:"float"},time:{value:0,method:"uniform1f",validator:e=>(Date.now()-e)%1e3,type:"float"}}),m(eo,"methods",{rand:`
      float function(vec2 p, float time) {
        float t = floor(time * 20.) / 10.;
        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);
      }
    `,noise:`
      float function(vec2 uv, float blockiness, float time) {
        vec2 lv = fract(uv);
        vec2 id = floor(uv);

        float n1 = rand(id, time);
        float n2 = rand(id+vec2(1,0), time);
        float n3 = rand(id+vec2(0,1), time);
        float n4 = rand(id+vec2(1,1), time);
        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);
        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);
      }
    `,fbm:`
      float function(vec2 uv, int count, float blockiness, float complexity, float time) {
        float val = 0.0;
        float amp = 0.5;
        const int MAX_ITERATIONS = 10;

        for(int i = 0; i < MAX_ITERATIONS; i++) {
          if(i >= count) {break;}
          val += amp * noise(uv, blockiness, time);
          amp *= 0.5;
          uv *= complexity;
        }
        return val;
      }
    `}),m(eo,"onColorize",`
    vec2 uv = v_textureCoordinate.xy;
    float aspect = u_dimensions.x / u_dimensions.y;
    vec2 a = vec2(uv.x * aspect , uv.y);
    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));

    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);
    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);
    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);
    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);

    vec3 f = vec3(colR, colG, colB);
    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);
  `);class mo extends le{constructor(){super(...arguments);m(this,"name","fadeOut")}static getEffectKey(){return"fadeOut"}static resolveDefaults(e){return{fade:e.fade??10}}}m(mo,"z$__type__Props"),m(mo,"uniforms",{fade:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let i=e;return Array.isArray(i)?i.length===2?i=[i[0],i[1],i[0],i[1]]:i.length===3?i=[i[0],i[1],i[2],i[0]]:i.length!==4&&(i=[i[0],i[0],i[0],i[0]]):typeof i=="number"&&(i=[i,i,i,i]),i}}}),m(mo,"onColorize",`
  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;
  vec2 pos1;
  vec2 pos2;
  vec2 d;
  float c;
  vec4 result = maskColor;


  if(fade[0] > 0.0) {
    pos1 = vec2(point.x, point.y);
    pos2 = vec2(point.x, point.y + fade[0]);
    d = pos2 - pos1;
    c = dot(pos1, d) / dot(d, d);
    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));
  }

  if(fade[1] > 0.0) {
    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);
    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);
    d = pos1 - pos2;
    c = dot(pos2, d) / dot(d, d);
    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));
  }

  if(fade[2] > 0.0) {
    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);
    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);
    d = pos1 - pos2;
    c = dot(pos2, d) / dot(d, d);
    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));
  }

  if(fade[3] > 0.0) {
    pos1 = vec2(point.x, point.y);
    pos2 = vec2(point.x + fade[3], point.y);
    d = pos2 - pos1;
    c = dot(pos1, d) / dot(d, d);
    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));
  }

  return result;
  `);class yo extends le{constructor(){super(...arguments);m(this,"name","radialGradient")}static getEffectKey(e){return`radialGradient${e.colors.length}`}static resolveDefaults(e){const i=e.colors??[4278190080,4294967295];let o=e.stops;if(!o){o=[];const l=i.length-1;for(let r=0;r<i.length;r++)o.push(r*(1/l))}return{colors:i,stops:o,width:e.width??0,height:e.height??e.width??0,pivot:e.pivot??[.5,.5]}}}m(yo,"z$__type__Props"),m(yo,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},pivot:{value:[.5,.5],method:"uniform2fv",type:"vec2"},colors:{value:4294967295,validator:e=>e.map(o=>xe(o)).reduce((o,l)=>o.concat(l),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],validator:(e,i)=>{const o=i.colors??[];let l=e;const r=e;if(l.length===0||l&&l.length!==o.length){for(let n=0;n<o.length;n++)l[n]?(r[n]=l[n],l[n-1]===void 0&&r[n-2]!==void 0&&(r[n-1]=r[n-2]+(l[n]-r[n-2])/2)):r[n]=n*(1/(o.length-1));l=r}return r},size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),m(yo,"onColorize",e=>`
      vec2 point = v_textureCoordinate.xy * u_dimensions;
      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);

      float dist = length((point - projection) / vec2(width, height));

      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);
      vec4 colorOut = mix(colors[0], colors[1], stopCalc);
      for(int i = 1; i < ${e.colors.length||1}-1; i++) {
        stopCalc = (dist - stops[i]) / (stops[i + 1] - stops[i]);
        colorOut = mix(colorOut, colors[i + 1], clamp(stopCalc, 0.0, 1.0));
      }
      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));
    `);class qe extends le{constructor(){super(...arguments);m(this,"name","radialProgress")}static getEffectKey(){return"radialProgress"}static resolveDefaults(e){return{width:e.width??10,progress:e.progress??.5,offset:e.offset??0,range:e.range??Math.PI*2,rounded:e.rounded??!1,radius:e.radius??1,color:e.color??4294967295}}}m(qe,"z$__type__Props"),m(qe,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},progress:{value:.5,method:"uniform1f",type:"float"},offset:{value:0,method:"uniform1f",type:"float"},range:{value:0,method:"uniform1f",type:"float"},rounded:{value:0,method:"uniform1f",type:"float",validator:e=>e?1:0},radius:{value:1,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>xe(e),method:"uniform4fv",type:"vec4"}}),m(qe,"methods",{rotateUV:`
    vec2 function(vec2 uv, float d) {
      float s = sin(d);
      float c = cos(d);
      mat2 rotMatrix = mat2(c, -s, s, c);
      return uv * rotMatrix;
    }
    `,drawDot:`
    float function(vec2 uv, vec2 p, float r) {
      uv += p;
      float circle = length(uv) - r;
      return clamp(-circle, 0.0, 1.0);
    }
    `}),m(qe,"onEffectMask",`
    float outerRadius = radius * u_dimensions.y * 0.5;

    float endAngle = range * progress - 0.0005;

    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;

    uv = $rotateUV(uv, -(offset));
    float linewidth = width * u_pixelRatio;
    float circle = length(uv) - (outerRadius - linewidth) ;
    circle = abs(circle) - linewidth;
    circle = clamp(-circle, 0.0, 1.0);

    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);
    float p = endAngle / (PI * 2.);

    circle *= step(fract(angle), fract(p));

    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));
    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));

    return mix(shaderColor, maskColor, circle);
  `),m(qe,"onColorize",`
    return color;
  `);class Ti{constructor(){m(this,"shCache",new Map);m(this,"shConstructors",{});m(this,"attachedShader",null);m(this,"effectConstructors",{});m(this,"renderer");this.registerShaderType("DefaultShader",Rt),this.registerShaderType("DefaultShaderBatched",zt),this.registerShaderType("RoundedRectangle",No),this.registerShaderType("DynamicShader",Ue),this.registerShaderType("SdfShader",Ao),this.registerEffectType("border",Je),this.registerEffectType("borderBottom",Ye),this.registerEffectType("borderLeft",We),this.registerEffectType("borderRight",Oe),this.registerEffectType("borderTop",De),this.registerEffectType("fadeOut",mo),this.registerEffectType("linearGradient",Ae),this.registerEffectType("radialGradient",yo),this.registerEffectType("grayscale",Mt),this.registerEffectType("glitch",eo),this.registerEffectType("radius",Ne),this.registerEffectType("radialProgress",qe)}registerShaderType(t,e){this.shConstructors[t]=e}registerEffectType(t,e){this.effectConstructors[t]=e}getRegisteredEffects(){return this.effectConstructors}getRegisteredShaders(){return this.shConstructors}loadShader(t,e){if(!this.renderer)throw new Error("Renderer is not been defined");const i=this.shConstructors[t];if(!i)throw new Error(`Shader type "${t}" is not registered`);if(t==="DynamicShader")return this.loadDynamicShader(e);const o=i.resolveDefaults(e),l=i.makeCacheKey(o)||i.name;if(l&&this.shCache.has(l))return{shader:this.shCache.get(l),props:o};const r=new i(this.renderer,e);return l&&this.shCache.set(l,r),{shader:r,props:o}}loadDynamicShader(t){if(!this.renderer)throw new Error("Renderer is not been defined");const e=Ue.resolveDefaults(t,this.effectConstructors),i=Ue.makeCacheKey(e,this.effectConstructors);if(i&&this.shCache.has(i))return{shader:this.shCache.get(i),props:e};const o=new Ue(this.renderer,t,this.effectConstructors);return i&&this.shCache.set(i,o),{shader:o,props:e}}useShader(t){this.attachedShader!==t&&(this.attachedShader&&this.attachedShader.detach(),t.attach(),this.attachedShader=t)}}class _i{constructor(){m(this,"activeAnimations",new Set)}registerAnimation(t){this.activeAnimations.add(t)}unregisterAnimation(t){this.activeAnimations.delete(t)}update(t){this.activeAnimations.forEach(e=>{e.update(t)})}}const to=class to extends Ct{constructor(e,i){super(e);m(this,"props");this.props=to.resolveDefaults(i)}async getTextureData(){const{src:e,premultiplyAlpha:i}=this.props;if(!e)return{data:null};if(e instanceof ImageData)return{data:e,premultiplyAlpha:i};const l=await(await fetch(e)).blob();return{data:await createImageBitmap(l,{premultiplyAlpha:i?"premultiply":"none",colorSpaceConversion:"none",imageOrientation:"none"})}}static makeCacheKey(e){const i=to.resolveDefaults(e);return i.src instanceof ImageData?!1:`ImageTexture,${i.src},${i.premultiplyAlpha}`}static resolveDefaults(e){return{src:e.src??"",premultiplyAlpha:e.premultiplyAlpha??!0}}};m(to,"z$__type__Props");let Oo=to;const io=class io extends Ct{constructor(e,i){super(e);m(this,"props");this.props=io.resolveDefaults(i)}async getTextureData(){const{width:e,height:i}=this.props,o=e*i*4,l=new Uint8ClampedArray(o);for(let r=0;r<o;r+=4){const n=Math.floor(Math.random()*256);l[r]=n,l[r+1]=n,l[r+2]=n,l[r+3]=255}return{data:new ImageData(l,e,i)}}static makeCacheKey(e){const i=io.resolveDefaults(e);return`NoiseTexture,${i.width},${i.height},${i.cacheId}`}static resolveDefaults(e){return{width:e.width??128,height:e.height??128,cacheId:e.cacheId??0}}};m(io,"z$__type__Props");let Do=io;class ki{constructor(){m(this,"usedMemory",0);m(this,"txConstructors",{});m(this,"textureKeyCache",new Map);m(this,"textureIdCache",new Map);m(this,"ctxTextureCache",new WeakMap);m(this,"textureRefCountMap",new WeakMap);m(this,"renderer");this.registerTextureType("ImageTexture",Oo),this.registerTextureType("ColorTexture",ti),this.registerTextureType("NoiseTexture",Do),this.registerTextureType("SubTexture",ii)}registerTextureType(t,e){this.txConstructors[t]=e}loadTexture(t,e,i=null){const o=this.txConstructors[t];if(!o)throw new Error(`Texture type "${t}" is not registered`);let l;if((i==null?void 0:i.id)!==void 0&&this.textureIdCache.has(i.id)&&(l=this.textureIdCache.get(i.id)),!l){const r=i==null?void 0:i.id,n=(i==null?void 0:i.cacheKey)??o.makeCacheKey(e);n&&this.textureKeyCache.has(n)?l=this.textureKeyCache.get(n):l=new o(this,e),r&&this.addTextureIdToCache(r,n,l)}return i!=null&&i.preload&&this.getCtxTexture(l).load(),l}addTextureIdToCache(t,e,i){const{textureIdCache:o,textureRefCountMap:l}=this;o.set(t,i),l.has(i)?l.get(i).count++:(l.set(i,{cacheKey:e,count:1}),e&&this.textureKeyCache.set(e,i))}removeTextureIdFromCache(t){const{textureIdCache:e,textureRefCountMap:i}=this,o=e.get(t);if(o&&(e.delete(t),i.has(o))){const l=i.get(o);Y(l),l.count--,l.count===0&&(i.delete(o),l.cacheKey&&this.textureKeyCache.delete(l.cacheKey))}}getDebugInfo(){return{keyCacheSize:this.textureKeyCache.size,idCacheSize:this.textureIdCache.size}}getCtxTexture(t){if(this.ctxTextureCache.has(t))return this.ctxTextureCache.get(t);const e=this.renderer.createCtxTexture(t);return this.ctxTextureCache.set(t,e),e}}class Et{constructor(t){m(this,"textRenderers");this.textRenderers=t}addFontFace(t){for(const e in this.textRenderers){const i=this.textRenderers[e];i&&i.isFontFaceSupported(t)&&i.addFontFace(t)}}static resolveFontFace(t,e){const i=[];return t.reduce((l,r)=>{if(l)return l;const n=r[e.fontFamily];if(!n)return;const f=new Set(n);for(const d of f)(d.descriptors.stretch!==e.fontStretch||d.descriptors.style!==e.fontStyle||d.descriptors.weight!==e.fontWeight)&&f.delete(d);return f.values().next().value},void 0)||i[0]}}const $i={x:(s,t)=>{s.props.x=t},y:(s,t)=>{s.props.y=t},width:(s,t)=>{s.props.width=t},height:(s,t)=>{s.props.height=t},color:(s,t)=>{s.props.color=t},zIndex:(s,t)=>{s.props.zIndex=t},fontFamily:(s,t)=>{s.props.fontFamily=t},fontWeight:(s,t)=>{s.props.fontWeight=t},fontStyle:(s,t)=>{s.props.fontStyle=t},fontStretch:(s,t)=>{s.props.fontStretch=t},fontSize:(s,t)=>{s.props.fontSize=t},text:(s,t)=>{s.props.text=t},textAlign:(s,t)=>{s.props.textAlign=t},contain:(s,t)=>{s.props.contain=t},offsetY:(s,t)=>{s.props.offsetY=t},scrollable:(s,t)=>{s.props.scrollable=t},scrollY:(s,t)=>{s.props.scrollY=t},letterSpacing:(s,t)=>{s.props.letterSpacing=t},debug:(s,t)=>{s.props.debug=t}};class Lt{constructor(t){m(this,"stage");m(this,"set");this.stage=t;const e={...$i,...this.getPropertySetters()};this.set=Object.freeze(Object.fromEntries(Object.entries(e).map(([i,o])=>[i,(l,r)=>{l.props[i]!==r&&o(l,r)}])))}setStatus(t,e,i){t.status!==e&&(t.status=e,t.emitter.emit(e,i))}scheduleUpdateState(t){t.updateScheduled||(t.updateScheduled=!0,queueMicrotask(()=>{t.updateScheduled=!1,this.updateState(t)}))}}const Ri=24;function zi(s,t,e,i,o,l,r){let n=0;o&&(n=Math.min(Math.max(Math.floor(o.y1/s),0),l.length));const f=0,d=t/e+n*i;if(!(r&&d>=r/e))return{x:f,y:d,lineIndex:n}}class go{constructor(t,e=0){m(this,"iterator");m(this,"peekBuffer",[]);m(this,"_lastIndex");this.iterator=t,this.iterator=t,this._lastIndex=e-1,this.peekBuffer=[]}next(){const t=this.peekBuffer.length>0?this.peekBuffer.pop():this.iterator.next();return t.done?this._lastIndex=-1:this._lastIndex++,t}peek(){if(this.peekBuffer.length>0)return this.peekBuffer[0];const t=this.iterator.next();return this.peekBuffer.push(t),t}get lastIndex(){return this._lastIndex}}function*xo(s,t=0){let e=t;for(;e<s.length;){const i=s.codePointAt(e);if(i===void 0)throw new Error("Invalid Unicode code point");yield i,e+=i<=65535?1:2}}function Mi(s,t,e){const i=e.shapeText(t,new go(xo(s,0),0));let o=0;for(const l of i)l.mapped&&(o+=l.xAdvance);return o}function Ei(s,t,e,i,o,l,r,n,f,d,a,c,p,u,h,y){Y(u,"Font face must be loaded"),Y(u.loaded,"Font face must be loaded"),Y(u.data,"Font face must be loaded"),Y(u.shaper,"Font face must be loaded");const g=u.data.info.size,x=n/g,I=l/x,b=f/x,C=c[s],S=(C==null?void 0:C.codepointIndex)||0,v=(C==null?void 0:C.maxX)||0,_=(C==null?void 0:C.maxY)||0;let T=v,$=_,R=t,z=e,k=0;const M={codepointIndex:-1,bufferOffset:-1,xStart:-1},F=u.shaper,B={letterSpacing:b};let E=F.shapeText(B,new go(xo(i,S),S)),L,U=-1;const A=[],q="...",N=r/x,G=Mi(q,B,F);let X=!0;for(;X;){const H=a!=="both"||y||z+g+g<=N,O=H?I:I-G;let V=0;for(;(L=E.next())&&!L.done;){const D=L.value;if(s===c.length)c.push({codepointIndex:D.cluster,maxY:$,maxX:T});else if(s>c.length)throw new Error("Unexpected lineCache length");if(D.codepoint===32||D.codepoint===10?M.codepointIndex!==-1&&(M.codepointIndex=-1,V=R):M.codepointIndex===-1&&(M.codepointIndex=D.cluster,M.bufferOffset=k,M.xStart=V),D.mapped){const Z=R+D.xOffset+D.width;if(a!=="none"&&Z>=O&&M.codepointIndex!==-1&&M.codepointIndex<D.cluster&&M.xStart>0)if(H){E=F.shapeText(B,new go(xo(i,M.codepointIndex),M.codepointIndex)),k=M.bufferOffset;break}else E=F.shapeText(B,new go(xo(q,0),0)),R=M.xStart,k=M.bufferOffset;else{const Q=R+D.xOffset,ee=z+D.yOffset,re=p?z+g>=p.y1/x:!0,ue=p?z<=p.y2/x:!0;if(re&&ue){U===-1&&(U=k);const ae=u.getAtlasEntry(D.glyphId),ne=ae.x/u.data.common.scaleW,ge=ae.y/u.data.common.scaleH,Fe=ae.width/u.data.common.scaleW,Be=ae.height/u.data.common.scaleH;d[k++]=Q,d[k++]=ee,d[k++]=ne,d[k++]=ge,d[k++]=Q+D.width,d[k++]=ee,d[k++]=ne+Fe,d[k++]=ge,d[k++]=Q,d[k++]=ee+D.height,d[k++]=ne,d[k++]=ge+Be,d[k++]=Q+D.width,d[k++]=ee+D.height,d[k++]=ne+Fe,d[k++]=ge+Be}$=Math.max($,ee+D.height),R+=D.xAdvance,T=Math.max(T,R)}}else if(D.codepoint===10)break}U!==-1&&(A.push({bufferStart:U,bufferEnd:k}),U=-1),R=0,z+=g,s++,M.codepointIndex=-1,V=0,(!h&&a==="both"&&p&&z>p.y2/x||L&&L.done||a==="both"&&!y&&!H)&&(X=!1)}if(o==="center"){const H=a==="none"?T:I;for(let O=0;O<A.length;O++){const V=A[O],D=d[V.bufferEnd-4]-d[V.bufferStart],Z=(H-D)/2;for(let Q=V.bufferStart;Q<V.bufferEnd;Q+=4)d[Q]+=Z}}else if(o==="right"){const H=a==="none"?T:I;for(let O=0;O<A.length;O++){const V=A[O],D=V.bufferEnd===V.bufferStart?0:d[V.bufferEnd-4]-d[V.bufferStart],Z=H-D;for(let Q=V.bufferStart;Q<V.bufferEnd;Q+=4)d[Q]+=Z}}return Y(L),{bufferNumFloats:k,bufferNumQuads:k/16,layoutNumCharacters:L.done?i.length-S:L.value.cluster-S+1,fullyProcessed:!!L.done,maxX:T,maxY:$}}function Li(s,t,e,i,o,l){const r=i*o,n=l.x1-s,f=l.y1-t;return si(l)?{x1:n,y1:f+e-r,x2:n+(l.x2-l.x1),y2:f+e+(l.y2-l.y1)+r}:{x1:0,y1:0,x2:0,y2:0}}const Fi=vo(0,0,0,0);class Bi extends Lt{constructor(e){super(e);m(this,"ssdfFontFamilies",{});m(this,"msdfFontFamilies",{});m(this,"sdfShader");m(this,"rendererBounds");this.sdfShader=this.stage.shManager.loadShader("SdfShader").shader,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight}}getPropertySetters(){return{fontFamily:(e,i)=>{e.props.fontFamily=i,e.trFontFace=void 0,this.invalidateLayoutCache(e)},fontWeight:(e,i)=>{e.props.fontWeight=i,e.trFontFace=void 0,this.invalidateLayoutCache(e)},fontStyle:(e,i)=>{e.props.fontStyle=i,e.trFontFace=void 0,this.invalidateLayoutCache(e)},fontStretch:(e,i)=>{e.props.fontStretch=i,e.trFontFace=void 0,this.invalidateLayoutCache(e)},fontSize:(e,i)=>{e.props.fontSize=i,this.invalidateLayoutCache(e)},text:(e,i)=>{e.props.text=i,this.invalidateLayoutCache(e)},textAlign:(e,i)=>{e.props.textAlign=i,this.invalidateLayoutCache(e)},color:(e,i)=>{e.props.color=i},x:(e,i)=>{e.props.x=i,this.invalidateVisibleWindowCache(e)},y:(e,i)=>{e.props.y=i,this.invalidateVisibleWindowCache(e)},contain:(e,i)=>{e.props.contain=i,this.invalidateLayoutCache(e)},width:(e,i)=>{e.props.width=i,this.invalidateLayoutCache(e)},height:(e,i)=>{e.props.height=i,this.invalidateLayoutCache(e)},offsetY:(e,i)=>{e.props.offsetY=i,this.invalidateLayoutCache(e)},scrollable:(e,i)=>{e.props.scrollable=i,this.invalidateLayoutCache(e)},scrollY:(e,i)=>{e.props.scrollY=i,this.scheduleUpdateState(e)},letterSpacing:(e,i)=>{e.props.letterSpacing=i,this.invalidateLayoutCache(e)},debug:(e,i)=>{e.props.debug=i}}}canRenderFont(e){const{fontFamily:i}=e;return i in this.ssdfFontFamilies||i in this.msdfFontFamilies||i==="$$SDF_FAILURE_TEST$$"}isFontFaceSupported(e){return e instanceof ot}addFontFace(e){Y(e instanceof ot);const i=e.fontFamily,o=e.type==="ssdf"?this.ssdfFontFamilies:e.type==="msdf"?this.msdfFontFamilies:void 0;if(!o){console.warn(`Invalid font face type: ${e.type}`);return}let l=o[i];l||(l=new Set,o[i]=l),l.add(e)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new Ee,lineCache:[],forceFullLayoutCalc:!1,renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},bufferNumFloats:0,bufferNumQuads:0,vertexBuffer:void 0,webGlBuffers:null,bufferUploaded:!1,textH:void 0,textW:void 0,distanceRange:0,trFontFace:void 0,debugData:{updateCount:0,layoutCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,drawCount:0,bufferSize:0}}}updateState(e){let{trFontFace:i}=e;const{textH:o,lineCache:l,debugData:r,forceFullLayoutCalc:n}=e;if(r.updateCount++,e.status==="initialState"&&this.setStatus(e,"loading"),!i&&(i=this.resolveFontFace(e.props),e.trFontFace=i,!i)){const k=`SdfTextRenderer: Could not resolve font face for family: '${e.props.fontFamily}'`;console.error(k),this.setStatus(e,"failed",new Error(k));return}if(!i.loaded){i.once("loaded",()=>{this.scheduleUpdateState(e)});return}Y(i.data,"Font face data should be loaded");const{text:f,fontSize:d,x:a,y:c,contain:p,width:u,height:h,scrollable:y}=e.props,g=p==="both"&&y?e.props.scrollY:0;let{renderWindow:x}=e;const I=i.data.info.size,b=d/I;e.distanceRange=b*i.data.distanceField.distanceRange;const C=f.length*Ri;let S=e.vertexBuffer;(!S||S.length<C)&&(S=new Float32Array(C*2));const v=e.visibleWindow;if(!v.valid){const k=vo(a,c,p!=="none"?a+u:1/0,p==="both"?c+h:1/0,Fi);vt(this.rendererBounds,k,e.visibleWindow),v.valid=!0}if(!n&&x){if(a+x.x1<=v.x1&&a+x.x2>=v.x2&&c-g+x.y1<=v.y1&&c-g+x.y2>=v.y2){this.setStatus(e,"loaded");return}x=e.renderWindow=void 0,this.setStatus(e,"loading")}const{offsetY:_,textAlign:T}=e.props;if(!x){const k=v.y2-v.y1,M=Math.ceil(k/I);x=Li(a,c,g,I,M,v)}const $=zi(d,_,b,I,x,l,o);if(!$){this.setStatus(e,"loaded");return}const{letterSpacing:R}=e.props,z=Ei($.lineIndex,$.x,$.y,f,T,u,h,d,R,S,p,l,x,i,n,y);e.bufferUploaded=!1,e.bufferNumFloats=z.bufferNumFloats,e.bufferNumQuads=z.bufferNumQuads,e.vertexBuffer=S,e.renderWindow=x,r.lastLayoutNumCharacters=z.layoutNumCharacters,r.bufferSize=S.byteLength,z.fullyProcessed&&(e.textW=z.maxX*b,e.textH=z.maxY*b),this.setStatus(e,"loaded")}renderQuads(e,i,o,l){var T,$;if(!e.vertexBuffer)return;performance.now();const{renderer:r}=this.stage;this.stage.options;const{fontSize:n,color:f,contain:d,scrollable:a,zIndex:c,debug:p}=e.props,u=d==="both"&&a?e.props.scrollY:0,{textW:h=0,textH:y=0,distanceRange:g,vertexBuffer:x,bufferUploaded:I,trFontFace:b}=e;let{webGlBuffers:C}=e;if(!C){const R=r.gl,z=4*Float32Array.BYTES_PER_ELEMENT,k=R.createBuffer();Y(k),e.webGlBuffers=new ni([{buffer:k,attributes:{a_position:{name:"a_position",size:2,type:R.FLOAT,normalized:!1,stride:z,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:R.FLOAT,normalized:!1,stride:z,offset:2*Float32Array.BYTES_PER_ELEMENT}}}]),e.bufferUploaded=!1,Y(e.webGlBuffers),C=e.webGlBuffers}if(!I){const R=r.gl,z=(C==null?void 0:C.getBuffer("a_textureCoordinate"))??null;R.bindBuffer(R.ARRAY_BUFFER,z),R.bufferData(R.ARRAY_BUFFER,x,R.STATIC_DRAW),e.bufferUploaded=!0}Y(b);const S=new ri(r.gl,r.options,C,this.sdfShader,{transform:i.data,color:li(f,l),size:n/(((T=b.data)==null?void 0:T.info.size)||0),scrollY:u,distanceRange:g,debug:p.sdfShaderDebug},l,o,{height:y,width:h},0,c),v=($=e.trFontFace)==null?void 0:$.texture;Y(v);const _=this.stage.txManager.getCtxTexture(v);S.addTexture(_),S.length=e.bufferNumFloats,S.numQuads=e.bufferNumQuads,r.addRenderOp(S)}resolveFontFace(e){return Et.resolveFontFace([this.msdfFontFamilies,this.ssdfFontFamilies],e)}invalidateVisibleWindowCache(e){e.visibleWindow.valid=!1,this.scheduleUpdateState(e)}invalidateLayoutCache(e){e.visibleWindow.valid=!1,e.renderWindow=void 0,e.textH=void 0,e.textW=void 0,e.lineCache=[],this.setStatus(e,"loading"),this.scheduleUpdateState(e)}}const it=2048;class Pi{constructor(t,e){m(this,"_canvas");m(this,"_context");m(this,"_settings");m(this,"renderInfo");this._canvas=t,this._context=e,this._settings=this.mergeDefaults({})}set settings(t){this._settings=this.mergeDefaults(t)}get settings(){return this._settings}getPrecision(){return this._settings.precision}setFontProperties(){this._context.font=this._getFontSetting(),this._context.textBaseline=this._settings.textBaseline}_getFontSetting(){const t=[this._settings.fontFace],e=[];for(let i=0,o=t.length;i<o;i++)t[i]==="serif"||t[i]==="sans-serif"?e.push(t[i]):e.push(`"${t[i]}"`);return`${this._settings.fontStyle} ${this._settings.fontSize*this.getPrecision()}px ${e.join(",")}`}_load(){if(document.fonts){const t=this._getFontSetting();try{if(!document.fonts.check(t,this._settings.text))return document.fonts.load(t,this._settings.text).catch(e=>{console.warn("[Lightning] Font load error",e,t)}).then(()=>{document.fonts.check(t,this._settings.text)||console.warn("[Lightning] Font not found",t)})}catch{console.warn("[Lightning] Can't check font loading for "+t)}}}calculateRenderInfo(){const t={},e=this.getPrecision(),i=this._settings.paddingLeft*e,o=this._settings.paddingRight*e,l=this._settings.fontSize*e;let r=this._settings.offsetY===null?null:this._settings.offsetY*e,n=(this._settings.lineHeight||l)*e;const f=this._settings.w*e,d=this._settings.h*e;let a=this._settings.wordWrapWidth*e;const c=this._settings.cutSx*e,p=this._settings.cutEx*e,u=this._settings.cutSy*e,h=this._settings.cutEy*e,y=(this._settings.letterSpacing||0)*e,g=this._settings.textIndent*e;this.setFontProperties();let x=f||2048/this.getPrecision(),I=x-i;if(I<10&&(x+=10-I,I=10),a||(a=I),this._settings.textOverflow&&!this._settings.wordWrap){let T;switch(this._settings.textOverflow){case"clip":T="";break;case"ellipsis":T=this._settings.maxLinesSuffix;break;default:T=this._settings.textOverflow}this._settings.text=this.wrapWord(this._settings.text,a-g,T)}let b;if(this._settings.wordWrap)b=this.wrapText(this._settings.text,a,y,g);else{b={l:this._settings.text.split(/(?:\r\n|\r|\n)/),n:[]};const T=b.l.length;for(let $=0;$<T-1;$++)b.n.push($)}let C=b.l;if(this._settings.maxLines&&C.length>this._settings.maxLines){const T=C.slice(0,this._settings.maxLines);let $=null;if(this._settings.maxLinesSuffix){const F=this._settings.maxLinesSuffix?this.measureText(this._settings.maxLinesSuffix):0,B=this.wrapText(T[T.length-1],a-F,y,g);T[T.length-1]=`${B.l[0]}${this._settings.maxLinesSuffix}`,$=[B.l.length>1?B.l[1]:""]}else $=[""];let R;const z=C.length;let k=0;const M=b.n.length;for(R=this._settings.maxLines;R<z;R++)$[k]+=`${$[k]?" ":""}${C[R]}`,R+1<M&&b.n[R+1]&&k++;t.remainingText=$.join(`
`),t.moreTextLines=!0,C=T}else t.moreTextLines=!1,t.remainingText="";let S=0;const v=[];for(let T=0;T<C.length;T++){const $=this.measureText(C[T],y)+(T===0?g:0);v.push($),S=Math.max(S,$)}t.lineWidths=v,f||(x=S+i+o,I=S),n=n||l;let _;if(d)_=d;else{const T=this._settings.textBaseline!="bottom"?.5*l:0;_=n*(C.length-1)+T+Math.max(n,l)+(r||0)}return r===null&&(r=l),t.w=x,t.h=_,t.lines=C,t.precision=e,x||(x=1),_||(_=1),(c||p)&&(x=Math.min(x,p-c)),(u||h)&&(_=Math.min(_,h-u)),t.width=x,t.innerWidth=I,t.height=_,t.fontSize=l,t.cutSx=c,t.cutSy=u,t.cutEx=p,t.cutEy=h,t.lineHeight=n,t.lineWidths=v,t.offsetY=r,t.paddingLeft=i,t.paddingRight=o,t.letterSpacing=y,t.textIndent=g,t}draw(t,e){const i=this.getPrecision(),o=(e==null?void 0:e.lines)||t.lines,l=(e==null?void 0:e.lineWidths)||t.lineWidths,r=e?e.lines.length*t.lineHeight:t.height;this._canvas.width=Math.min(Math.ceil(t.width+this._settings.textRenderIssueMargin),it),this._canvas.height=Math.min(Math.ceil(r),it),this.setFontProperties(),t.fontSize>=128&&(this._context.globalAlpha=.01,this._context.fillRect(0,0,.01,.01),this._context.globalAlpha=1),(t.cutSx||t.cutSy)&&this._context.translate(-t.cutSx,-t.cutSy);let n,f;const d=[];for(let c=0,p=o.length;c<p;c++)n=c===0?t.textIndent:0,f=c*t.lineHeight+t.offsetY,this._settings.verticalAlign=="middle"?f+=(t.lineHeight-t.fontSize)/2:this._settings.verticalAlign=="bottom"&&(f+=t.lineHeight-t.fontSize),this._settings.textAlign==="right"?n+=t.innerWidth-l[c]:this._settings.textAlign==="center"&&(n+=(t.innerWidth-l[c])/2),n+=t.paddingLeft,d.push({text:o[c],x:n,y:f,w:l[c]});if(this._settings.highlight){const c=this._settings.highlightColor,p=this._settings.highlightHeight*i||t.fontSize*1.5,u=this._settings.highlightOffset*i,h=this._settings.highlightPaddingLeft!==null?this._settings.highlightPaddingLeft*i:t.paddingLeft,y=this._settings.highlightPaddingRight!==null?this._settings.highlightPaddingRight*i:t.paddingRight;this._context.fillStyle=ko(c);for(let g=0;g<d.length;g++){const x=d[g];this._context.fillRect(x.x-h,x.y-t.offsetY+u,x.w+y+h,p)}}let a=null;this._settings.shadow&&(a=[this._context.shadowColor,this._context.shadowOffsetX,this._context.shadowOffsetY,this._context.shadowBlur],this._context.shadowColor=ko(this._settings.shadowColor),this._context.shadowOffsetX=this._settings.shadowOffsetX*i,this._context.shadowOffsetY=this._settings.shadowOffsetY*i,this._context.shadowBlur=this._settings.shadowBlur*i),this._context.fillStyle=ko(this._settings.textColor);for(let c=0,p=d.length;c<p;c++){const u=d[c];if(t.letterSpacing===0)this._context.fillText(u.text,u.x,u.y);else{const h=u.text.split("");let y=u.x;for(let g=0,x=h.length;g<x;g++)this._context.fillText(h[g],y,u.y),y+=this.measureText(h[g],t.letterSpacing)}}a&&(this._context.shadowColor=a[0],this._context.shadowOffsetX=a[1],this._context.shadowOffsetY=a[2],this._context.shadowBlur=a[3]),(t.cutSx||t.cutSy)&&this._context.translate(t.cutSx,t.cutSy),this.renderInfo=t}wrapWord(t,e,i){const o=this._context.measureText(i).width,l=t.length,r=this._context.measureText(t).width;if(r<=e)return t;let n=Math.floor(e*l/r),f=this._context.measureText(t.substring(0,n)).width+o;if(f>e)for(;n>0&&(f=this._context.measureText(t.substring(0,n)).width+o,f>e);)n-=1;else for(;n<l;)if(f=this._context.measureText(t.substring(0,n)).width+o,f<e)n+=1;else{n-=1;break}return t.substring(0,n)+(e>=o?i:"")}wrapText(t,e,i,o=0){const l=t.split(/\r?\n/g);let r=[];const n=[];for(let f=0;f<l.length;f++){const d=[];let a="",c=e-o;const p=l[f].split(" ");for(let u=0;u<p.length;u++){const h=this.measureText(p[u],i),y=h+this.measureText(" ",i);u===0||y>c?(u>0&&(d.push(a),a=""),a+=p[u],c=e-h-(u===0?o:0)):(c-=y,a+=` ${p[u]}`)}d.push(a),a="",r=r.concat(d),f<l.length-1&&n.push(r.length)}return{l:r,n}}measureText(t,e=0){return e?t.split("").reduce((i,o)=>i+this._context.measureText(o).width+e,0):this._context.measureText(t).width}mergeDefaults(t){return{text:"",w:0,h:0,fontStyle:"normal",fontSize:40,fontFace:null,wordWrap:!0,wordWrapWidth:0,wordBreak:!1,textOverflow:"",lineHeight:null,textBaseline:"alphabetic",textAlign:"left",verticalAlign:"top",offsetY:null,maxLines:0,maxLinesSuffix:"..",textColor:[1,1,1,1],paddingLeft:0,paddingRight:0,shadow:!1,shadowColor:[0,0,0,1],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,highlight:!1,highlightHeight:0,highlightColor:[0,0,0,1],highlightOffset:0,highlightPaddingLeft:0,highlightPaddingRight:0,letterSpacing:0,textIndent:0,cutSx:0,cutEx:0,cutSy:0,cutEy:0,advancedRenderer:!1,fontBaselineRatio:0,precision:1,textRenderIssueMargin:0,...t}}}const st=typeof self>"u"?globalThis:self;var It;const nt=((It=st.document)==null?void 0:It.fonts)||st.fonts;function Ni(s){const{fontFamily:t,fontStyle:e,fontWeight:i,fontStretch:o,fontSize:l}=s;return[e,i,o,`${l}px`,t].join(" ")}const Ai=vo(0,0,0,0);class Oi extends Lt{constructor(e){super(e);m(this,"canvas");m(this,"context");m(this,"rendererBounds");typeof OffscreenCanvas<"u"?this.canvas=new OffscreenCanvas(0,0):this.canvas=document.createElement("canvas");let i=this.canvas.getContext("2d");i||(this.canvas=document.createElement("canvas"),i=this.canvas.getContext("2d")),Y(i),this.context=i,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight}}getPropertySetters(){return{fontFamily:(e,i)=>{e.props.fontFamily=i,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontWeight:(e,i)=>{e.props.fontWeight=i,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStyle:(e,i)=>{e.props.fontStyle=i,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStretch:(e,i)=>{e.props.fontStretch=i,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontSize:(e,i)=>{e.props.fontSize=i,e.fontInfo=void 0,this.invalidateLayoutCache(e)},text:(e,i)=>{e.props.text=i,this.invalidateLayoutCache(e)},textAlign:(e,i)=>{e.props.textAlign=i,this.invalidateLayoutCache(e)},color:(e,i)=>{e.props.color=i,this.invalidateLayoutCache(e)},x:(e,i)=>{e.props.x=i,this.invalidateVisibleWindowCache(e)},y:(e,i)=>{e.props.y=i,this.invalidateVisibleWindowCache(e)},contain:(e,i)=>{e.props.contain=i,this.invalidateLayoutCache(e)},width:(e,i)=>{e.props.width=i,this.invalidateLayoutCache(e)},height:(e,i)=>{e.props.height=i,this.invalidateLayoutCache(e)},offsetY:(e,i)=>{e.props.offsetY=i,this.invalidateLayoutCache(e)},scrollY:(e,i)=>{e.props.scrollY=i},letterSpacing:(e,i)=>{e.props.letterSpacing=i,this.invalidateLayoutCache(e)}}}canRenderFont(e){return!0}isFontFaceSupported(e){return e instanceof tt}addFontFace(e){Y(e instanceof tt),nt.add(e.fontFace)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new Ee,canvasPages:void 0,lightning2TextRenderer:new Pi(this.canvas,this.context),renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},renderInfo:void 0,forceFullLayoutCalc:!1,textW:0,textH:0,fontInfo:void 0,fontFaceLoadedHandler:void 0,debugData:{updateCount:0,layoutCount:0,drawCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,bufferSize:0}}}updateState(e){if(e.status==="initialState"&&this.setStatus(e,"loading"),!e.fontInfo){const h=Ni(e.props);if(e.fontInfo={cssString:h,loaded:!1},!e.fontInfo.loaded){nt.load(h).then(this.onFontLoaded.bind(this,e,h)).catch(this.onFontLoadError.bind(this,e,h));return}}if(!e.fontInfo.loaded)return;e.renderInfo||(e.lightning2TextRenderer.settings={text:e.props.text,textAlign:e.props.textAlign,fontFace:e.props.fontFamily,fontSize:e.props.fontSize,fontStyle:[e.props.fontStretch,e.props.fontStyle,e.props.fontWeight].join(" "),textColor:xe(e.props.color),offsetY:e.props.fontSize+e.props.offsetY,wordWrap:e.props.contain!=="none",wordWrapWidth:e.props.contain==="none"?void 0:e.props.width,letterSpacing:e.props.letterSpacing},e.renderInfo=e.lightning2TextRenderer.calculateRenderInfo(),e.textH=e.renderInfo.lineHeight*e.renderInfo.lines.length,e.textW=e.renderInfo.width,e.renderWindow=void 0);const{x:i,y:o,width:l,height:r,scrollY:n,contain:f}=e.props,{visibleWindow:d}=e;let{renderWindow:a,canvasPages:c}=e;if(!d.valid){const h=vo(i,o,f!=="none"?i+l:1/0,f==="both"?o+r:1/0,Ai);vt(this.rendererBounds,h,d),d.valid=!0}const p=d.y2-d.y1,u=Math.ceil(p/e.renderInfo.lineHeight);if(p===0){c=void 0,a=void 0,this.setStatus(e,"loaded");return}else if(a&&c){const h=i+a.x1,y=o-n+a.y1,g=i+a.x2,x=o-n+a.y2;if(h<=d.x1&&g>=d.x2&&y<=d.y1&&x>=d.y2){this.setStatus(e,"loaded");return}x<d.y2?(a.y1+=u*e.renderInfo.lineHeight,a.y2+=u*e.renderInfo.lineHeight,c.push(c.shift()),c[2].lineNumStart=c[1].lineNumStart+u,c[2].lineNumEnd=c[2].lineNumStart+u,c[2].valid=!1):y>d.y1&&(a.y1-=u*e.renderInfo.lineHeight,a.y2-=u*e.renderInfo.lineHeight,c.unshift(c.pop()),c[0].lineNumStart=c[1].lineNumStart-u,c[0].lineNumEnd=c[0].lineNumStart+u,c[0].valid=!1)}else{const h=e.renderInfo.lineHeight*u,y=Math.ceil(n/h),g=y*u,x=g-u,I=g+u;c=[{texture:c==null?void 0:c[0].texture,lineNumStart:x,lineNumEnd:x+u,valid:!1},{texture:c==null?void 0:c[1].texture,lineNumStart:g,lineNumEnd:g+u,valid:!1},{texture:c==null?void 0:c[2].texture,lineNumStart:I,lineNumEnd:I+u,valid:!1}],e.canvasPages=c;const b=y*h;a={x1:0,y1:b-h,x2:l,y2:b+h*2}}e.renderWindow=a,performance.now();for(const h of c)if(!h.valid){if(h.lineNumStart<0){h.texture=this.stage.txManager.loadTexture("ImageTexture",{src:""}),h.valid=!0;continue}e.lightning2TextRenderer.draw(e.renderInfo,{lines:e.renderInfo.lines.slice(h.lineNumStart,h.lineNumEnd),lineWidths:e.renderInfo.lineWidths.slice(h.lineNumStart,h.lineNumEnd)}),this.canvas.width===0||this.canvas.height===0||(h.texture=this.stage.txManager.loadTexture("ImageTexture",{src:this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},{preload:!0})),h.valid=!0}this.setStatus(e,"loaded")}renderQuads(e,i,o,l){var T,$,R,z,k,M,F,B,E,L,U,A;const{stage:r}=this,{canvasPages:n,textW:f=0,textH:d=0,renderWindow:a}=e;if(!n||!a)return;const{x:c,y:p,scrollY:u,contain:h,width:y,height:g}=e.props,x={x:c,y:p,width:h!=="none"?y:f,height:h==="both"?g:d};wt({x:0,y:0,width:r.options.appWidth,height:r.options.appHeight},x),Y(n,"canvasPages is not defined"),Y(a,"renderWindow is not defined");const b=(a.y2-a.y1)/3,{zIndex:C,color:S}=e.props,v=l*fi(S),_=Ze(4294967295,v);n[0].valid&&this.stage.renderer.addQuad({alpha:v,clippingRect:o,colorBl:_,colorBr:_,colorTl:_,colorTr:_,width:(($=(T=n[0].texture)==null?void 0:T.dimensions)==null?void 0:$.width)||0,height:((z=(R=n[0].texture)==null?void 0:R.dimensions)==null?void 0:z.height)||0,texture:n[0].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:C,tx:i.tx,ty:i.ty-u+a.y1,ta:i.ta,tb:i.tb,tc:i.tc,td:i.td}),n[1].valid&&this.stage.renderer.addQuad({alpha:v,clippingRect:o,colorBl:_,colorBr:_,colorTl:_,colorTr:_,width:((M=(k=n[1].texture)==null?void 0:k.dimensions)==null?void 0:M.width)||0,height:((B=(F=n[1].texture)==null?void 0:F.dimensions)==null?void 0:B.height)||0,texture:n[1].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:C,tx:i.tx,ty:i.ty-u+a.y1+b,ta:i.ta,tb:i.tb,tc:i.tc,td:i.td}),n[2].valid&&this.stage.renderer.addQuad({alpha:v,clippingRect:o,colorBl:_,colorBr:_,colorTl:_,colorTr:_,width:((L=(E=n[2].texture)==null?void 0:E.dimensions)==null?void 0:L.width)||0,height:((A=(U=n[2].texture)==null?void 0:U.dimensions)==null?void 0:A.height)||0,texture:n[2].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:C,tx:i.tx,ty:i.ty-u+a.y1+b+b,ta:i.ta,tb:i.tb,tc:i.tc,td:i.td})}invalidateVisibleWindowCache(e){e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}invalidateLayoutCache(e){e.renderInfo=void 0,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}onFontLoaded(e,i){var o;i!==((o=e.fontInfo)==null?void 0:o.cssString)||!e.fontInfo||(e.fontInfo.loaded=!0,this.scheduleUpdateState(e))}onFontLoadError(e,i,o){var l;i!==((l=e.fontInfo)==null?void 0:l.cssString)||!e.fontInfo||(e.fontInfo.loaded=!0,console.error(`CanvasTextRenderer: Error loading font '${e.fontInfo.cssString}'`,o),this.scheduleUpdateState(e))}}const Di=2e6;class Yi extends Ee{constructor(e){super();m(this,"options");m(this,"animationManager");m(this,"txManager");m(this,"fontManager");m(this,"textRenderers");m(this,"shManager");m(this,"renderer");m(this,"root");m(this,"deltaTime",0);m(this,"lastFrameTime",0);m(this,"currentFrameTime",0);m(this,"fpsNumFrames",0);m(this,"fpsElapsedTime",0);m(this,"renderRequested",!1);this.options=e;const{canvas:i,clearColor:o,rootId:l,debug:r,appWidth:n,appHeight:f}=e;this.txManager=new ki,this.shManager=new Ti,this.animationManager=new _i,r!=null&&r.monitorTextureCache&&setInterval(()=>{Y(this.txManager);const a=this.txManager.getDebugInfo();console.log("Texture ID Cache Size: ",a.idCacheSize),console.log("Texture Key Cache Size: ",a.keyCacheSize)},1e3),this.renderer=new ai({stage:this,canvas:i,pixelRatio:e.devicePhysicalPixelRatio*e.deviceLogicalPixelRatio,clearColor:o??4278190080,bufferMemory:Di,txManager:this.txManager,shManager:this.shManager}),this.txManager.renderer=this.renderer,this.textRenderers={canvas:new Oi(this),sdf:new Bi(this)},this.fontManager=new Et(this.textRenderers);const d=new Go(this,{id:l,x:0,y:0,width:n,height:f,alpha:1,clipping:!1,color:0,colorTop:0,colorBottom:0,colorLeft:0,colorRight:0,colorTl:0,colorTr:0,colorBl:0,colorBr:0,zIndex:0,zIndexLocked:0,scaleX:1,scaleY:1,mountX:0,mountY:0,mount:0,pivot:.5,pivotX:.5,pivotY:.5,rotation:0,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null});this.root=d,wi(this)}updateAnimations(){const{animationManager:e}=this;this.root&&(this.lastFrameTime=this.currentFrameTime,this.currentFrameTime=Ci(),this.deltaTime=this.lastFrameTime?this.currentFrameTime-this.lastFrameTime:100/6,e.update(this.deltaTime))}hasSceneUpdates(){return!!this.root.updateType||this.renderRequested}drawFrame(){const{renderer:e,renderRequested:i}=this;this.root.updateType!==0&&this.root.update(this.deltaTime),e==null||e.reset(),this.addQuads(this.root),e==null||e.render(),i&&(this.renderRequested=!1);const{fpsUpdateInterval:o}=this.options;if(o&&(this.fpsNumFrames++,this.fpsElapsedTime+=this.deltaTime,this.fpsElapsedTime>=o)){const l=Math.round(this.fpsNumFrames*1e3/this.fpsElapsedTime);this.fpsNumFrames=0,this.fpsElapsedTime=0,this.emit("fpsUpdate",l)}}addQuads(e){Y(this.renderer&&e.globalTransform),e.isRenderable&&e.renderQuads(this.renderer);for(let i=0;i<e.children.length;i++){const o=e.children[i];o&&(o==null?void 0:o.worldAlpha)!==0&&this.addQuads(o)}}requestRender(){this.renderRequested=!0}resolveTextRenderer(e,i=null){let o=i,l=!1;if(o){const n=this.textRenderers[o];n?n.canRenderFont(e)||(console.warn(`Cannot use override text renderer '${o}' for font`,e),o=null,l=!0):(console.warn(`Text renderer override '${o}' not found.`),o=null,l=!0)}if(!o){for(const[n,f]of Object.entries(this.textRenderers))if(n!=="canvas"&&f.canRenderFont(e)){o=n;break}o||(o="canvas")}l&&console.warn(`Falling back to text renderer ${String(o)}`);const r=this.textRenderers[o];return Y(r,"resolvedTextRenderer undefined"),r}}class Wi extends Go{constructor(e,i){super(e,i);m(this,"textRenderer");m(this,"trState");m(this,"_textRendererOverride",null);m(this,"onTextLoaded",()=>{const{contain:e}=this,i=this.trState.props.width,o=this.trState.props.height,l=this.trState.textW||0,r=this.trState.textH||0;e==="both"?(this.props.width=i,this.props.height=o):e==="width"?(this.props.width=i,this.props.height=r):e==="none"&&(this.props.width=l,this.props.height=r),this.updateLocalTransform(),this.stage.requestRender(),this.emit("loaded",{type:"text",dimensions:{width:this.trState.textW||0,height:this.trState.textH||0}})});m(this,"onTextFailed",(e,i)=>{this.emit("failed",{type:"text",error:i})});this._textRendererOverride=i.textRendererOverride;const{resolvedTextRenderer:o,textRendererState:l}=this.resolveTextRendererAndState({x:this.absX,y:this.absY,width:i.width,height:i.height,textAlign:i.textAlign,color:i.color,zIndex:i.zIndex,contain:i.contain,scrollable:i.scrollable,scrollY:i.scrollY,offsetY:i.offsetY,letterSpacing:i.letterSpacing,debug:i.debug,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStretch:i.fontStretch,fontStyle:i.fontStyle,fontWeight:i.fontWeight,text:i.text},void 0);this.textRenderer=o,this.trState=l}get width(){return this.trState.props.width}set width(e){this.textRenderer.set.width(this.trState,e)}get height(){return this.trState.props.height}set height(e){this.textRenderer.set.height(this.trState,e)}get color(){return this.trState.props.color}set color(e){this.textRenderer.set.color(this.trState,e)}get text(){return this.trState.props.text}set text(e){this.textRenderer.set.text(this.trState,e),this.checkIsRenderable()}get textRendererOverride(){return this._textRendererOverride}set textRendererOverride(e){this._textRendererOverride=e;const{resolvedTextRenderer:i,textRendererState:o}=this.resolveTextRendererAndState(this.trState.props,this.trState);this.textRenderer=i,this.trState=o}get fontSize(){return this.trState.props.fontSize}set fontSize(e){this.textRenderer.set.fontSize(this.trState,e)}get fontFamily(){return this.trState.props.fontFamily}set fontFamily(e){this.textRenderer.set.fontFamily(this.trState,e)}get fontStretch(){return this.trState.props.fontStretch}set fontStretch(e){this.textRenderer.set.fontStretch(this.trState,e)}get fontStyle(){return this.trState.props.fontStyle}set fontStyle(e){this.textRenderer.set.fontStyle(this.trState,e)}get fontWeight(){return this.trState.props.fontWeight}set fontWeight(e){this.textRenderer.set.fontWeight(this.trState,e)}get textAlign(){return this.trState.props.textAlign}set textAlign(e){this.textRenderer.set.textAlign(this.trState,e)}get contain(){return this.trState.props.contain}set contain(e){this.textRenderer.set.contain(this.trState,e)}get scrollable(){return this.trState.props.scrollable}set scrollable(e){this.textRenderer.set.scrollable(this.trState,e)}get scrollY(){return this.trState.props.scrollY}set scrollY(e){this.textRenderer.set.scrollY(this.trState,e)}get offsetY(){return this.trState.props.offsetY}set offsetY(e){this.textRenderer.set.offsetY(this.trState,e)}get letterSpacing(){return this.trState.props.letterSpacing}set letterSpacing(e){this.textRenderer.set.letterSpacing(this.trState,e)}get debug(){return this.trState.props.debug}set debug(e){this.textRenderer.set.debug(this.trState,e)}update(e,i=null){super.update(e,i),Y(this.globalTransform),this.textRenderer.set.x(this.trState,this.globalTransform.tx),this.textRenderer.set.y(this.trState,this.globalTransform.ty)}checkIsRenderable(){return super.checkIsRenderable()?!0:this.trState.props.text!==""?this.isRenderable=!0:this.isRenderable=!1}renderQuads(e){Y(this.globalTransform),this.textRenderer.renderQuads(this.trState,this.globalTransform,this.clippingRect,this.worldAlpha)}resolveTextRendererAndState(e,i){const o=this.stage.resolveTextRenderer(e,this._textRendererOverride),l=o.createState(e);return i&&["loading","loaded","failed"].forEach(n=>{i.emitter.off(n)}),l.emitter.on("loaded",this.onTextLoaded),l.emitter.on("failed",this.onTextFailed),o.scheduleUpdateState(l),{resolvedTextRenderer:o,textRendererState:l}}}class qi extends Po{constructor(t,e,i){super(t,e,i,new Wi(i,{id:Vo(),x:t.x,y:t.y,width:t.width,height:t.height,alpha:t.alpha,clipping:t.clipping,color:t.color,colorTop:t.colorTop,colorBottom:t.colorBottom,colorLeft:t.colorLeft,colorRight:t.colorRight,colorTl:t.colorTl,colorTr:t.colorTr,colorBl:t.colorBl,colorBr:t.colorBr,zIndex:t.zIndex,zIndexLocked:t.zIndexLocked,scaleX:t.scaleX,scaleY:t.scaleY,mountX:t.mountX,mountY:t.mountY,mount:t.mount,pivot:t.pivot,pivotX:t.pivotX,pivotY:t.pivotY,rotation:t.rotation,text:t.text,fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStretch:t.fontStretch,fontStyle:t.fontStyle,contain:t.contain,scrollable:t.scrollable,letterSpacing:t.letterSpacing,textAlign:t.textAlign,scrollY:t.scrollY,offsetY:t.offsetY,textRendererOverride:t.textRendererOverride,debug:t.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null}))}get text(){return this.coreNode.text}set text(t){this.coreNode.text=t}get textRendererOverride(){return this.coreNode.textRendererOverride}set textRendererOverride(t){this.coreNode.textRendererOverride=t}get fontSize(){return this.coreNode.fontSize}set fontSize(t){this.coreNode.fontSize=t}get fontFamily(){return this.coreNode.fontFamily}set fontFamily(t){this.coreNode.fontFamily=t}get fontWeight(){return this.coreNode.fontWeight}set fontWeight(t){this.coreNode.fontWeight=t}get fontStretch(){return this.coreNode.fontStretch}set fontStretch(t){this.coreNode.fontStretch=t}get fontStyle(){return this.coreNode.fontStyle}set fontStyle(t){this.coreNode.fontStyle=t}get textAlign(){return this.coreNode.textAlign}set textAlign(t){this.coreNode.textAlign=t}get contain(){return this.coreNode.contain}set contain(t){this.coreNode.contain=t}get scrollable(){return this.coreNode.scrollable}set scrollable(t){this.coreNode.scrollable=t}get scrollY(){return this.coreNode.scrollY}set scrollY(t){this.coreNode.scrollY=t}get offsetY(){return this.coreNode.offsetY}set offsetY(t){this.coreNode.offsetY=t}get letterSpacing(){return this.coreNode.letterSpacing}set letterSpacing(t){this.coreNode.letterSpacing=t}get debug(){return this.coreNode.debug}set debug(t){this.coreNode.debug=t}}const Xi="modulepreload",Ui=function(s){return"/"+s},rt={},Ft=function(t,e,i){if(!e||e.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(e.map(l=>{if(l=Ui(l),l in rt)return;rt[l]=!0;const r=l.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(!!i)for(let a=o.length-1;a>=0;a--){const c=o[a];if(c.href===l&&(!r||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${n}`))return;const d=document.createElement("link");if(d.rel=r?"stylesheet":Xi,r||(d.as="script",d.crossOrigin=""),d.href=l,document.head.appendChild(d),r)return new Promise((a,c)=>{d.addEventListener("load",a),d.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l})};function Hi(s){return s.prototype instanceof di}async function ji(s,t){let e;try{console.log("Loading core extension",s),e=await Ft(()=>import(s),[])}catch(o){console.error(`The core extension module at '${s}' could not be loaded.`),console.error(o);return}if(!e.default){console.error(`The core extension module at '${s}' does not have a default export.`);return}const i=e.default;if(Hi(i)){const o=new i;try{await o.run(t)}catch(l){console.error(`The core extension at '${s}' threw an error.`),console.error(l)}}else console.error(`The core extension at '${s}' does not extend CoreExtension.`)}class Gi{constructor(){m(this,"root",null);m(this,"stage",null);m(this,"rendererMain",null)}async init(t,e,i){this.stage=new Yi({rootId:Vo(),appWidth:e.appWidth,appHeight:e.appHeight,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio,clearColor:e.clearColor,canvas:i,fpsUpdateInterval:e.fpsUpdateInterval,debug:{monitorTextureCache:!1}}),this.rendererMain=t,Y(this.stage.root);const o=new Po(t.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root);this.root=o,o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.onCreateNode(o),e.coreExtensionModule&&await ji(e.coreExtensionModule,this.stage),this.stage.on("fpsUpdate",(l,r)=>{this.onFpsUpdate(r)})}createNode(t){Y(this.rendererMain),Y(this.stage);const e=new Po(t,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}createTextNode(t){Y(this.rendererMain),Y(this.stage);const e=new qi(t,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}destroyNode(t){t.destroy()}releaseTexture(t){const{stage:e}=this;Y(e),e.txManager.removeTextureIdFromCache(t)}getRootNode(){return Y(this.root),this.root}onCreateNode(t){throw new Error("Method not implemented.")}onBeforeDestroyNode(t){throw new Error("Method not implemented.")}onFpsUpdate(t){throw new Error("Method not implemented.")}}const lo=()=>{},$o=()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),Bt=s=>{const t=Ge.get("debugLevel"),e={};return Object.defineProperty(e,"info",{get(){return(t>=1||Array.isArray(t)&&t.indexOf("info")>-1)&&console.info.bind(window.console,`%c  ${s} %c ${$o()}`,"background-color: #0284c7; color: white; padding: 3px 6px 3px 1px; border-radius: 3px","color: ##94a3b8;")||lo}}),Object.defineProperty(e,"warn",{get(){return(t>=1||Array.isArray(t)&&t.indexOf("warn")>-1)&&console.warn.bind(window.console,`%c  ${s} %c ${$o()}`,"background-color: #fbbf24; color: white; padding: 3px 6px 3px 1px; border-radius: 3px","color: ##94a3b8;")||lo}}),Object.defineProperty(e,"error",{get(){return(t>=1||Array.isArray(t)&&t.indexOf("error")>-1)&&console.error.bind(window.console,`%c  ${s} %c ${$o()}`,"background-color: #dc2626; color: white; padding: 3px 6px 3px 1px; border-radius: 3px","color: ##94a3b8;")||lo}}),Object.defineProperty(e,"debug",{get(){return(t>=2||Array.isArray(t)&&t.indexOf("debug")>-1)&&console.debug.bind(window.console,`%c  ${s} %c (${new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})`,"background-color: #e2e8f0; color: #334155; padding: 3px 6px 3px 1px; border-radius: 3px","color: ##94a3b8;")||lo}}),e};let J;const Vi=()=>{J=Bt("Blits")},lt={hd:.66666667,"720p":.66666667,720:.66666667,fhd:1,fullhd:1,"1080p":1,1080:1,"4k":2,"2160p":2,2160:2};let Se;const Ki=(s,t,e)=>{Ge.set(e),Vi();const i=new Gi;Se=new gi({appWidth:e.w||1920,appHeight:e.h||1080,coreExtensionModule:e.fontLoader,deviceLogicalPixelRatio:e.pixelRatio||lt[e.screenResolution]||lt[window.innerHeight]||1},t,i);const o=()=>{let l=s();l.quit=()=>{J.info("Closing App"),l.destroy(),l=null,Se=null}};Se.init().then(()=>o())},ft={aliceblue:4042850303,antiquewhite:4209760255,aqua:4294967040,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,transparent:0,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ro={normalize(s=""){if(s=s.toString(),s.startsWith("0x"))return s;const t=/rgba?\((.+)\)/gi,e=/hsla?\((.+)\)/gi;if(t.test(s)){const i=new RegExp(t).exec(s);if(i[1])return s=i[1].split(",").map((o,l)=>(l==3&&(o=Math.min(Math.max(Math.round(o*255),0),255)),parseInt(o).toString(16).padStart(2,"0"))).join(""),s.padEnd(8,"f").padStart(10,"0x")}else{if(e.test(s))return J.warn("HSL(A) color format is not supported yet"),4294967295;if(s in ft)return ft[s];s.startsWith("#")&&(s=s.substring(1))}return s.length===3&&(s=s.split("").map(i=>i+i).join("")),s.padEnd(8,"f").padStart(10,"0x")}},Qi=s=>typeof s=="object"&&"transition"in s,fo=s=>typeof s=="string"&&s.startsWith("{")&&s.endsWith("}"),ao=s=>JSON.parse(s.replace(/'/g,'"').replace(/([\w-_]+)\s*:/g,'"$1":')),Pe=function(s,t){return typeof s=="string"&&s.endsWith("%")?this.element.node._parent[t]*(parseFloat(s)/100):s},Yo=s=>{if(typeof s=="object"&&s.constructor===Object){if("value"in s)return s.value;if("transition"in s)return Yo(s.transition)}return s},Pt={set parent(s){this._props.parent=s==="root"?Se.root:s.node,this._set.add("parent")},set rotation(s){this._props.rotation=s*(Math.PI/180),this._set.add("rotation")},set w(s){this._props.width=Pe.call(this,s,"width"),this._set.add("width")},set width(s){this._props.width=Pe.call(this,s,"width"),this._set.add("width")},set h(s){this._props.height=Pe.call(this,s,"height"),this._set.add("height")},set height(s){this._props.height=Pe.call(this,s,"height"),this._set.add("height")},set x(s){this._props.x=Pe.call(this,s,"width"),this._set.add("x")},set y(s){this._props.y=Pe.call(this,s,"height"),this._set.add("y")},set z(s){this._props.zIndex=s,this._set.add("zIndex")},set zIndex(s){this._props.zIndex=s,this._set.add("zIndex")},set color(s){if(typeof s=="object"||fo(s)&&(s=ao(s))){const t={top:"colorTop",bottom:"colorBottom",left:"colorLeft",right:"colorRight"};this._props.color=0,Object.entries(s).forEach(e=>{this._props[t[e[0]]]=Ro.normalize(e[1]),this._set.add(t[e[0]])})}else this._props.color=Ro.normalize(s);this._set.add("color")},set src(s){this._props.src=s,this._set.has("color")||(this._props.color=4294967295),this._set.add("src")},set texture(s){this._props.texture=s,this._set.has("color")||(this._props.color=4294967295),this._set.add("texture")},set mount(s){typeof s=="object"||fo(s)&&(s=ao(s))?(s.x&&(this._props.mountX=s.x,this._set.add("mountX")),s.y&&(this._props.mountY=s.y,this._set.add("mountY"))):(this._props.mountX=this._props.mountY=s,this._set.add("mountX"),this._set.add("mountY"))},set pivot(s){typeof s=="object"||fo(s)&&(s=ao(s))?(s.x&&(this._set.add("pivotX"),this._props.pivotX=s.x),s.y&&(this._set.add("pivotY"),this._props.pivotY=s.y)):(this._props.pivotX=this._props.pivotY=s,this._set.add("pivotX"),this._set.add("pivotY"))},set scale(s){typeof s=="object"||fo(s)&&(s=ao(s))?(s.x&&(this._props.scaleX=s.x),s.y&&(this._props.scaleY=s.y)):this._props.scale=s,this._set.add("scale")},set show(s){this._props.alpha=s?1:0},set alpha(s){this._props.alpha=s,this._set.add("alpha")},set text(s){this._props.text=s!==void 0?s.toString():""},set effects(s){this._props.shader=Se.createShader("DynamicShader",{effects:s.map(t=>(t.props&&t.props.color&&(t.props.color=Ro.normalize(t.props.color)),t))}),this._set.add("effects")},set fontFamily(s){this._props.fontFamily=s},set fontSize(s){this._props.fontSize=s},set wordWrap(s){this._props.width=s},set contain(s){this._props.contain=s},set maxLines(s){this.height=s*this.element.node.fontSize},set letterSpacing(s){this._props.letterSpacing=s},set textAlign(s){this._props.textAlign=s}},Zi={defaults:{},populate(s){const t={...this.defaults,...this.config,...s};this.initData=s,t[w.isSlot]&&(this[w.isSlot]=!0),this.props.element=this;for(const[e,i]of Object.entries(t)){const o=Object.getOwnPropertyDescriptor(Pt,e);o&&o.set&&(this.props[e]=Yo(i))}this.props._set.has("color")||(this.props._props.color=this.props._set.has("src")||this.props._set.has("texture")?4294967295:0),this.node=t.__textnode?Se.createTextNode(this.props._props):Se.createNode(this.props._props),t["@loaded"]&&this.node.on("loaded",(e,{type:i,dimensions:o})=>{t["@loaded"]({w:o.width,h:o.height,type:i},this)}),t["@error"]&&this.node.on("failed",(e,i)=>{t["@error"](i,this)})},set(s,t){const e=new Set(this.props._set);this.props._props={},this.props[s]=Yo(t);for(const[i,o]of Object.entries(this.props._props)){if(Qi(t)&&e.has(i))return this.animate(i,o,t.transition);this.node[i]=o,console.log("set it",this.node[i],o)}},animate(s,t,e){if(this.node[s]===t)return Promise.resolve();this.scheduledTransitions[s]&&this.scheduledTransitions[s].f.state==="running"&&(this.scheduledTransitions[s].f.pause(),this.node[s]=this.scheduledTransitions[s].v);const i={};i[s]=t;const o=this.node.animate(i,{duration:typeof e=="object"&&"duration"in e?e.duration:300,easing:typeof e=="object"&&"function"in e?e.function:"ease"});return new Promise(l=>{this.scheduledTransitions[s]={v:i[s],f:o,timeout:setTimeout(()=>{e.start&&typeof e.start=="function"&&e.start.call(this.component,this,s,i[s]);try{o.start().waitUntilStopped().then(()=>delete this.scheduledTransitions[s]).then(()=>{e.end&&typeof e.end=="function"&&e.end.call(this.component,this,s,this.node[s])}).then(l)}catch(r){J.error(r)}},e.delay||0)}})},delete(){J.debug("Deleting  Node",this.nodeId),Object.values(this.scheduledTransitions).forEach(s=>{clearTimeout(s.timeout)}),this.node.parent=null},get nodeId(){return this.node&&this.node.id},get ref(){return this.initData.ref||null}},Nt=(s,t)=>Object.assign(Object.create(Zi),{props:Object.assign(Object.create(Pt),{_props:{},_set:new Set}),node:null,scheduledTransitions:{},initData:{},config:s,component:t}),at={};let Ji=0;const es=s=>`BlitsComponent::${s}_${at[s]=(at[s]||0)+1}`,os=()=>++Ji,Ce={},ts=(s,t,e)=>{Ce[t]&&Ce[t][s]&&Ce[t][s].apply(e)},is=(s,t,e)=>{const i=w[s];Ce[t]&&Ce[t][i]&&Ce[t][i].apply(e)},ss=(s={},t)=>{Ce[t]={},[...Object.keys(s),...Object.getOwnPropertySymbols(s)].forEach(i=>{typeof s[i]=="function"&&(Ce[t][i]=s[i])})};let oo=null;const Wo=new WeakMap,At=(s,t)=>{if(oo){let e=Wo.get(s);e||(e=new Map,Wo.set(s,e));let i=e.get(t);i||(i=new Set,e.set(t,i)),i.add(oo)}},so=(s,t,e=!1)=>{const i=Wo.get(s);if(!i)return;const o=i.get(t);o&&o.forEach(l=>{l(e)})},dt=s=>{oo=s,oo(),oo=null},ns=["constructor","includes","indexOf","lastIndexOf","push","pop","shift","splice","unshift","sort","reverse"],zo=["push","pop","shift","unshift","splice","sort","reverse"],ct=new WeakMap,qo=s=>{const t=ct.get(s);if(t)return t;const e={get(o,l,r){return Array.isArray(o)&&ns.includes(l)?Reflect.get(o,l,r):(At(o,l),o[l]!==null&&typeof o[l]=="object"?qo(o[l]):Reflect.get(o,l,r))},set(o,l,r,n){const f=o[l],d=Reflect.set(o,l,r,n);return typeof d=="object"&&qo(o[l]),(l==="length"||d&&f!==r)&&so(o,l),d}},i=new Proxy(s,e);return ct.set(s,i),i},Ot=s=>(Object.keys(s).forEach(t=>{let e=s[t];if(s[t]!==null&&typeof s[t]=="object"){if(Object.getPrototypeOf(s[t])===Object.prototype)return Ot(s[t]);if(Array.isArray(s[t]))for(let i=0;i<zo.length-1;i++)s[t][zo[i]]=function(o){Array.prototype[zo[i]].call(this,o),so(s,t)}}Object.defineProperty(s,t,{enumerable:!0,configurable:!0,get(){return At(s,t),e},set(i){e!==i&&(e=i,so(s,t))}})}),s),ut=(s,t="Proxy")=>t==="defineProperty"?Ot(s):qo(s),rs={before:{prop:"alpha",value:0},in:{prop:"alpha",value:1,duration:200},out:{prop:"alpha",value:0,duration:100}},we=window.speechSynthesis,ls=()=>(window.navigator||{}).userAgent||"",ht=()=>/android/i.test(ls());let Dt=!1,Io=null;const Ko=()=>Io&&clearTimeout(Io),Xo=s=>{if(!s||Io)return Ko();we.pause(),we.resume(),Io=setTimeout(()=>{Xo(s)},5e3)},Xe={lang:"en-US",pitch:1,rate:1,voice:null,volume:1},fs=()=>{Xe.voice=we.getVoices()[0],Dt=!0},as=(s,t)=>{const e=new SpeechSynthesisUtterance(t.value);e.lang=t.lang||Xe.lang,e.pitch=t.pitch||Xe.pitch,e.rate=t.rate||Xe.rate,e.voice=t.voice||Xe.voice,e.volume=t.volume||Xe.volume,e.onstart=()=>{ht()||Xo(e),s.onstart()},e.onresume=()=>{ht()||Xo(e),s.onresume()},e.onpause=()=>{s.onpause()},e.onend=()=>{s.onend()},e.onerror=()=>{Ko(),s.onerror()},we.speak(e)},bo={speak(s){Dt||fs(),this.cancel(),as(this,s)},resume(){we.resume()},pause(){we.pause()},cancel(){we.cancel(),Ko()},getVoices(){return we.getVoices()},onend(){},onerror(){},onstart(){},onresume(){},onpause(){}};let pt;const Qo=(s,t="off")=>{clearTimeout(pt),bo.cancel(),t==="assertive"?bo.speak({value:s}):pt=setTimeout(()=>{bo.speak({value:s})},400)},ds=s=>Qo(s,"polite"),cs=s=>Qo(s,"assertive"),us=()=>{bo.cancel()},Yt={speak:Qo,polite:ds,assertive:cs,stop:us};let Zo,wo=!1;const Wt=new WeakMap,qt=[];let Xt={},Uo=!1;const hs=()=>(document.location.hash||"/").replace(/^#/,""),ps=(s,t=[])=>{const e=t.filter(i=>i.path===s).pop();return e&&(e.options={...e.options,...Xt},Zo=e),e},ms=async function(){if(wo=!0,this.parent[w.routes]){const s=Zo,t=hs(),e=ps(t,this.parent[w.routes]);if(e){Uo===!1&&s&&s.options.inHistory===!0&&qt.push(s),"transition"in e||(e.transition=rs),typeof e.transition=="function"&&(e.transition=e.transition(s,e));let i,{view:o,focus:l}=Wt.get(e)||{};if(o?i=o[w.wrapper]:(i=Nt({parent:this[w.children][0]}),i.populate({}),i.set("w","100%"),i.set("h","100%"),o=await e.component(this[w.props],i,this),o[Symbol.toStringTag]==="Module"&&(o.default&&typeof o.default=="function"?o=o.default(this[w.props],i,this):J.error("Dynamic import doesn't have a default export or default is not a function")),typeof o=="function"&&(o=o(this[w.props],i,this))),this[w.children].push(o),e.transition.before)if(Array.isArray(e.transition.before))for(let n=0;n<e.transition.before.length;n++)i.set(e.transition.before[n].prop,e.transition.before[n].value);else i.set(e.transition.before.prop,e.transition.before.value);let r=!1;if(s){r=!0;const n=this[w.children].splice(1,1).pop();n&&ys(s,n,e.transition.out)}if(e.transition.in)if(Array.isArray(e.transition.in))for(let n=0;n<e.transition.in.length;n++)n===e.transition.length-1?await je(i,e.transition.in[n],r):je(i,e.transition.in[n],r);else await je(i,e.transition.in,r);e.announce&&(typeof e.announce=="string"&&(e.announce={message:e.announce}),Yt.speak(e.announce.message,e.announce.politeness)),l?Me.set(l):o.focus(),this.activeView=this[w.children][this[w.children].length-1]}else J.error(`Route ${t} not found`)}Uo=!1,wo=!1},ys=async(s,t,e)=>{if(e)if(Array.isArray(e))for(let i=0;i<e.length;i++)i===e.length-1?await je(t[w.wrapper],e[i]):je(t[w.wrapper],e[i]);else await je(t[w.wrapper],e);if(s.options&&s.options.keepAlive===!0)Wt.set(s,{view:t,focus:Me.get()});else{for(let i=0;i<t[w.children].length-1;i++)t[w.children][i]&&t[w.children][i].destroy&&(t[w.children][i].destroy(),t[w.children][i]=null);t.destroy(),t=null}},je=(s,t,e=!0)=>e?s.animate(t.prop,t.value,t):s.set(t.prop,t.value),Jo=(s,t={})=>{Xt=t,window.location.hash=`#${s}`},Ut=()=>{const s=qt.pop();return s?(Uo=!0,Jo(s.path),!0):!1},Mo={navigate:ms,to:Jo,back:Ut};let ze=null,co=[],mt;const Me={_hold:!1,set hold(s){this._hold=s},get hold(){return this._hold},get(){return ze},set(s,t){clearTimeout(mt),ze&&ze.unfocus(),co.reverse().forEach(e=>e.unfocus()),s!==ze&&(mt=setTimeout(()=>{ze=s,ze.lifecycle.state="focus",t instanceof KeyboardEvent?document.dispatchEvent(new KeyboardEvent("keydown",t)):co=[]},this.hold?50:0))},input(s,t){if(wo===!0)return;co=Ht([ze],s);const e=co.shift();e&&(e[w.inputEvents][s]?e[w.inputEvents][s].call(e,t):e[w.inputEvents].any&&e[w.inputEvents].any.call(e,t))}},Ht=(s,t)=>s[0][w.inputEvents]&&(typeof s[0][w.inputEvents][t]=="function"||typeof s[0][w.inputEvents].any=="function")?s:s[0].parent?(s.unshift(s[0].parent),Ht(s,t)):[],gs=()=>Le("Image",{template:`
      <Element :imageSource="$imageSource" />`,props:["src"],computed:{imageSource(){return/^(?:https?:)?\/\//i.test(this.src)?this.src:`${window.location.protocol}//${window.location.host}/${this.src}`}}}),xs=()=>Le("Circle",{template:`
      <Element :color="$color" :w="$size" :h="$size" :effects="[$shader('radius', {radius: $radius})]"></Element>
    `,props:[{key:"size",default:40},"color"],computed:{radius(){return this.size/2}}});let Eo;const bs=()=>Le("RouterView",{template:`
      <Element w="100%" height="100%"></Element>
    `,state(){return{activeView:null}},hooks:{ready(){Eo=()=>Mo.navigate.apply(this),Mo.navigate.apply(this),window.addEventListener("hashchange",Eo)},destroy(){window.removeEventListener("hashchange",Eo,!1)},focus(){this.activeView&&this.activeView.focus()}},input:{back(s){Mo.back()||this.parent.focus(s)}}}),Ss=()=>Le("Sprite",{template:`
      <Element w="$w" h="$h" :texture="$texture" />
    `,props:["image","map","frame","w","h"],state(){return{spriteTexture:!1}},computed:{texture(){const s="frames"in this.map?Object.assign({},this.map.defaults||{},this.map.frames[this.frame]):this.map[this.frame];if(this.spriteTexture&&s)return this[w.renderer].createTexture("SubTexture",{texture:this.spriteTexture,x:s.x,y:s.y,width:s.w,height:s.h})}},hooks:{ready(){this.spriteTexture=this[w.renderer].createTexture("ImageTexture",{src:this.image})}}}),Is=()=>Le("Text",{template:`
      <Element
        __textnode="true"
        :text="$content"
        fontFamily="$font"
        :fontSize="$size"
        :color="$color"
        :style="$style"
        :weight="$weight"
        letterSpacing="$letterspacing"
        stretch="$stretch"
        contain="$_contain"
        :wordWrap="$wordwrap"
        :maxLines="$maxlines"
        :textAlign="$align"
        @loaded="$@loaded"
        @error="$@error"
      />`,props:["content",{key:"font",default:Ge.get("defaultFont","lato")},{key:"size",cast:Number,default:32},"style","color","weight","letterspacing","stretch","align","wordwrap","maxlines","contain","@loaded","@error"],computed:{_contain(){return this.contain||(this.wordwrap&&this.maxlines?"both":this.wordwrap?"width":"none")}}}),uo=new Map,Lo={registerListener(s,t,e){let i=uo.get(t);i||(i=new Map,uo.set(t,i));let o=i.get(s);o||(o=new Set,i.set(s,o)),o.add(e)},executeListeners(s,t){const e=uo.get(s);e&&e.forEach(i=>{i.forEach(o=>{o(t)})})},removeListeners(s){uo.forEach(t=>{const e=t.get(s);e&&(e.clear(),t.delete(e))})}},ws={rounded:"radius"},Cs=s=>{Object.defineProperties(s.prototype,{focus:{value:function(t){Me.set(this,t)},writable:!1,enumerable:!0,configurable:!1},unfocus:{value:function(){this.lifecycle.state="unfocus"},writable:!1,enumerable:!0,configurable:!1},destroy:{value:function(){this.lifecycle.state="destroy";for(let t=0;t<this[w.timeouts].length;t++)clearTimeout(this[w.timeouts][t]);for(let t=0;t<this[w.intervals].length;t++)clearInterval(this[w.intervals][t]);Lo.removeListeners(this),jt(this[w.children]),J.debug(`Destroyed component ${this.componentId}`)},writable:!1,enumerable:!0,configurable:!1},select:{value:function(t){let e=null;return this[w.children].forEach(i=>{Array.isArray(i)?i.forEach(o=>{o.ref===t&&(e=o)}):Object.getPrototypeOf(i)===Object.prototype?Object.keys(i).forEach(o=>{i[o].ref===t&&(e=i[o])}):i.ref===t&&(e=i)}),e},writable:!1,enumerable:!0,configurable:!1},shader:{value:function(t,e){const i=ws[t]||t,o=Se.driver.stage.shManager.getRegisteredEffects();if(i in o)return{type:i,props:e};J.error(`Shader ${t} not found`)},writable:!1,enumerable:!1,configurable:!1},$router:{value:{to:Jo,back:Ut,get currentRoute(){return Zo},get routes(){return s.prototype[w.routes]},get navigating(){return wo}},writable:!1,enumerable:!0,configurable:!1},[w.components]:{value:{Image:gs(),Circle:xs(),RouterView:bs(),Sprite:Ss(),Text:Is()},writable:!1,enumerable:!1,configurable:!1},[w.timeouts]:{value:[],writable:!1,enumerable:!1,configurable:!1},$setTimeout:{value:function(t,e,...i){const o=setTimeout(()=>{this[w._timeouts]=this[w.timeouts].filter(l=>l!==o),t.apply(null,i)},e,i);return this[w.timeouts].push(o),o},writable:!1,enumerable:!0,configurable:!1},[w.intervals]:{value:[],writable:!1,enumerable:!1,configurable:!1},$setInterval:{value:function(t,e,...i){const o=setInterval(()=>{this[w._intervals]=this[w.intervals].filter(l=>l!==o),t.apply(null,i)},e,i);return this[w.intervals].push(o),o},writable:!1,enumerable:!0,configurable:!1},$emit:{value:function(t,e){Lo.executeListeners(t,e)},writable:!1,enumerable:!0,configurable:!1},$listen:{value:function(t,e){Lo.registerListener(this,t,e)},writable:!1,enumerable:!0,configurable:!1},[w.renderer]:{value:Se,writable:!1,enumerable:!1,configurable:!1},$log:{value:Bt("App"),writable:!1,enumerable:!1,configurable:!1},$trigger:{value:function(t){so(this[w.originalState],t,!0)},writable:!1,enumerable:!1,configurable:!1},$announcer:{value:Yt,writable:!1,enumerable:!1,configurable:!1}})},jt=function(s){for(let t=0;t<s.length;t++){if(!s[t])return;Array.isArray(s[t])?jt(s[t]):s[t].delete?s[t].delete():s[t].destroy&&(s[t].destroy(),s[t]=null),s[t]=null}s=[]},vs={cast:s=>s,required:!1},Ts=(s,t=[])=>{t.indexOf("ref")===-1&&t.push("ref"),s[w.propKeys]=[],t.forEach(e=>{e={...vs,...typeof e=="object"?e:{key:e}},s[w.propKeys].push(e.key),Object.defineProperty(s.prototype,e.key,{get(){const i=e.cast(this[w.props]&&e.key in this[w.props]?this[w.props][e.key]:e.default||void 0);return e.required&&i===void 0&&J.warn(`${e.key} is required`),i},set(i){J.warn(`Warning! Avoid mutating props directly (${e.key})`),this[w.props][e.key]=i}})})},_s=(s,t)=>{s[w.methodKeys]=[];for(let e in t)s[w.propKeys]&&s[w.propKeys].indexOf(e)>-1?J.error(`${e} already exists as a prop`):(typeof t[e]!="function"&&J.warn(`${e} is not a function`),s[w.methodKeys].push(e),s.prototype[e]=t[e])},ks=(s,t)=>{s[w.stateKeys]=[],t=t.apply(s.prototype),Object.keys(t).forEach(e=>{s[w.propKeys]&&s[w.propKeys].indexOf(e)>-1&&J.error(`State ${e} already exists as a prop`),s[w.methodKeys]&&s[w.methodKeys].indexOf(e)>-1&&J.error(`State ${e} already exists as a method`),s[w.stateKeys].push(e);try{Object.defineProperty(s.prototype,e,{get(){return this[w.state]&&e in this[w.state]&&this[w.state][e]},set(i){this[w.state]&&(this[w.state][e]=i)}})}catch(i){J.error(i)}})},$s=(s,t)=>{s[w.computedKeys]=[];for(let e in t)s[w.stateKeys]&&s[w.stateKeys].indexOf(e)>-1?J.error(`${e} already exists as a prop`):s[w.propKeys]&&s[w.propKeys].indexOf(e)>-1?J.error(`${e} already exists as a prop`):s[w.methodKeys]&&s[w.methodKeys].indexOf(e)>-1?J.error(`${e} already exists as a method`):(typeof t[e]!="function"&&J.warn(`${e} is not a function`),s[w.computedKeys].push(e),Object.defineProperty(s.prototype,e,{get(){return t[e].apply(this)}}))},Rs=(s,t)=>{s.prototype[w.inputEvents]=[],Object.keys(t).forEach(e=>{typeof t[e]!="function"&&J.warn(`${t[e]} is not a function`),s.prototype[w.inputEvents][e]=t[e]})},zs=(s,t)=>{s.prototype[w.routes]=[],Object.keys(t).forEach(e=>{s.prototype[w.routes][e]={...t[e],options:{inHistory:!0,...t[e].options}}})},Ms=(s,t)=>{s.prototype[w.watchKeys]=[],s.prototype[w.watchers]={};for(let e in t)typeof t[e]!="function"&&console.warn(`${e} is not a function`),s.prototype[w.watchKeys].push(e),s.prototype[w.watchers][e]=function(i,o){t[e].call(this,i,o)}},yt={element:Nt},gt=s=>{throw new Error(`Parameter ${s} is required`)},Le=(s=gt("name"),t=gt("config"))=>{const e=r=>{t.code||(J.debug(`Generating code for ${s} component`),t.code=ui.call(t,ci(t.template))),Cs(o),ss(t.hooks,s),r.state="beforeSetup",Ts(o,t.props),t.methods&&_s(o,t.methods),t.state&&ks(o,t.state),t.computed&&$s(o,t.computed),t.watch&&Ms(o,t.watch),t.routes&&zs(o,t.routes),t.input&&Rs(o,t.input),o.setup=!0,r.state="setup"},i=r=>{const n=["init","beforeSetup","setup","ready","focus","unfocus","destroy"];return{previous:null,current:null,get state(){return this.current},set state(f){n.indexOf(f)>-1&&f!==this.current&&(J.debug(`Setting lifecycle state from ${this.previous} to ${f} for ${r.componentId}`),this.previous=this.current,is(f,s,r),ts(f,s,r),this.current=f)}}},o=function(r,n,f){this.lifecycle=i(this),o.setup||e(this.lifecycle),this.parent=f,this[w.wrapper]=n,Object.defineProperties(this,{type:{value:s,writable:!1,enumerable:!0,configurable:!1},componentId:{value:es(s),writable:!1,enumerable:!0,configurable:!1},[w.id]:{value:os(),writable:!1,enumerable:!1,configurable:!1},[w.props]:{value:ut(r.props||{},Ge.get("reactivityMode")),writable:!1,enumerable:!1,configurable:!1}}),Object.defineProperty(this,w.originalState,{value:t.state&&typeof t.state=="function"&&t.state.apply(this)||{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,w.state,{value:ut(this[w.originalState],Ge.get("reactivityMode")),writable:!1,enumerable:!1,configurable:!1}),this.lifecycle.state="init",Object.defineProperty(this,w.children,{value:t.code.render.apply(yt,[n,this,t]),writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(this,w.slots,{value:this[w.children].filter(d=>d[w.isSlot]),writable:!1,enumerable:!1,configurable:!1}),t.code.effects.forEach(d=>{dt(()=>{d.apply(yt,[this,this[w.children],t])})}),this[w.watchers]&&Object.keys(this[w.watchers]).forEach(d=>{let a=this[d];dt((c=!1)=>{(a!==this[d]||c===!0)&&(this[w.watchers][d].apply(this,[this[d],a]),a=this[d])})}),setTimeout(()=>this.lifecycle.state="ready")},l=(r={},n,f)=>new o(r,n,f);return l.config=t,l},Es=s=>{const t={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down",Enter:"enter"," ":"space",Backspace:"back",Escape:"escape",37:"left",39:"right",38:"up",40:"down",13:"enter",32:"space",8:"back",27:"escape"};s.hooks=s.hooks||{};let e,i,o;return s.hooks[w.destroy]=function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",i)},s.hooks[w.init]=function(){const r={...t,...Ge.get("keymap",{})};e=n=>{const f=r[n.key]||r[n.keyCode]||n.key||n.keyCode;Me.input(f,n),clearTimeout(o),o=setTimeout(()=>{Me.hold=!0},50)},i=()=>{clearTimeout(o),Me.hold=!1},document.addEventListener("keydown",e),document.addEventListener("keyup",i),setTimeout(()=>Me.set(this))},Le("App",s)},W={Component:Le,Application:Es,Launch:Ki},Ls=new URL("fontLoader-4d2b0242.js",import.meta.url).href,xt=s=>new URLSearchParams(window.location.search).get(s),Ve={sky:{test(){return console.log(xt("keymapping")==="sky"),navigator.userAgent.indexOf("WPE Sky_TV")>-1||xt("keymapping")==="sky"},mapping:{Escape:"back",27:"back"}}},Fs=()=>{let s={};return Object.keys(Ve).forEach(t=>{if(Ve[t].test&&typeof Ve[t].test=="function"&&Ve[t].test()===!0){s=Ve[t].mapping;return}}),s},Bs=W.Component("PortalItem",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=370,l.h=320,o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.x=30,n.y=30,n.size=84,typeof r<"u")for(let y in r.config.props)delete n[r.config.props[y]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.x=30,f.y=30,f.content=e.number,f.size=84,f.color=e.fontColor,o[2]||(o[2]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]);const d=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.x=30,a.y=140,a.size=42,a.font="raleway",a.letterspacing=2,typeof d<"u")for(let y in d.config.props)delete a[d.config.props[y]];o[3].nodeId||o[3].populate(a),t=o[3];const c={};c.x=30,c.y=140,c.content=e.title,c.size=42,c.font="raleway",c.color=e.fontColor,c.letterspacing=2,o[4]||(o[4]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:c},o[3],e),o[4][Symbol.for("slots")][0]?(t=o[4][Symbol.for("slots")][0],e=o[4]):t=o[4][Symbol.for("children")][0]);const p=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};if(u.x=30,u.y=200,u.wordwrap=300,u.size=28,u.lineheight=32,typeof p<"u")for(let y in p.config.props)delete u[p.config.props[y]];o[5].nodeId||o[5].populate(u),t=o[5];const h={};return h.x=30,h.y=200,h.content=e.description,h.wordwrap=300,h.size=28,h.color=e.fontColor,h.lineheight=32,o[6]||(o[6]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:h},o[5],e),o[6][Symbol.for("slots")][0]?(t=o[6][Symbol.for("slots")][0],e=o[6]):t=o[6][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[0].set("scale",{transition:t.scale})},,function(t,e,i){e[0].set("color",t.backgroundColor)},,function(t,e,i){e[0].set("effects",[t.shader("radius",{radius:6})])},,function(t,e,i){e[1].set("content",t.number)},,function(t,e,i){e[1].set("color",t.fontColor)},,function(t,e,i){e[2][Symbol.for("props")].content=t.number},,function(t,e,i){e[2][Symbol.for("props")].color=t.fontColor},,function(t,e,i){e[3].set("content",t.title)},,function(t,e,i){e[3].set("color",t.fontColor)},,function(t,e,i){e[4][Symbol.for("props")].content=t.title},,function(t,e,i){e[4][Symbol.for("props")].color=t.fontColor},,function(t,e,i){e[5].set("content",t.description)},,function(t,e,i){e[5].set("color",t.fontColor)},,function(t,e,i){e[6][Symbol.for("props")].content=t.description},,function(t,e,i){e[6][Symbol.for("props")].color=t.fontColor}],context:{}},props:["title","description","index","id"],state(){return{backgroundColor:"#44037a",scale:1,fontColor:"#e8d7f9",number:this.index<9?`0${this.index+1}`:this.index+1}},hooks:{focus(){this.backgroundColor="#fafafa",this.fontColor="#000",this.scale=1.1},unfocus(){this.$router.navigating||(this.backgroundColor="#44037a",this.fontColor="#e8d7f9",this.scale=1)}},input:{enter(){this.$router.to(`/${this.id}`)},back(){}}}),Ps=W.Component("PortalRow",{components:{PortalItem:Bs},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};o[1].nodeId||o[1].populate(r);const n=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};if(f.content=e.title,f.x=60,typeof n<"u")for(let p in n.config.props)delete f[n.config.props[p]];o[2].nodeId||o[2].populate(f),t=o[2];const d={};d.content=e.title,d.x=60,o[3]||(o[3]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:d},o[2],e),o[3][Symbol.for("slots")][0]?(t=o[3][Symbol.for("slots")][0],e=o[3]):t=o[3][Symbol.for("children")][0]),t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.y=50,a.x=60,a.h=1,a.w=1800,a.color="#e8d7f9",o[4].nodeId||o[4].populate(a),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};return c.y=100,o[5].nodeId||o[5].populate(c),o},effects:[function(t,e,i){e[1].set("alpha",{transition:{value:t.itemOffset<240?1:0,duration:200}})},,function(t,e,i){e[5].set("x",{transition:t.rowOffset})},,function(t,e,i){parent=e[5];const o=t.items,l=[];for(let r=0;r<o.length;r++){parent=e[5],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.item.id);const f=i.components&&i.components.PortalItem||t[Symbol.for("components")].PortalItem;e[6]=e[6]||{},e[6][n.item.id]||(e[6][n.item.id]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const d={};if(d.title=n.item.title,d.description=n.item.description,d.id=n.item.id,d.index=n.index,d.key=n.item.id,typeof f<"u")for(let c in f.config.props)delete d[f.config.props[c]];e[6][n.item.id].nodeId||e[6][n.item.id].populate(d),e[7]=e[7]||{},parent=e[6][n.item.id];const a={};a.x={transition:{value:n.itemOffset+n.index*430,delay:50*(n.index%4),duration:500}},a.title=n.item.title,a.description=n.item.description,a.id=n.item.id,a.index=n.index,a.ref="item"+n.index,a.key=n.item.id,e[7][n.item.id]||(e[7][n.item.id]=(i.components&&i.components.PortalItem||t[Symbol.for("components")].PortalItem||(()=>{console.error("component PortalItem not found")})).call(null,{props:a},e[6][n.item.id],t),e[7][n.item.id][Symbol.for("slots")][0]?(parent=e[7][n.item.id][Symbol.for("slots")][0],t=e[7][n.item.id]):parent=e[7][n.item.id][Symbol.for("children")][0]),e[6][n.item.id].set("x",{transition:{value:n.itemOffset+n.index*430,delay:50*(n.index%4),duration:500}}),e[6][n.item.id].set("ref","item"+n.index),e[7][n.item.id][Symbol.for("props")].x={transition:{value:n.itemOffset+n.index*430,delay:50*(n.index%4),duration:500}},e[7][n.item.id][Symbol.for("props")].ref="item"+n.index}e[7]&&Object.keys(e[7]).forEach(r=>{l.indexOf(r)===-1&&(e[7][r].delete&&e[7][r].delete(),e[7][r].destroy&&e[7][r].destroy(),delete e[7][r])})}],context:{}},props:["title","items"],state(){return{focused:0,rowOffset:60,itemOffset:240}},hooks:{ready(){this.itemOffset=0},focus(){this.$trigger("focused")}},watch:{focused(s){const t=this.select(`item${s}`);t&&t.focus&&(t.focus(),s<1?this.rowOffset=60:s>this.items.length-2?this.rowOffset=60-(this.items.length-2)*430+430:this.rowOffset=60-s*430+430)}},input:{left(){this.focused>0?this.focused--:this.focused=this.items.length-1},right(){this.focused<this.items.length-1?this.focused++:this.focused=0}}}),Ns="@lightningjs/blits-example-app",As="0.5.7",Os="Lightning 3 Blits Example App",Ds="index.js",Ys="module",Ws={start:"npm run dev",lint:"eslint '**/*.js'","lint:fix":"eslint '**/*.js' --fix",build:"vite build",dev:"vite dev --host"},qs={hooks:{"pre-commit":"lint-staged"}},Xs="Michiel van der Geest <hello@michielvandergeest.com>",Us="Apache-2",Hs={eslint:"^8.8.0","eslint-config-prettier":"^8.3.0","eslint-plugin-prettier":"^4.0.0",husky:"^7.0.4","lint-staged":"^12.3.3",prettier:"^2.5.1",vite:"^4.0.4"},js={"@lightningjs/blits":"^0.6.4"},Gs={name:Ns,version:As,description:Os,main:Ds,type:Ys,scripts:Ws,"lint-staged":{"*.js":["eslint --fix"]},husky:qs,author:Xs,license:Us,devDependencies:Hs,dependencies:js},Vs=W.Component("Portal",{components:{PortalRow:Ps},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=1920,l.h=1080,l.color="{top: '#44037a', bottom: '#240244'}",o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.PortalRow||e[Symbol.for("components")].PortalRow;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.mount="{y: 0.5}",n.h=500,n.title="Demos",n.items=e.demo,n.ref="row0",typeof r<"u")for(let z in r.config.props)delete n[r.config.props[z]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.mount="{y: 0.5}",f.h=500,f.y={transition:-e.rowFocused*420+550},f.title="Demos",f.items=e.demo,f.ref="row0",o[2]||(o[2]=(i.components&&i.components.PortalRow||e[Symbol.for("components")].PortalRow||(()=>{console.error("component PortalRow not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]);const d=i.components&&i.components.PortalRow||e[Symbol.for("components")].PortalRow;t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.mount="{y: 0.5}",a.h=500,a.title="Examples and tests",a.items=e.example,a.ref="row1",typeof d<"u")for(let z in d.config.props)delete a[d.config.props[z]];o[3].nodeId||o[3].populate(a),t=o[3];const c={};c.mount="{y: 0.5}",c.h=500,c.y={transition:-e.rowFocused*420+1100},c.title="Examples and tests",c.items=e.example,c.ref="row1",o[4]||(o[4]=(i.components&&i.components.PortalRow||e[Symbol.for("components")].PortalRow||(()=>{console.error("component PortalRow not found")})).call(null,{props:c},o[3],e),o[4][Symbol.for("slots")][0]?(t=o[4][Symbol.for("slots")][0],e=o[4]):t=o[4][Symbol.for("children")][0]);const p=i.components&&i.components.PortalRow||e[Symbol.for("components")].PortalRow;t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};if(u.mount="{y: 0.5}",u.h=500,u.title="Benchmarks and stress tests",u.items=e.benchmark,u.ref="row2",typeof p<"u")for(let z in p.config.props)delete u[p.config.props[z]];o[5].nodeId||o[5].populate(u),t=o[5];const h={};h.mount="{y: 0.5}",h.h=500,h.y={transition:-e.rowFocused*420+1650},h.title="Benchmarks and stress tests",h.items=e.benchmark,h.ref="row2",o[6]||(o[6]=(i.components&&i.components.PortalRow||e[Symbol.for("components")].PortalRow||(()=>{console.error("component PortalRow not found")})).call(null,{props:h},o[5],e),o[6][Symbol.for("slots")][0]?(t=o[6][Symbol.for("slots")][0],e=o[6]):t=o[6][Symbol.for("children")][0]),t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.w=1920,y.h=200,y.color="#44037a",o[7].nodeId||o[7].populate(y),t=o[7],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};g.w=1920,g.h=70,g.y=200,g.color="{top: '#44037a'}",o[8].nodeId||o[8].populate(g),t=o[7],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};o[9].nodeId||o[9].populate(x),t=o[9],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};I.src="assets/blits-logo-full.png",I.w=200,I.h=112,I.x=60,o[10].nodeId||o[10].populate(I),t=o[9],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};b.w=2,b.h=120,b.y=-10,b.color="#ffffff80",b.x=300,o[11].nodeId||o[11].populate(b),t=o[9],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};C.x=320,C.y=16,o[12].nodeId||o[12].populate(C);const S=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[12],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};if(v.y=0,v.size=36,v.content="Example App",typeof S<"u")for(let z in S.config.props)delete v[S.config.props[z]];o[13].nodeId||o[13].populate(v),t=o[13];const _={};_.y=0,_.size=36,_.content="Example App",o[14]||(o[14]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:_},o[13],e),o[14][Symbol.for("slots")][0]?(t=o[14][Symbol.for("slots")][0],e=o[14]):t=o[14][Symbol.for("children")][0]);const T=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[12],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const $={};if($.y=50,$.size=24,$.content="v"+e.version,typeof T<"u")for(let z in T.config.props)delete $[T.config.props[z]];o[15].nodeId||o[15].populate($),t=o[15];const R={};return R.y=50,R.size=24,R.content="v"+e.version,o[16]||(o[16]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:R},o[15],e),o[16][Symbol.for("slots")][0]?(t=o[16][Symbol.for("slots")][0],e=o[16]):t=o[16][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[1].set("y",{transition:-t.rowFocused*420+550})},,function(t,e,i){e[2][Symbol.for("props")].y={transition:-t.rowFocused*420+550}},,function(t,e,i){e[3].set("y",{transition:-t.rowFocused*420+1100})},,function(t,e,i){e[4][Symbol.for("props")].y={transition:-t.rowFocused*420+1100}},,function(t,e,i){e[5].set("y",{transition:-t.rowFocused*420+1650})},,function(t,e,i){e[6][Symbol.for("props")].y={transition:-t.rowFocused*420+1650}},,function(t,e,i){e[9].set("y",{transition:{value:80-t.logoOffset,duration:400}})}],context:{}},state(){return{version:Gs.version,offset:60,rowFocused:0,rows:["demo","example","benchmark"],logoOffset:50,demo:[{title:"Loader",id:"demos/loading",description:"A basic loading screen"},{title:"Intro",id:"demos/intro",description:"A splash screen with custom animations"},{title:"Theming",id:"demos/theming",description:"Dynamically changing the styling of a component with themes"},{title:"TMDB",id:"demos/tmdb",description:"The Movie Database (TMDB) example using data from a remote API"},{title:"Sprites",id:"demos/sprites",description:"Display multiple images while keeping low memory footprint"},{title:"Focus",id:"demos/focushandling",description:"Managing focus between components in a simple layout"},{title:"Memory Game",id:"demos/memory-game",description:"Memory game with speech assistence (for accessibility)"}],example:[{title:"Positioning",id:"examples/positioning",description:"Positioning Elements and Components"},{title:"Colors",id:"examples/colors",description:"Using different formats and notations for defining colors"},{title:"Gradients",id:"examples/gradients",description:"Example of Basic gradients"},{title:"Transitions",id:"examples/transitions",description:"Comparing different transition easing functions"},{title:"Components",id:"examples/components",description:"Reusable Components"},{title:"Alpha",id:"examples/alpha",description:"Applying transparency to Elements, Images and Components"},{title:"Scaling",id:"examples/scaling",description:"Resizing and scaling Elements and Components"},{title:"Rotation",id:"examples/rotation",description:"Rotating Elements"},{title:"Key input",id:"examples/keyinput",description:"Handling user input events"},{title:"For Loop",id:"examples/forloop",description:"Iterating over Elements and Components using for loops"},{title:"Effects",id:"examples/effects",description:"Applying one or multiple effects (aka shaders)"},{title:"Show",id:"examples/showif",description:"Conditionally show or hide Elements and Components"},{title:"Events",id:"examples/events",description:"Communication between components by emitting and listening for events"},{title:"Images",id:"examples/images",description:"1 image says more than 1000 words ;)"},{title:"Texts",id:"examples/texts",description:"Displaying and formatting text"},{title:"Slots",id:"examples/slots",description:"Insert dynamic content from a parent into a child using slots"}],benchmark:[{title:"Exponential",id:"benchmarks/exponential",description:"Spawn a large number of components at an exponential rate"}]}},hooks:{ready(){this.logoOffset=0,this.$trigger("rowFocused")}},watch:{rowFocused(s){const t=this.select(`row${s}`);t&&t.focus&&t.focus()}},input:{up(){this.rowFocused=(this.rowFocused-1+this.rows.length)%this.rows.length},down(){this.rowFocused=(this.rowFocused+1)%this.rows.length}}}),Ks=W.Component("Letter",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.w=e.w,r.color="#E6E6E6",o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=e.w,n.h=280,o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};return f.w=e.w,f.color="#E6E6E6",o[3].nodeId||o[3].populate(f),o},effects:[function(t,e,i){e[1].set("h",{transition:{value:410+t.offset,duration:t.duration,delay:t.wait,function:t.timingFunction}})},,function(t,e,i){e[2].set("src",t.image)},,function(t,e,i){e[2].set("y",{transition:{value:400+t.offset,duration:t.duration,delay:t.wait,function:t.timingFunction}})},,function(t,e,i){e[3].set("h",{transition:{value:500-t.offset,duration:t.duration,delay:t.wait,function:t.timingFunction}})},,function(t,e,i){e[3].set("y",{transition:{value:660+t.offset,duration:t.duration,delay:t.wait,function:t.timingFunction}})}],context:{}},props:["w","letter","direction","delay"],computed:{image(){return`${window.location.protocol}//${window.location.host}/assets/${this.letter}.png`}},state(){return{offset:this.direction==="up"?-680:680,duration:1e3,wait:0,timingFunction:"cubic-bezier(1,-0.64,.39,1.44)"}},hooks:{ready(){this.animate()}},methods:{animate(){this.$setTimeout(()=>{this.offset=0},1e3),this.$setTimeout(()=>{this.wait=this.delay+150,this.duration=1e3,this.offset=1080},2800),this.$setTimeout(()=>{this.wait=this.delay/3,this.timingFunction="ease-in-out",this.duration=1500,this.offset=0},5e3)}}}),Qs=W.Component("Intro",{components:{Letter:Ks},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=1920,l.h=1080,o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.letter="l",n.w=294,typeof r<"u")for(let L in r.config.props)delete n[r.config.props[L]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.letter="l",f.w=294,o[2]||(o[2]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]);const d=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.letter="i-1",a.w=128,a.x=294,a.direction="up",a.delay=50,typeof d<"u")for(let L in d.config.props)delete a[d.config.props[L]];o[3].nodeId||o[3].populate(a),t=o[3];const c={};c.letter="i-1",c.w=128,c.x=294,c.direction="up",c.delay=50,o[4]||(o[4]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:c},o[3],e),o[4][Symbol.for("slots")][0]?(t=o[4][Symbol.for("slots")][0],e=o[4]):t=o[4][Symbol.for("children")][0]);const p=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};if(u.letter="g-1",u.w=205,u.x=422,u.delay=100,typeof p<"u")for(let L in p.config.props)delete u[p.config.props[L]];o[5].nodeId||o[5].populate(u),t=o[5];const h={};h.letter="g-1",h.w=205,h.x=422,h.delay=100,o[6]||(o[6]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:h},o[5],e),o[6][Symbol.for("slots")][0]?(t=o[6][Symbol.for("slots")][0],e=o[6]):t=o[6][Symbol.for("children")][0]);const y=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};if(g.letter="h",g.w=224,g.x=627,g.direction="up",g.delay=150,typeof y<"u")for(let L in y.config.props)delete g[y.config.props[L]];o[7].nodeId||o[7].populate(g),t=o[7];const x={};x.letter="h",x.w=224,x.x=627,x.direction="up",x.delay=150,o[8]||(o[8]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:x},o[7],e),o[8][Symbol.for("slots")][0]?(t=o[8][Symbol.for("slots")][0],e=o[8]):t=o[8][Symbol.for("children")][0]);const I=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};if(b.letter="t",b.w=190,b.x=851,b.delay=200,typeof I<"u")for(let L in I.config.props)delete b[I.config.props[L]];o[9].nodeId||o[9].populate(b),t=o[9];const C={};C.letter="t",C.w=190,C.x=851,C.delay=200,o[10]||(o[10]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:C},o[9],e),o[10][Symbol.for("slots")][0]?(t=o[10][Symbol.for("slots")][0],e=o[10]):t=o[10][Symbol.for("children")][0]);const S=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};if(v.letter="n-1",v.w=221,v.x=1041,v.direction="up",v.delay=250,typeof S<"u")for(let L in S.config.props)delete v[S.config.props[L]];o[11].nodeId||o[11].populate(v),t=o[11];const _={};_.letter="n-1",_.w=221,_.x=1041,_.direction="up",_.delay=250,o[12]||(o[12]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:_},o[11],e),o[12][Symbol.for("slots")][0]?(t=o[12][Symbol.for("slots")][0],e=o[12]):t=o[12][Symbol.for("children")][0]);const T=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const $={};if($.letter="i-2",$.w=115,$.x=1262,$.delay=300,typeof T<"u")for(let L in T.config.props)delete $[T.config.props[L]];o[13].nodeId||o[13].populate($),t=o[13];const R={};R.letter="i-2",R.w=115,R.x=1262,R.delay=300,o[14]||(o[14]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:R},o[13],e),o[14][Symbol.for("slots")][0]?(t=o[14][Symbol.for("slots")][0],e=o[14]):t=o[14][Symbol.for("children")][0]);const z=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const k={};if(k.letter="n-2",k.w=219,k.x=1377,k.direction="up",k.delay=350,typeof z<"u")for(let L in z.config.props)delete k[z.config.props[L]];o[15].nodeId||o[15].populate(k),t=o[15];const M={};M.letter="n-2",M.w=219,M.x=1377,M.direction="up",M.delay=350,o[16]||(o[16]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:M},o[15],e),o[16][Symbol.for("slots")][0]?(t=o[16][Symbol.for("slots")][0],e=o[16]):t=o[16][Symbol.for("children")][0]);const F=i.components&&i.components.Letter||e[Symbol.for("components")].Letter;t=o[0],o[17]||(o[17]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const B={};if(B.letter="g-2",B.w=324,B.x=1596,B.direction="up",B.delay=400,typeof F<"u")for(let L in F.config.props)delete B[F.config.props[L]];o[17].nodeId||o[17].populate(B),t=o[17];const E={};return E.letter="g-2",E.w=324,E.x=1596,E.direction="up",E.delay=400,o[18]||(o[18]=(i.components&&i.components.Letter||e[Symbol.for("components")].Letter||(()=>{console.error("component Letter not found")})).call(null,{props:E},o[17],e),o[18][Symbol.for("slots")][0]?(t=o[18][Symbol.for("slots")][0],e=o[18]):t=o[18][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[0].set("src",t.background)}],context:{}},state(){return{background:`${window.location.protocol}//${window.location.host}/assets/background.png`}}}),Zs=W.Component("Toggle",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=100,l.h=50,l.y=5,o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Circle||e[Symbol.for("components")].Circle;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.size=50,typeof r<"u")for(let d in r.config.props)delete n[r.config.props[d]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};return f.x={transition:e.on?0:50},f.size=50,f.color=e.primaryColor,o[2]||(o[2]=(i.components&&i.components.Circle||e[Symbol.for("components")].Circle||(()=>{console.error("component Circle not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[0].set("color",t.bgColor)},,function(t,e,i){e[0].set("effects",[t.shader("radius",{radius:25})])},,function(t,e,i){e[1].set("x",{transition:t.on?0:50})},,function(t,e,i){e[1].set("color",t.primaryColor)},,function(t,e,i){e[2][Symbol.for("props")].x={transition:t.on?0:50}},,function(t,e,i){e[2][Symbol.for("props")].color=t.primaryColor}],context:{}},props:["bgColor","primaryColor","on"]}),Js=W.Component("Bar",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};return o[1].nodeId||o[1].populate(r),o},effects:[function(t,e,i){e[0].set("w",{value:t.w,duration:t.duration})},,function(t,e,i){e[0].set("h",{value:t.h,duration:t.duration})},,function(t,e,i){e[0].set("color",t.bgColor)},,function(t,e,i){e[0].set("x",t.index*(t.w+t.w/4))},,function(t,e,i){e[0].set("effects",[t.shader("radius",{radius:10})])},,function(t,e,i){e[1].set("w",t.w)},,function(t,e,i){e[1].set("y",{transition:{value:t.h-t.innerH,duration:t.duration}})},,function(t,e,i){e[1].set("h",{transition:{value:t.innerH,duration:t.duration}})},,function(t,e,i){e[1].set("color",t.primaryColor)},,function(t,e,i){e[1].set("effects",[t.shader("radius",{radius:10})])}],context:{}},props:["bgColor","primaryColor","height","index","size"],state(){return{h:200,innerH:0,duration:400}},hooks:{ready(){this.innerH=this.height}},computed:{w(){return this.size==="large"?110:72}},watch:{bgColor(){this.duration=1e-6,this.innerH=0,this.$setTimeout(()=>{this.duration=400,this.innerH=this.height},200)},size(){this.duration=1e-6,this.innerH=0,this.$setTimeout(()=>{this.duration=400,this.innerH=this.height},100)}}}),en={color1:"#475569",color2:"#64748b",color3:"#cbd5e1",color4:"#38bdf8",bg:"#1e293b80"},on={color1:"#f8fafc",color2:"#e2e8f0",color3:"#1e293b",color4:"#0369a1",bg:"#f1f5f9"},tn=W.Component("Theming",{components:{Bar:Js,Toggle:Zs},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=1920,l.h=1080,o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.y=1020,n.x=1160,n.size=28,n.content='Use "up", "down", "left" and "right" to change the appearance',typeof r<"u")for(let X in r.config.props)delete n[r.config.props[X]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.y=1020,f.x=1160,f.size=28,f.color=e.colors.color4,f.content='Use "up", "down", "left" and "right" to change the appearance',o[2]||(o[2]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};o[3].nodeId||o[3].populate(d),t=o[3],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.x=-250,a.y=-100,a.src="assets/shadow.png",a.w=1e3,a.h=900,a.alpha=.5,o[4].nodeId||o[4].populate(a),t=o[3],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};o[5].nodeId||o[5].populate(c),t=o[5],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.h=100,o[6].nodeId||o[6].populate(p),t=o[5],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.h=80,u.y=20,o[7].nodeId||o[7].populate(u);const h=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[5],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};if(y.size=28,y.x=20,y.y=14,typeof h<"u")for(let X in h.config.props)delete y[h.config.props[X]];o[8].nodeId||o[8].populate(y),t=o[8];const g={};g.content=e.text,g.color=e.colors.color3,g.size=28,g.x=20,g.y=14,o[9]||(o[9]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:g},o[8],e),o[9][Symbol.for("slots")][0]?(t=o[9][Symbol.for("slots")][0],e=o[9]):t=o[9][Symbol.for("children")][0]);const x=i.components&&i.components.Toggle||e[Symbol.for("components")].Toggle;t=o[5],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};if(I.primaryColor="#22c55e",typeof x<"u")for(let X in x.config.props)delete I[x.config.props[X]];o[10].nodeId||o[10].populate(I),t=o[10];const b={};b.x={transition:e.width-120},b.on=e.mode==="dark",b.bgColor=e.colors.color1,b.primaryColor="#22c55e",o[11]||(o[11]=(i.components&&i.components.Toggle||e[Symbol.for("components")].Toggle||(()=>{console.error("component Toggle not found")})).call(null,{props:b},o[10],e),o[11][Symbol.for("slots")][0]?(t=o[11][Symbol.for("slots")][0],e=o[11]):t=o[11][Symbol.for("children")][0]),t=o[3],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};C.w=200,C.x=25,C.y=140,o[12].nodeId||o[12].populate(C),t=o[3],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const S={};S.x=270,o[13].nodeId||o[13].populate(S),t=o[3],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};v.color="transparent",o[14].nodeId||o[14].populate(v),t=o[14],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _={};o[15].nodeId||o[15].populate(_);const T=i.components&&i.components.Bar||e[Symbol.for("components")].Bar;t=o[15],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const $={};if($.height=100,$.index=0,typeof T<"u")for(let X in T.config.props)delete $[T.config.props[X]];o[16].nodeId||o[16].populate($),t=o[16];const R={};R.bgColor=e.colors.color2,R.primaryColor=e.colors.color4,R.size=e.graph.size,R.height=100,R.index=0,o[17]||(o[17]=(i.components&&i.components.Bar||e[Symbol.for("components")].Bar||(()=>{console.error("component Bar not found")})).call(null,{props:R},o[16],e),o[17][Symbol.for("slots")][0]?(t=o[17][Symbol.for("slots")][0],e=o[17]):t=o[17][Symbol.for("children")][0]);const z=i.components&&i.components.Bar||e[Symbol.for("components")].Bar;t=o[15],o[18]||(o[18]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const k={};if(k.height=140,k.index=1,typeof z<"u")for(let X in z.config.props)delete k[z.config.props[X]];o[18].nodeId||o[18].populate(k),t=o[18];const M={};M.bgColor=e.colors.color2,M.primaryColor=e.colors.color4,M.size=e.graph.size,M.height=140,M.index=1,o[19]||(o[19]=(i.components&&i.components.Bar||e[Symbol.for("components")].Bar||(()=>{console.error("component Bar not found")})).call(null,{props:M},o[18],e),o[19][Symbol.for("slots")][0]?(t=o[19][Symbol.for("slots")][0],e=o[19]):t=o[19][Symbol.for("children")][0]);const F=i.components&&i.components.Bar||e[Symbol.for("components")].Bar;t=o[15],o[20]||(o[20]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const B={};if(B.height=170,B.index=2,typeof F<"u")for(let X in F.config.props)delete B[F.config.props[X]];o[20].nodeId||o[20].populate(B),t=o[20];const E={};E.bgColor=e.colors.color2,E.primaryColor=e.colors.color4,E.size=e.graph.size,E.height=170,E.index=2,o[21]||(o[21]=(i.components&&i.components.Bar||e[Symbol.for("components")].Bar||(()=>{console.error("component Bar not found")})).call(null,{props:E},o[20],e),o[21][Symbol.for("slots")][0]?(t=o[21][Symbol.for("slots")][0],e=o[21]):t=o[21][Symbol.for("children")][0]);const L=i.components&&i.components.Bar||e[Symbol.for("components")].Bar;t=o[15],o[22]||(o[22]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const U={};if(U.height=150,U.index=3,typeof L<"u")for(let X in L.config.props)delete U[L.config.props[X]];o[22].nodeId||o[22].populate(U),t=o[22];const A={};A.bgColor=e.colors.color2,A.primaryColor=e.colors.color4,A.size=e.graph.size,A.height=150,A.index=3,o[23]||(o[23]=(i.components&&i.components.Bar||e[Symbol.for("components")].Bar||(()=>{console.error("component Bar not found")})).call(null,{props:A},o[22],e),o[23][Symbol.for("slots")][0]?(t=o[23][Symbol.for("slots")][0],e=o[23]):t=o[23][Symbol.for("children")][0]);const q=i.components&&i.components.Bar||e[Symbol.for("components")].Bar;t=o[15],o[24]||(o[24]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const N={};if(N.height=90,N.index=4,typeof q<"u")for(let X in q.config.props)delete N[q.config.props[X]];o[24].nodeId||o[24].populate(N),t=o[24];const G={};return G.bgColor=e.colors.color2,G.primaryColor=e.colors.color4,G.size=e.graph.size,G.height=90,G.index=4,o[25]||(o[25]=(i.components&&i.components.Bar||e[Symbol.for("components")].Bar||(()=>{console.error("component Bar not found")})).call(null,{props:G},o[24],e),o[25][Symbol.for("slots")][0]?(t=o[25][Symbol.for("slots")][0],e=o[25]):t=o[25][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[0].set("color",{transition:t.colors.bg})},,function(t,e,i){e[1].set("color",t.colors.color4)},,function(t,e,i){e[2][Symbol.for("props")].color=t.colors.color4},,function(t,e,i){e[3].set("x",{transition:(1920-t.width)/2})},,function(t,e,i){e[3].set("y",{transition:(1080-t.height)/2})},,function(t,e,i){e[5].set("w",{transition:t.width})},,function(t,e,i){e[5].set("h",{transition:t.height})},,function(t,e,i){e[5].set("color",t.colors.color1)},,function(t,e,i){e[5].set("effects",[t.shader("radius",{radius:t.radius})])},,function(t,e,i){e[6].set("w",{transition:t.width})},,function(t,e,i){e[6].set("color",t.colors.color2)},,function(t,e,i){e[6].set("effects",[t.shader("radius",{radius:t.radius})])},,function(t,e,i){e[7].set("w",{transition:t.width})},,function(t,e,i){e[7].set("color",t.colors.color2)},,function(t,e,i){e[8].set("content",t.text)},,function(t,e,i){e[8].set("color",t.colors.color3)},,function(t,e,i){e[9][Symbol.for("props")].content=t.text},,function(t,e,i){e[9][Symbol.for("props")].color=t.colors.color3},,function(t,e,i){e[10].set("x",{transition:t.width-120})},,function(t,e,i){e[10].set("on",t.mode==="dark")},,function(t,e,i){e[10].set("bgColor",t.colors.color1)},,function(t,e,i){e[11][Symbol.for("props")].x={transition:t.width-120}},,function(t,e,i){e[11][Symbol.for("props")].on=t.mode==="dark"},,function(t,e,i){e[11][Symbol.for("props")].bgColor=t.colors.color1},,function(t,e,i){e[12].set("h",{transition:t.block1.height})},,function(t,e,i){e[12].set("color",t.colors.color2)},,function(t,e,i){e[12].set("effects",[t.shader("radius",{radius:t.radius/2})])},,function(t,e,i){e[13].set("w",{transition:t.block2.w})},,function(t,e,i){e[13].set("h",t.block2.h)},,function(t,e,i){e[13].set("y",{transition:t.block2.y})},,function(t,e,i){e[13].set("color",t.colors.color2)},,function(t,e,i){e[13].set("effects",[t.shader("radius",{radius:t.radius/2})])},,function(t,e,i){e[14].set("x",{transition:t.graph.x})},,function(t,e,i){e[14].set("y",{transition:t.graph.y})},,function(t,e,i){e[14].set("w",t.graph.w)},,function(t,e,i){e[14].set("h",t.graph.h)},,function(t,e,i){e[15].set("x",{transition:t.graph.offset})},,function(t,e,i){e[15].set("y",{transition:t.graph.offset})},,function(t,e,i){e[16].set("bgColor",t.colors.color2)},,function(t,e,i){e[16].set("primaryColor",t.colors.color4)},,function(t,e,i){e[16].set("size",t.graph.size)},,function(t,e,i){e[17][Symbol.for("props")].bgColor=t.colors.color2},,function(t,e,i){e[17][Symbol.for("props")].primaryColor=t.colors.color4},,function(t,e,i){e[17][Symbol.for("props")].size=t.graph.size},,function(t,e,i){e[18].set("bgColor",t.colors.color2)},,function(t,e,i){e[18].set("primaryColor",t.colors.color4)},,function(t,e,i){e[18].set("size",t.graph.size)},,function(t,e,i){e[19][Symbol.for("props")].bgColor=t.colors.color2},,function(t,e,i){e[19][Symbol.for("props")].primaryColor=t.colors.color4},,function(t,e,i){e[19][Symbol.for("props")].size=t.graph.size},,function(t,e,i){e[20].set("bgColor",t.colors.color2)},,function(t,e,i){e[20].set("primaryColor",t.colors.color4)},,function(t,e,i){e[20].set("size",t.graph.size)},,function(t,e,i){e[21][Symbol.for("props")].bgColor=t.colors.color2},,function(t,e,i){e[21][Symbol.for("props")].primaryColor=t.colors.color4},,function(t,e,i){e[21][Symbol.for("props")].size=t.graph.size},,function(t,e,i){e[22].set("bgColor",t.colors.color2)},,function(t,e,i){e[22].set("primaryColor",t.colors.color4)},,function(t,e,i){e[22].set("size",t.graph.size)},,function(t,e,i){e[23][Symbol.for("props")].bgColor=t.colors.color2},,function(t,e,i){e[23][Symbol.for("props")].primaryColor=t.colors.color4},,function(t,e,i){e[23][Symbol.for("props")].size=t.graph.size},,function(t,e,i){e[24].set("bgColor",t.colors.color2)},,function(t,e,i){e[24].set("primaryColor",t.colors.color4)},,function(t,e,i){e[24].set("size",t.graph.size)},,function(t,e,i){e[25][Symbol.for("props")].bgColor=t.colors.color2},,function(t,e,i){e[25][Symbol.for("props")].primaryColor=t.colors.color4},,function(t,e,i){e[25][Symbol.for("props")].size=t.graph.size}],context:{}},state(){return{mode:"dark",radius:20,width:500,height:600}},computed:{colors(){return this.mode==="dark"?en:on},text(){return this.mode==="dark"?"Dark mode":"Light mode"},block1(){return{height:this.height===600?180:720}},block2(){return{y:this.height===600?140:560,h:this.height===600?180:300,w:this.height===600?200:890}},graph(){return{x:this.height===600?32:270,y:this.height===600?370:140,w:this.height===600?0:890,h:this.height===600?0:400,offset:this.height===600?0:110,size:this.height===600?"small":"large"}}},input:{right(){this.toggleX=0,this.$setTimeout(()=>{this.mode="light"},150)},left(){this.toggleX=48,this.$setTimeout(()=>{this.mode="dark"},150)},up(){this.width=1200,this.height=900},down(){this.width=500,this.height=600}}}),sn="ABC123",nn="https://8b4fa39d.lightningjs.workers.dev";let Gt,Vt;const rn="w185",ln={headers:{"Content-Type":"application/json",Authorization:"Bearer "+sn}};function bt(s,t=rn){return Vt+t+s}function fn(...s){return Gt?Ho(...s):Kt().then(()=>Ho(...s))}function Ho(s,t={}){return fetch(nn+s,{...ln,...t}).then(e=>e.json())}function Kt(){return Ho("/configuration").then(s=>(Gt=s,Vt=s.images.secure_base_url,s))}const an={get:fn,loadConfig:Kt};function dn(s){return an.get(`/${s}/popular`).then(t=>t.results.filter(i=>!i.adult).map(i=>({poster:bt(i.poster_path||i.profile_path),background:bt(i.backdrop_path,"w1280"),identifier:i.id,title:i.title,overview:i.overview})))}const cn=W.Component("Poster",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};return l.w=185,l.h=278,l.x=e.x,o[0].nodeId||o[0].populate(l),o},effects:[function(t,e,i){e[0].set("src",t.src)},,function(t,e,i){e[0].set("color",{top:"#fff",bottom:t.colorBottom})},,function(t,e,i){e[0].set("scale",{transition:{value:t.scale,duration:200,function:"cubic-bezier(0.20, 1.00, 0.80, 1.00)"}})},,function(t,e,i){e[0].set("effects",[t.shader("radius",{radius:8})])}],context:{}},props:["src","index"],state(){return{scale:1,colorBottom:"#000"}},computed:{x(){return this.index*215}},hooks:{focus(){this.colorBottom="#fff",this.scale=1.1,this.$emit("posterSelect",this.index)},unfocus(){this.colorBottom="#000",this.scale=1}}}),un=W.Component("Background",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.w=1920,r.h=1080,r.color="{top: '#fff', bottom: '#000'}",o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=1920,n.h=1080,n.color="{top: '#fff', bottom: '#000'}",o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};return f.w=1920,f.h=1080,o[3].nodeId||o[3].populate(f),o},effects:[function(t,e,i){e[1].set("src",t.bg1)},,function(t,e,i){e[1].set("alpha",{transition:{value:t.alpha1,duration:400,function:"ease-in"}})},,function(t,e,i){e[2].set("src",t.bg2)},,function(t,e,i){e[2].set("alpha",{transition:{value:t.alpha2,duration:400,function:"ease-in"}})},,function(t,e,i){e[3].set("effects",[t.shader("radialGradient",{colors:[0,2288442879],stops:[.3,1.4],height:1080,width:1920,pivot:[1,0]})])}],context:{}},props:["src"],state(){return{counter:0,alpha1:0,alpha2:0,bg1:!1,bg2:!1}},watch:{src(s){this.counter=(this.counter+1)%2,this.counter===0?(this.bg1=s,this.alpha1=.8,this.alpha2=0):(this.bg2=s,this.alpha1=0,this.alpha2=.8)}}}),hn=W.Component("TMdb",{components:{Poster:cn,Background:un},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=1920,l.h=1080,l.color="black",o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Background||e[Symbol.for("components")].Background;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(typeof r<"u")for(let I in r.config.props)delete n[r.config.props[I]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.src=e.src,o[2]||(o[2]=(i.components&&i.components.Background||e[Symbol.for("components")].Background||(()=>{console.error("component Background not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};o[3].nodeId||o[3].populate(d),t=o[3],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.src="assets/logo.png",a.x=130,a.w=243,a.h=52,o[4].nodeId||o[4].populate(a);const c=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[3],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};if(p.font="raleway",p.size=80,p.x=130,p.y=200,p.wordwrap=1e3,p["@loaded"]=e.positionText&&e.positionText.bind(e),typeof c<"u")for(let I in c.config.props)delete p[c.config.props[I]];o[5].nodeId||o[5].populate(p),t=o[5];const u={};u.content=e.title,u.font="raleway",u.size=80,u.x=130,u.y=200,u.wordwrap=1e3,u["@loaded"]=e.positionText&&e.positionText.bind(e),o[6]||(o[6]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:u},o[5],e),o[6][Symbol.for("slots")][0]?(t=o[6][Symbol.for("slots")][0],e=o[6]):t=o[6][Symbol.for("children")][0]);const h=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[3],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};if(y.wordwrap=800,y.x=130,typeof h<"u")for(let I in h.config.props)delete y[h.config.props[I]];o[7].nodeId||o[7].populate(y),t=o[7];const g={};g.content=e.overview,g.wordwrap=800,g.x=130,g.y=e.offset+320,o[8]||(o[8]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:g},o[7],e),o[8][Symbol.for("slots")][0]?(t=o[8][Symbol.for("slots")][0],e=o[8]):t=o[8][Symbol.for("children")][0]),t=o[3],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};return o[9].nodeId||o[9].populate(x),o},effects:[function(t,e,i){e[1].set("src",t.src)},,function(t,e,i){e[2][Symbol.for("props")].src=t.src},,function(t,e,i){e[3].set("alpha",{transition:{value:t.alphaIn,duration:300,function:"cubic-bezier(0.20, 1.00, 0.80, 1.00)"}})},,function(t,e,i){e[4].set("y",{transition:{value:t.logoY,duration:300,function:"cubic-bezier(0.20, 1.00, 0.80, 1.00)"}})},,function(t,e,i){e[5].set("content",t.title)},,function(t,e,i){e[6][Symbol.for("props")].content=t.title},,function(t,e,i){e[7].set("content",t.overview)},,function(t,e,i){e[7].set("y",t.offset+320)},,function(t,e,i){e[8][Symbol.for("props")].content=t.overview},,function(t,e,i){e[8][Symbol.for("props")].y=t.offset+320},,function(t,e,i){e[9].set("x",{transition:{value:t.x,duration:300,function:"ease-in-out"}})},,function(t,e,i){e[9].set("y",{transition:{value:t.listY,duration:300,function:"cubic-bezier(0.20, 1.00, 0.80, 1.00)"}})},,function(t,e,i){parent=e[9];const o=t.items,l=[];for(let r=0;r<o.length;r++){parent=e[9],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.key.toString());const f=i.components&&i.components.Poster||t[Symbol.for("components")].Poster;e[10]=e[10]||{},e[10][n.key]||(e[10][n.key]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const d={};if(d.index=n.index,d.src=n.item.poster,d.ref=n.item.identifier,typeof f<"u")for(let c in f.config.props)delete d[f.config.props[c]];e[10][n.key].nodeId||e[10][n.key].populate(d),e[11]=e[11]||{},parent=e[10][n.key];const a={};a.index=n.index,a.src=n.item.poster,a.ref=n.item.identifier,a.key=n.item.identifier,e[11][n.key]||(e[11][n.key]=(i.components&&i.components.Poster||t[Symbol.for("components")].Poster||(()=>{console.error("component Poster not found")})).call(null,{props:a},e[10][n.key],t),e[11][n.key][Symbol.for("slots")][0]?(parent=e[11][n.key][Symbol.for("slots")][0],t=e[11][n.key]):parent=e[11][n.key][Symbol.for("children")][0]),e[10][n.key].set("key",n.item.identifier),e[11][n.key][Symbol.for("props")].key=n.item.identifier}e[11]&&Object.keys(e[11]).forEach(r=>{l.indexOf(r)===-1&&(e[11][r].delete&&e[11][r].delete(),e[11][r].destroy&&e[11][r].destroy(),delete e[11][r])})}],context:{}},state(){return{items:[],src:"",focused:null,alphaIn:.001,logoY:30,listY:750,offset:0}},computed:{x(){return this.focused<=1?150:150-Math.min(this.focused-1,this.items.length-8)*215},title(){return this.items[this.focused]&&this.items[this.focused].title},overview(){return this.items[this.focused]&&this.items[this.focused].overview}},watch:{focused(s){const t=this.select(this.items[s]&&this.items[s].identifier);t&&t.focus&&t.focus()}},hooks:{ready(){this.alphaIn=1,this.listY=700,this.logoY=80,dn("movie").then(s=>{this.items=s,this.focused=0,this.background=s[this.focused].background}),this.$listen("posterSelect",s=>{this.src=this.items[s].background})},focus(){this.$trigger("focused")}},input:{left(){this.focused=Math.max(this.focused-1,0)},right(){this.focused=Math.min(this.focused+1,this.items.length-1)}},methods:{positionText(s){this.offset=s.h-100}}}),pn=W.Component("MenuSprite",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};o[1].nodeId||o[1].populate(r),t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.src="assets/menusprite.png",n.x=748,n.y=120,n.w=425,n.h=340,o[2].nodeId||o[2].populate(n),t=o[1],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.y=680,f.x=560,o[3].nodeId||o[3].populate(f);const d=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[3],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.image="assets/menusprite.png",a.x=0,a.w=140,a.h=140,a.map=e.map,typeof d<"u")for(let S in d.config.props)delete a[d.config.props[S]];o[4].nodeId||o[4].populate(a),t=o[4];const c={};c.image="assets/menusprite.png",c.x=0,c.w=140,c.h=140,c.map=e.map,c.frame=e.icon1,o[5]||(o[5]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:c},o[4],e),o[5][Symbol.for("slots")][0]?(t=o[5][Symbol.for("slots")][0],e=o[5]):t=o[5][Symbol.for("children")][0]);const p=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[3],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};if(u.image="assets/menusprite.png",u.x=220,u.w=140,u.h=140,u.map=e.map,u.frame="icon2",typeof p<"u")for(let S in p.config.props)delete u[p.config.props[S]];o[6].nodeId||o[6].populate(u),t=o[6];const h={};h.image="assets/menusprite.png",h.x=220,h.w=140,h.h=140,h.map=e.map,h.frame="icon2",o[7]||(o[7]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:h},o[6],e),o[7][Symbol.for("slots")][0]?(t=o[7][Symbol.for("slots")][0],e=o[7]):t=o[7][Symbol.for("children")][0]);const y=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[3],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};if(g.image="assets/menusprite.png",g.x=440,g.w=140,g.h=140,g.map=e.map,g.frame="icon3",typeof y<"u")for(let S in y.config.props)delete g[y.config.props[S]];o[8].nodeId||o[8].populate(g),t=o[8];const x={};x.image="assets/menusprite.png",x.x=440,x.w=140,x.h=140,x.map=e.map,x.frame="icon3",o[9]||(o[9]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:x},o[8],e),o[9][Symbol.for("slots")][0]?(t=o[9][Symbol.for("slots")][0],e=o[9]):t=o[9][Symbol.for("children")][0]);const I=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[3],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};if(b.image="assets/menusprite.png",b.x=660,b.w=140,b.h=140,b.map=e.map,b.frame="icon4_unfocus",typeof I<"u")for(let S in I.config.props)delete b[I.config.props[S]];o[10].nodeId||o[10].populate(b),t=o[10];const C={};return C.image="assets/menusprite.png",C.x=660,C.w=140,C.h=140,C.map=e.map,C.frame="icon4_unfocus",o[11]||(o[11]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:C},o[10],e),o[11][Symbol.for("slots")][0]?(t=o[11][Symbol.for("slots")][0],e=o[11]):t=o[11][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[4].set("frame",t.icon1)},,function(t,e,i){e[5][Symbol.for("props")].frame=t.icon1}],context:{}},state(){return{icon1:"icon1_unfocus",map:{defaults:{w:160,h:160},frames:{icon1_focus:{x:0,y:0},icon1_unfocus:{x:170,y:340},icon2:{x:170,y:0},icon3:{x:350,y:0},icon4_unfocus:{x:680,y:170}}}}},hooks:{ready(){this.$setInterval(()=>{this.icon1=this.icon1==="icon1_unfocus"?"icon1_focus":"icon1_unfocus"},2e3)}}}),ho=["menu"],mn=W.Component("Sprites",{components:{MenuSprite:pn},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.MenuSprite||e[Symbol.for("components")].MenuSprite;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(typeof r<"u")for(let d in r.config.props)delete n[r.config.props[d]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};return f.show=e.currentSprite==="menu",o[2]||(o[2]=(i.components&&i.components.MenuSprite||e[Symbol.for("components")].MenuSprite||(()=>{console.error("component MenuSprite not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[1].set("show",t.currentSprite==="menu")},,function(t,e,i){e[2][Symbol.for("props")].show=t.currentSprite==="menu"}],context:{}},state(){return{currentSprite:"menu"}},input:{down(){const s=ho.indexOf(this.currentSprite);s<ho.length-1?this.currentSprite=ho[s+1]:this.currentSprite=ho[0]}}}),Qt=W.Component("Button",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};return l.w=300,l.h=80,l.color=e.color,o[0].nodeId||o[0].populate(l),o},effects:[function(t,e,i){e[0].set("effects",[t.shader("rounded",{radius:20})])},,function(t,e,i){e[0].set("alpha",{transition:t.alpha})},,function(t,e,i){e[0].set("scale",{transition:t.scale})},,function(t,e,i){e[0].set("z",t.zIndex)},,function(t,e,i){e[0].set("rotation",t.rotate)}],context:{}},props:["color"],state(){return{alpha:.4,scale:1,zIndex:1,rotate:0}},hooks:{focus(){this.$log.info(`Button with color ${this.color} received focus`),this.alpha=1,this.scale=this.scale===1?1.2:1,this.zIndex=100},unfocus(){this.$log.info(`Button with color ${this.color} lost focus`),this.alpha=.4,this.scale=1,this.zIndex=1,this.rotate=0}},input:{enter(){this.rotate=this.rotate===0?-4:0,this.scale=this.scale===1.2?1.3:1.2}}}),yn=W.Component("Menu",{components:{Button:Qt},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=400,l.h=1080,l.color="{right: '#64748baa', left: '#475569aa'}",o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.x=50,r.y=40,o[1].nodeId||o[1].populate(r);const n=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};if(f.color="#e4e4e7",f.ref="menu1",typeof n<"u")for(let b in n.config.props)delete f[n.config.props[b]];o[2].nodeId||o[2].populate(f),t=o[2];const d={};d.color="#e4e4e7",d.ref="menu1",o[3]||(o[3]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:d},o[2],e),o[3][Symbol.for("slots")][0]?(t=o[3][Symbol.for("slots")][0],e=o[3]):t=o[3][Symbol.for("children")][0]);const a=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};if(c.color="#e4e4e7",c.y=100,c.ref="menu2",typeof a<"u")for(let b in a.config.props)delete c[a.config.props[b]];o[4].nodeId||o[4].populate(c),t=o[4];const p={};p.color="#e4e4e7",p.y=100,p.ref="menu2",o[5]||(o[5]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:p},o[4],e),o[5][Symbol.for("slots")][0]?(t=o[5][Symbol.for("slots")][0],e=o[5]):t=o[5][Symbol.for("children")][0]);const u=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};if(h.color="#e4e4e7",h.y=200,h.ref="menu3",typeof u<"u")for(let b in u.config.props)delete h[u.config.props[b]];o[6].nodeId||o[6].populate(h),t=o[6];const y={};y.color="#e4e4e7",y.y=200,y.ref="menu3",o[7]||(o[7]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:y},o[6],e),o[7][Symbol.for("slots")][0]?(t=o[7][Symbol.for("slots")][0],e=o[7]):t=o[7][Symbol.for("children")][0]);const g=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};if(x.color="#e4e4e7",x.y=300,x.ref="menu4",typeof g<"u")for(let b in g.config.props)delete x[g.config.props[b]];o[8].nodeId||o[8].populate(x),t=o[8];const I={};return I.color="#e4e4e7",I.y=300,I.ref="menu4",o[9]||(o[9]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:I},o[8],e),o[9][Symbol.for("slots")][0]?(t=o[9][Symbol.for("slots")][0],e=o[9]):t=o[9][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[0].set("x",{transition:t.x})}],context:{}},state(){return{x:-360,focused:null}},hooks:{focus(){this.focused=1,this.$trigger("focused"),this.x=0},unfocus(){this.x=-360}},watch:{focused(){const s=this.select(`menu${this.focused}`);s&&s.focus&&s.focus()}},input:{right(){this.parent.focus()},down(){this.focused=Math.min(this.focused+1,4)},up(){this.focused=Math.max(this.focused-1,1)}}}),gn=W.Component("FocusHandling",{components:{Menu:yn,Button:Qt},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.x=300,r.y=150,o[1].nodeId||o[1].populate(r);const n=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};if(f.color="#ef4444",f.x=0,f.ref="button1",typeof n<"u")for(let N in n.config.props)delete f[n.config.props[N]];o[2].nodeId||o[2].populate(f),t=o[2];const d={};d.color="#ef4444",d.x=0,d.ref="button1",o[3]||(o[3]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:d},o[2],e),o[3][Symbol.for("slots")][0]?(t=o[3][Symbol.for("slots")][0],e=o[3]):t=o[3][Symbol.for("children")][0]);const a=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};if(c.color="#f97316",c.x=320,c.ref="button2",typeof a<"u")for(let N in a.config.props)delete c[a.config.props[N]];o[4].nodeId||o[4].populate(c),t=o[4];const p={};p.color="#f97316",p.x=320,p.ref="button2",o[5]||(o[5]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:p},o[4],e),o[5][Symbol.for("slots")][0]?(t=o[5][Symbol.for("slots")][0],e=o[5]):t=o[5][Symbol.for("children")][0]);const u=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};if(h.color="#84cc16",h.x=640,h.ref="button3",typeof u<"u")for(let N in u.config.props)delete h[u.config.props[N]];o[6].nodeId||o[6].populate(h),t=o[6];const y={};y.color="#84cc16",y.x=640,y.ref="button3",o[7]||(o[7]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:y},o[6],e),o[7][Symbol.for("slots")][0]?(t=o[7][Symbol.for("slots")][0],e=o[7]):t=o[7][Symbol.for("children")][0]);const g=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};if(x.color="#10b981",x.x=0,x.y=100,x.ref="button4",typeof g<"u")for(let N in g.config.props)delete x[g.config.props[N]];o[8].nodeId||o[8].populate(x),t=o[8];const I={};I.color="#10b981",I.x=0,I.y=100,I.ref="button4",o[9]||(o[9]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:I},o[8],e),o[9][Symbol.for("slots")][0]?(t=o[9][Symbol.for("slots")][0],e=o[9]):t=o[9][Symbol.for("children")][0]);const b=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};if(C.color="#06b6d4",C.y=100,C.x=320,C.ref="button5",typeof b<"u")for(let N in b.config.props)delete C[b.config.props[N]];o[10].nodeId||o[10].populate(C),t=o[10];const S={};S.color="#06b6d4",S.y=100,S.x=320,S.ref="button5",o[11]||(o[11]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:S},o[10],e),o[11][Symbol.for("slots")][0]?(t=o[11][Symbol.for("slots")][0],e=o[11]):t=o[11][Symbol.for("children")][0]);const v=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _={};if(_.color="#3b82f6",_.y=100,_.x=640,_.ref="button6",typeof v<"u")for(let N in v.config.props)delete _[v.config.props[N]];o[12].nodeId||o[12].populate(_),t=o[12];const T={};T.color="#3b82f6",T.y=100,T.x=640,T.ref="button6",o[13]||(o[13]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:T},o[12],e),o[13][Symbol.for("slots")][0]?(t=o[13][Symbol.for("slots")][0],e=o[13]):t=o[13][Symbol.for("children")][0]);const $=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const R={};if(R.color="#8b5cf6",R.y=200,R.x=0,R.ref="button7",typeof $<"u")for(let N in $.config.props)delete R[$.config.props[N]];o[14].nodeId||o[14].populate(R),t=o[14];const z={};z.color="#8b5cf6",z.y=200,z.x=0,z.ref="button7",o[15]||(o[15]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:z},o[14],e),o[15][Symbol.for("slots")][0]?(t=o[15][Symbol.for("slots")][0],e=o[15]):t=o[15][Symbol.for("children")][0]);const k=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const M={};if(M.color="#d946ef",M.y=200,M.x=320,M.ref="button8",typeof k<"u")for(let N in k.config.props)delete M[k.config.props[N]];o[16].nodeId||o[16].populate(M),t=o[16];const F={};F.color="#d946ef",F.y=200,F.x=320,F.ref="button8",o[17]||(o[17]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:F},o[16],e),o[17][Symbol.for("slots")][0]?(t=o[17][Symbol.for("slots")][0],e=o[17]):t=o[17][Symbol.for("children")][0]);const B=i.components&&i.components.Button||e[Symbol.for("components")].Button;t=o[1],o[18]||(o[18]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const E={};if(E.color="#f43f5e",E.y=200,E.x=640,E.ref="button9",typeof B<"u")for(let N in B.config.props)delete E[B.config.props[N]];o[18].nodeId||o[18].populate(E),t=o[18];const L={};L.color="#f43f5e",L.y=200,L.x=640,L.ref="button9",o[19]||(o[19]=(i.components&&i.components.Button||e[Symbol.for("components")].Button||(()=>{console.error("component Button not found")})).call(null,{props:L},o[18],e),o[19][Symbol.for("slots")][0]?(t=o[19][Symbol.for("slots")][0],e=o[19]):t=o[19][Symbol.for("children")][0]);const U=i.components&&i.components.Menu||e[Symbol.for("components")].Menu;t=o[0],o[20]||(o[20]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const A={};if(A.ref="menu",typeof U<"u")for(let N in U.config.props)delete A[U.config.props[N]];o[20].nodeId||o[20].populate(A),t=o[20];const q={};return q.ref="menu",o[21]||(o[21]=(i.components&&i.components.Menu||e[Symbol.for("components")].Menu||(()=>{console.error("component Menu not found")})).call(null,{props:q},o[20],e),o[21][Symbol.for("slots")][0]?(t=o[21][Symbol.for("slots")][0],e=o[21]):t=o[21][Symbol.for("children")][0]),o},effects:[],context:{}},state(){return{focused:null}},hooks:{focus(){this.focused=1,this.$trigger("focused")}},watch:{focused(s){const t=this.select(`button${s}`);t&&t.focus&&t.focus()}},input:{right(){this.focused=Math.min(this.focused+1,9)},left(){const s=this.focused-1;if(s===0){const t=this.select("menu");t&&t.focus&&t.focus()}else this.focused=Math.max(s,1)},a(){const s=this.select("menu");s&&s.focus&&s.focus()}}}),xn=W.Component("Positioning",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.w=100,r.h=100,r.x=20,r.y=20,r.color="#ecfeff",o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=100,n.h=100,n.x=140,n.y=20,n.color="#a5f3fc",o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.w=100,f.h=100,f.x=260,f.y=20,f.color="#22d3ee",o[3].nodeId||o[3].populate(f),t=o[0],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.w=100,d.h=100,d.x=380,d.y=20,d.color="#0891b2",o[4].nodeId||o[4].populate(d),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.w=100,a.h=100,a.x=e.x1,a.y=e.y,a.color="#fdf4ff",o[5].nodeId||o[5].populate(a),t=o[0],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.w=100,c.h=100,c.x=e.x2,c.y=e.y,c.color="#f5d0fe",o[6].nodeId||o[6].populate(c),t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.w=100,p.h=100,p.x=e.x3,p.y=e.y,p.color="#e879f9",o[7].nodeId||o[7].populate(p),t=o[0],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.w=100,u.h=100,u.x=e.x4,u.y=e.y,u.color="#c026d3",o[8].nodeId||o[8].populate(u),t=o[0],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};h.w=100,h.h=100,h.y=260,h.color="#fff7ed",o[9].nodeId||o[9].populate(h),t=o[0],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.w=100,y.h=100,y.y=260,y.color="#fed7aa",o[10].nodeId||o[10].populate(y),t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};g.w=100,g.h=100,g.y=260,g.color="#fb923c",o[11].nodeId||o[11].populate(g),t=o[0],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};x.w=100,x.h=100,x.y=260,x.color="#ea580c",o[12].nodeId||o[12].populate(x),t=o[0],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};I.w=800,I.h=800,I.y=20,I.x=800,I.color="#ecfdf5",o[13].nodeId||o[13].populate(I),t=o[13],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};b.w=600,b.h=600,b.y=20,b.x=20,b.color="#a7f3d0",o[14].nodeId||o[14].populate(b),t=o[14],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};C.w=400,C.h=400,C.y=100,C.x=20,C.color="#34d399",o[15].nodeId||o[15].populate(C),t=o[15],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const S={};S.w=200,S.h=100,S.color="#059669",o[16].nodeId||o[16].populate(S),t=o[16],o[17]||(o[17]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};v.w=50,v.h=50,v.color="#065f46",o[17].nodeId||o[17].populate(v),t=o[0],o[18]||(o[18]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _={};_.w=100,_.h=100,_.y=500,_.x=20,_.color="#e11d48",o[18].nodeId||o[18].populate(_),t=o[0],o[19]||(o[19]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const T={};T.w=200,T.h=200,T.x=300,T.y=600,T.color="#94a3b8",T.z=100,o[19].nodeId||o[19].populate(T);const $=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[19],o[20]||(o[20]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const R={};if(R.content="Lightning!",R.x=100,R.y=140,typeof $<"u")for(let N in $.config.props)delete R[$.config.props[N]];o[20].nodeId||o[20].populate(R),t=o[20];const z={};z.content="Lightning!",z.x=100,z.y=140,o[21]||(o[21]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:z},o[20],e),o[21][Symbol.for("slots")][0]?(t=o[21][Symbol.for("slots")][0],e=o[21]):t=o[21][Symbol.for("children")][0]),t=o[19],o[22]||(o[22]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const k={};k.w=300,k.h=100,k.color="#475569",o[22].nodeId||o[22].populate(k);const M=i.components&&i.components.Circle||e[Symbol.for("components")].Circle;t=o[19],o[23]||(o[23]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const F={};if(F.x=150,F.y=150,F.size=100,typeof M<"u")for(let N in M.config.props)delete F[M.config.props[N]];o[23].nodeId||o[23].populate(F),t=o[23];const B={};B.x=150,B.y=150,B.size=100,o[24]||(o[24]=(i.components&&i.components.Circle||e[Symbol.for("components")].Circle||(()=>{console.error("component Circle not found")})).call(null,{props:B},o[23],e),o[24][Symbol.for("slots")][0]?(t=o[24][Symbol.for("slots")][0],e=o[24]):t=o[24][Symbol.for("children")][0]),t=o[0],o[25]||(o[25]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const E={};E.w=300,E.h=300,E.x=300,E.y=600,E.color="#ef444480",o[25].nodeId||o[25].populate(E),t=o[0],o[26]||(o[26]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const L={};L.w=400,L.h=100,L.x=800,L.y=900,L.color="#0284c7",o[26].nodeId||o[26].populate(L),t=o[26],o[27]||(o[27]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const U={};U.w=t.node.width*(42/100),U.h=t.node.height*(30/100),U.y=t.node.height*(5/100),U.x=t.node.width*(1/100),U.color="#075985",o[27].nodeId||o[27].populate(U),t=o[26],o[28]||(o[28]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const A={};A.h=t.node.height*(30/100),A.y=t.node.height*(35/100),A.x=t.node.width*(1/100),A.color="#6b21a8",o[28].nodeId||o[28].populate(A),t=o[26],o[29]||(o[29]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const q={};return q.h=t.node.height*(30/100),q.y=t.node.height*(65/100),q.x=t.node.width*(1/100),q.color="#9f1239",o[29].nodeId||o[29].populate(q),o},effects:[function(t,e,i){e[9].set("x",t.xA)},,function(t,e,i){e[10].set("x",t.xB)},,function(t,e,i){e[11].set("x",t.xC)},,function(t,e,i){e[12].set("x",t.xD)},,function(t,e,i){e[16].set("y",(400-100)/2)},,function(t,e,i){e[16].set("x",(400-200)/2)},,function(t,e,i){e[17].set("y",{transition:t.yNested})},,function(t,e,i){e[17].set("x",{transition:t.xNested})},,function(t,e,i){e[28].set("w",t.bar2.v)},,function(t,e,i){e[29].set("w",{transition:t.bar3})}],context:{}},state(){return{x1:20,x2:140,x3:20+140+100,x4:380,y:140,xA:20,xB:140,xC:260,xD:380,yNested:0,xNested:0,bar2:{direction:"up",v:"10%"},bar3:"10%"}},hooks:{ready(){this.$setTimeout(()=>{this.xD=this.xD+200,this.xC=this.xC+100,this.xB=this.xB+50,this.xA=this.xA+25},4e3),this.$setInterval(()=>{this.yNested=this.yNested===0?50:0},2e3),this.$setInterval(()=>{this.xNested=this.xNested===0?150:0},1e3),this.$setInterval(()=>{const s=parseFloat(this.bar2.v),t=this.bar2.direction==="up"?s+10:s-10;this.bar2.v=t+"%",t>=90&&(this.bar2.direction="down"),t<=10&&(this.bar2.direction="up")},400),this.$setInterval(()=>{this.bar3=Math.ceil(Math.random()*96)+"%"},2e3)}}}),bn=W.Component("Colors",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=1920,l.h=1080,o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.x=20,r.y=20,o[1].nodeId||o[1].populate(r),t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=100,n.h=100,n.x=0,n.color="#ecfeff",o[2].nodeId||o[2].populate(n),t=o[1],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.w=100,f.h=100,f.x=120,f.color="#a5f3fc",o[3].nodeId||o[3].populate(f),t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.w=100,d.h=100,d.x=240,d.color="#22d3ee",o[4].nodeId||o[4].populate(d),t=o[1],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.w=100,a.h=100,a.x=360,a.color="#0891b2",o[5].nodeId||o[5].populate(a),t=o[0],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.x=20,c.y=140,o[6].nodeId||o[6].populate(c),t=o[6],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.w=100,p.h=100,p.x=0,p.color="ecfeff",o[7].nodeId||o[7].populate(p),t=o[6],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.w=100,u.h=100,u.x=120,u.color="a5f3fc",o[8].nodeId||o[8].populate(u),t=o[6],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};h.w=100,h.h=100,h.x=240,h.color="22d3ee",o[9].nodeId||o[9].populate(h),t=o[6],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.w=100,y.h=100,y.x=360,y.color="0891b2",o[10].nodeId||o[10].populate(y),t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};g.x=20,g.y=260,o[11].nodeId||o[11].populate(g),t=o[11],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};x.w=100,x.h=100,x.x=0,x.color="#ecfeffaa",o[12].nodeId||o[12].populate(x),t=o[11],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};I.w=100,I.h=100,I.x=120,I.color="#a5f3fc33",o[13].nodeId||o[13].populate(I),t=o[11],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};b.w=100,b.h=100,b.x=240,b.color="#22d3ee20",o[14].nodeId||o[14].populate(b),t=o[11],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};C.w=100,C.h=100,C.x=360,C.color="#0891b2ff",o[15].nodeId||o[15].populate(C),t=o[0],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const S={};S.x=20,S.y=380,o[16].nodeId||o[16].populate(S),t=o[16],o[17]||(o[17]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};v.w=100,v.h=100,v.x=0,v.color="rgb(236,254,255)",o[17].nodeId||o[17].populate(v),t=o[16],o[18]||(o[18]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _={};_.w=100,_.h=100,_.x=120,_.color="rgb(165,243,252)",o[18].nodeId||o[18].populate(_),t=o[16],o[19]||(o[19]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const T={};T.w=100,T.h=100,T.x=240,T.color="rgb(34,211,238)",o[19].nodeId||o[19].populate(T),t=o[16],o[20]||(o[20]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const $={};$.w=100,$.h=100,$.x=360,$.color="rgb(8,145,178)",o[20].nodeId||o[20].populate($),t=o[0],o[21]||(o[21]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const R={};R.x=20,R.y=500,o[21].nodeId||o[21].populate(R),t=o[21],o[22]||(o[22]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const z={};z.w=100,z.h=100,z.x=0,z.color="rgba(236,254,255,0.67)",o[22].nodeId||o[22].populate(z),t=o[21],o[23]||(o[23]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const k={};k.w=100,k.h=100,k.x=120,k.color="rgba(165,243,252,0.2)",o[23].nodeId||o[23].populate(k),t=o[21],o[24]||(o[24]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const M={};M.w=100,M.h=100,M.x=240,M.color="rgba(34,211,238, 0.13)",o[24].nodeId||o[24].populate(M),t=o[21],o[25]||(o[25]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const F={};F.w=100,F.h=100,F.x=360,F.color="rgba(8,145,178,1)",o[25].nodeId||o[25].populate(F),t=o[0],o[26]||(o[26]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const B={};B.x=20,B.y=620,o[26].nodeId||o[26].populate(B),t=o[26],o[27]||(o[27]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const E={};E.w=100,E.h=100,E.x=0,E.color="#000",o[27].nodeId||o[27].populate(E),t=o[26],o[28]||(o[28]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const L={};L.w=100,L.h=100,L.x=120,L.color="#ccc",o[28].nodeId||o[28].populate(L),t=o[26],o[29]||(o[29]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const U={};U.w=100,U.h=100,U.x=240,U.color="#890",o[29].nodeId||o[29].populate(U),t=o[26],o[30]||(o[30]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const A={};A.w=100,A.h=100,A.x=360,A.color="#0f0",o[30].nodeId||o[30].populate(A),t=o[0],o[31]||(o[31]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const q={};q.x=20,q.y=740,o[31].nodeId||o[31].populate(q),t=o[31],o[32]||(o[32]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const N={};N.w=100,N.h=100,N.x=0,N.color="000",o[32].nodeId||o[32].populate(N),t=o[31],o[33]||(o[33]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const G={};G.w=100,G.h=100,G.x=120,G.color="ccc",o[33].nodeId||o[33].populate(G),t=o[31],o[34]||(o[34]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const X={};X.w=100,X.h=100,X.x=240,X.color="890",o[34].nodeId||o[34].populate(X),t=o[31],o[35]||(o[35]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const H={};H.w=100,H.h=100,H.x=360,H.color="0f0",o[35].nodeId||o[35].populate(H),t=o[0],o[36]||(o[36]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const O={};O.x=620,O.y=20,o[36].nodeId||o[36].populate(O),t=o[36],o[37]||(o[37]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const V={};V.w=300,V.h=200,V.x=0,o[37].nodeId||o[37].populate(V),t=o[36],o[38]||(o[38]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const D={};D.w=300,D.h=200,D.x=0,D.y=250,o[38].nodeId||o[38].populate(D),t=o[36],o[39]||(o[39]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const Z={};Z.w=300,Z.h=200,Z.x=100,Z.y=400,o[39].nodeId||o[39].populate(Z),t=o[36],o[40]||(o[40]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const Q={};return Q.w=300,Q.h=200,Q.x=0,Q.y=650,o[40].nodeId||o[40].populate(Q),o},effects:[function(t,e,i){e[0].set("color",{transition:t.bg})},,function(t,e,i){e[37].set("color",{transition:t.color1})},,function(t,e,i){e[38].set("color",{transition:t.color2})},,function(t,e,i){e[39].set("color",{transition:t.color3})},,function(t,e,i){e[40].set("color",{transition:{value:t.color4,d:1e3,f:"ease-in-out"}})}],context:{}},state(){return{bg:"#fff",color1:"#22d3ee",color2:"#dc2626",color3:"rgba(251, 191, 36)",color4:"#bfdbfe"}},input:{enter(){this.color1=this.color1==="#0891b2"?"#22d3ee":"#0891b2",this.color2=this.color2==="#dc2626"?"#0f0":"#dc2626",this.color3=this.color3==="rgba(251, 191, 36)"?"rgba(30, 64, 175, 0.5)":"rgba(251, 191, 36)",this.color4=this.color4==="#1e3a8a"?"#bfdbfe":"#1e3a8a"}},hooks:{ready(){let s=0;const t=["#fff","#333","#c0ff33","#546aaa","#000","tomato"];this.$setInterval(()=>{s=s+1,s===t.length-1&&(s=0),this.bg=t[s]},2e3)}}}),Sn=W.Component("Gradients",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.h=1080,r.color="{top: '#0891b2', bottom: '#a5f3fc'}",o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.h=1080,n.color="{left: '#dc2626',  right: '#f87171'}",o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.h=1080,f.color="{top: '#0891b2', right: '#f87171'}",o[3].nodeId||o[3].populate(f),t=o[0],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};return d.h=1080,d.color="{right: 'green', bottom: 'gold'}",o[4].nodeId||o[4].populate(d),o},effects:[function(t,e,i){e[1].set("w",1920/4)},,function(t,e,i){e[2].set("w",1920/4)},,function(t,e,i){e[2].set("x",1920/4)},,function(t,e,i){e[3].set("w",1920/4)},,function(t,e,i){e[3].set("x",1920/4*2)},,function(t,e,i){e[4].set("w",1920/4)},,function(t,e,i){e[4].set("x",1920/4*3)}],context:{}}}),In=W.Component("Transitions",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.w=200,r.h=200,r.x=50,r.color="#c4b5fd",o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=200,n.h=200,n.x=300,n.color="#a78bfa",o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.w=200,f.h=200,f.x=550,f.color="#8b5cf6",f.ref="bla",o[3].nodeId||o[3].populate(f),t=o[0],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.w=200,d.h=200,d.x=800,d.color="#7c3aed",o[4].nodeId||o[4].populate(d),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.w=200,a.h=200,a.x=1050,a.color="#6d28d9",o[5].nodeId||o[5].populate(a),t=o[0],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.w=200,c.h=200,c.x=1300,c.color="#5b21b6",o[6].nodeId||o[6].populate(c),t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};return p.w=200,p.h=200,p.x=1550,p.color="#4c1d95",o[7].nodeId||o[7].populate(p),o},effects:[function(t,e,i){e[1].set("y",{transition:t.y})},,function(t,e,i){e[2].set("y",{transition:{value:t.y}})},,function(t,e,i){e[3].set("y",{transition:{value:t.y,duration:1e3,start:t.start,end:t.doneTransition3}})},,function(t,e,i){e[4].set("y",{transition:{value:t.y,duration:500,delay:1e3,start:t.start,end:t.finished}})},,function(t,e,i){e[5].set("y",{transition:{value:t.y,function:"ease-in-out",end:t.finished}})},,function(t,e,i){e[6].set("y",{transition:{value:t.y,duration:t.duration,function:"ease-in-out-back",end:t.finished}})},,function(t,e,i){e[7].set("y",{transition:{value:t.y,duration:800,function:"cubic-bezier(1,-0.64,.39,1.44)"}})}],context:{}},state(){return{y:50}},hooks:{ready(){this.$setTimeout(()=>{this.y=1080-50-200},2e3)}},methods:{doneTransition3(){this.$log.info("Transition 3 is done!")},start(s,t,e){this.$log.info("Start transition",s.nodeId,t,e)},finished(s,t,e){this.$log.info("Finished transition",s.nodeId,t,e)}}}),wn=W.Component("Alpha",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.y=100,o[1].nodeId||o[1].populate(r),t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=200,n.h=200,n.x=100,n.color="#fff",n.alpha=.2,o[2].nodeId||o[2].populate(n),t=o[1],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.w=200,f.h=200,f.x=320,f.color="#fff",f.alpha=.4,o[3].nodeId||o[3].populate(f),t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.w=200,d.h=200,d.x=540,d.color="#fff",d.alpha=.6,o[4].nodeId||o[4].populate(d),t=o[1],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.w=200,a.h=200,a.x=760,a.color="#fff",a.alpha=.8,o[5].nodeId||o[5].populate(a),t=o[1],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.w=200,c.h=200,c.x=980,c.color="#fff",c.alpha=1,o[6].nodeId||o[6].populate(c),t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.w=200,p.h=200,p.x=100,p.y=320,p.color="#fff",p.alpha=e.alpha,o[7].nodeId||o[7].populate(p),t=o[0],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.w=200,u.h=200,u.x=100,u.y=540,u.color="#fff",o[8].nodeId||o[8].populate(u),t=o[0],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};h.w=200,h.h=200,h.x=100,h.y=760,h.color="#fff",o[9].nodeId||o[9].populate(h),t=o[0],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.w=428,y.h=234,y.x=1200,y.y=100,y.alpha=1,o[10].nodeId||o[10].populate(y),t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};g.w=428,g.h=234,g.x=1300,g.alpha=.4,o[11].nodeId||o[11].populate(g),t=o[0],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};x.w=428,x.h=234,x.x=1200,x.alpha=.1,o[12].nodeId||o[12].populate(x);const I=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};if(b.x=400,b.y=400,b.alpha=.2,b.content="Text with alpha applied directly",typeof I<"u")for(let $ in I.config.props)delete b[I.config.props[$]];o[13].nodeId||o[13].populate(b),t=o[13];const C={};C.x=400,C.y=400,C.alpha=.2,C.content="Text with alpha applied directly",o[14]||(o[14]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:C},o[13],e),o[14][Symbol.for("slots")][0]?(t=o[14][Symbol.for("slots")][0],e=o[14]):t=o[14][Symbol.for("children")][0]),t=o[0],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const S={};S.alpha=.5,S.x=400,S.y=500,o[15].nodeId||o[15].populate(S);const v=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[15],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _={};if(_.content="Text with alpha applied on parent element",typeof v<"u")for(let $ in v.config.props)delete _[v.config.props[$]];o[16].nodeId||o[16].populate(_),t=o[16];const T={};return T.content="Text with alpha applied on parent element",o[17]||(o[17]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:T},o[16],e),o[17][Symbol.for("slots")][0]?(t=o[17][Symbol.for("slots")][0],e=o[17]):t=o[17][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[8].set("alpha",t.alpha)},,function(t,e,i){e[9].set("alpha",{transition:{value:t.alpha,duration:1e3,function:"ease-in-out-circ"}})},,function(t,e,i){e[10].set("src",t.image)},,function(t,e,i){e[11].set("y",100+234-40)},,function(t,e,i){e[11].set("src",t.image)},,function(t,e,i){e[12].set("y",100+234*2-40*2)},,function(t,e,i){e[12].set("src",t.image)}],context:{}},state(){return{alpha:.5,direction:"up",image:"assets/lightningbolt.png"}},hooks:{ready(){this.$setInterval(()=>{const s=this.direction==="up"?this.alpha+.2:this.alpha-.2;this.alpha=Math.max(Math.min(s,1),.1),this.alpha===1&&(this.direction="down"),this.alpha===.1&&(this.direction="up")},1400)}}}),Cn=W.Component("Scaling",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.x=100,r.y=100,r.w=150,r.h=150,r.color="#64748b",o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.x=300,n.y=100,n.w=100,n.h=100,n.color="#64748b",n.scale=1.5,o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.x=100,f.y=400,f.w=100,f.h=100,f.color="#b45309",f.scale=e.scale,o[3].nodeId||o[3].populate(f),t=o[0],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.x=900,d.y=400,d.w=100,d.h=100,o[4].nodeId||o[4].populate(d),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.x=300,a.y=600,a.w=100,a.h=100,a.color="#059669",o[5].nodeId||o[5].populate(a),t=o[5],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.x=10,c.y=10,c.h=60,c.w=80,c.color="#0369a1",o[6].nodeId||o[6].populate(c),t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.x=1500,p.y=600,p.w=100,p.h=100,p.color="#059669",o[7].nodeId||o[7].populate(p),t=o[7],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};return u.x=10,u.y=10,u.h=60,u.w=80,u.color="#0369a1",o[8].nodeId||o[8].populate(u),o},effects:[function(t,e,i){e[4].set("src",t.balloon)},,function(t,e,i){e[4].set("scale",{transition:{value:t.scale,function:"ease-in-out"}})},,function(t,e,i){e[5].set("scale",t.scale2)},,function(t,e,i){e[7].set("scale",t.scale2)},,function(t,e,i){e[8].set("scale",t.scale2/2)}],context:{}},state(){return{scale:2,direction:"up",balloon:"assets/balloon.png",scale2:1}},hooks:{ready(){this.$setInterval(()=>{const s=this.direction==="up"?this.scale+.5:0;this.scale=Math.max(Math.min(s,8),0),this.scale===8&&(this.direction="down"),this.scale===0&&(this.direction="up")},500),this.$setInterval(()=>{this.scale2=this.scale2===1?3:1},2e3)}}}),vn=W.Component("Rotation",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.y=70,o[1].nodeId||o[1].populate(r),t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.x=100,n.y=0,n.w=200,n.h=100,n.color="#fee2e2",n.rotation=0,o[2].nodeId||o[2].populate(n),t=o[1],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.x=100,f.y=150,f.w=200,f.h=100,f.color="#fecaca",f.rotation=10,o[3].nodeId||o[3].populate(f),t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.x=100,d.y=300,d.w=200,d.h=100,d.color="#fca5a5",d.rotation=20,o[4].nodeId||o[4].populate(d),t=o[1],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.x=100,a.y=450,a.w=200,a.h=100,a.color="#f87171",a.rotation=30,o[5].nodeId||o[5].populate(a),t=o[1],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.x=100,c.y=610,c.w=200,c.h=100,c.color="#ef4444",c.rotation=40,o[6].nodeId||o[6].populate(c),t=o[1],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.x=100,p.y=800,p.w=200,p.h=100,p.color="#dc2626",p.rotation=50,o[7].nodeId||o[7].populate(p),t=o[0],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.y=70,u.x=300,o[8].nodeId||o[8].populate(u),t=o[8],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};h.x=100,h.y=0,h.w=200,h.h=100,h.color="#fee2e2",h.rotation=60,o[9].nodeId||o[9].populate(h),t=o[8],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.x=100,y.y=150,y.w=200,y.h=100,y.color="#fecaca",y.rotation=70,o[10].nodeId||o[10].populate(y),t=o[8],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};g.x=100,g.y=300,g.w=200,g.h=100,g.color="#fca5a5",g.rotation=80,o[11].nodeId||o[11].populate(g),t=o[8],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};x.x=100,x.y=450,x.w=200,x.h=100,x.color="#f87171",x.rotation=90,o[12].nodeId||o[12].populate(x),t=o[8],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};I.x=100,I.y=610,I.w=200,I.h=100,I.color="#ef4444",I.rotation=100,o[13].nodeId||o[13].populate(I),t=o[8],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};b.x=100,b.y=800,b.w=200,b.h=100,b.color="#dc2626",b.rotation=100,o[14].nodeId||o[14].populate(b),t=o[0],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};C.y=70,C.x=600,o[15].nodeId||o[15].populate(C),t=o[15],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const S={};S.x=100,S.y=0,S.w=200,S.h=100,S.color="#fee2e2",S.rotation=110,o[16].nodeId||o[16].populate(S),t=o[15],o[17]||(o[17]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};v.x=100,v.y=150,v.w=200,v.h=100,v.color="#fecaca",v.rotation=120,o[17].nodeId||o[17].populate(v),t=o[15],o[18]||(o[18]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _={};_.x=100,_.y=300,_.w=200,_.h=100,_.color="#fca5a5",_.rotation=130,o[18].nodeId||o[18].populate(_),t=o[15],o[19]||(o[19]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const T={};T.x=100,T.y=450,T.w=200,T.h=100,T.color="#f87171",T.rotation=140,o[19].nodeId||o[19].populate(T),t=o[15],o[20]||(o[20]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const $={};$.x=100,$.y=610,$.w=200,$.h=100,$.color="#ef4444",$.rotation=150,o[20].nodeId||o[20].populate($),t=o[15],o[21]||(o[21]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const R={};R.x=100,R.y=800,R.w=200,R.h=100,R.color="#dc2626",R.rotation=160,o[21].nodeId||o[21].populate(R),t=o[0],o[22]||(o[22]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const z={};z.y=70,z.x=900,o[22].nodeId||o[22].populate(z),t=o[22],o[23]||(o[23]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const k={};k.x=100,k.y=0,k.w=200,k.h=100,k.color="#fee2e2",k.rotation=170,o[23].nodeId||o[23].populate(k),t=o[22],o[24]||(o[24]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const M={};M.x=100,M.y=150,M.w=200,M.h=100,M.color="#fecaca",M.rotation=180,o[24].nodeId||o[24].populate(M),t=o[22],o[25]||(o[25]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const F={};F.x=100,F.y=300,F.w=200,F.h=100,F.color="#fca5a5",F.rotation=190,o[25].nodeId||o[25].populate(F),t=o[22],o[26]||(o[26]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const B={};B.x=100,B.y=450,B.w=200,B.h=100,B.color="#f87171",B.rotation=200,o[26].nodeId||o[26].populate(B),t=o[22],o[27]||(o[27]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const E={};E.x=100,E.y=610,E.w=200,E.h=100,E.color="#ef4444",E.rotation=210,o[27].nodeId||o[27].populate(E),t=o[22],o[28]||(o[28]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const L={};L.x=100,L.y=800,L.w=200,L.h=100,L.color="#dc2626",L.rotation=220,o[28].nodeId||o[28].populate(L),t=o[0],o[29]||(o[29]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const U={};U.y=70,U.x=1200,o[29].nodeId||o[29].populate(U),t=o[29],o[30]||(o[30]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const A={};A.x=100,A.y=0,A.w=200,A.h=100,A.color="#fee2e2",A.rotation=230,o[30].nodeId||o[30].populate(A),t=o[29],o[31]||(o[31]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const q={};q.x=100,q.y=150,q.w=200,q.h=100,q.color="#fecaca",q.rotation=240,o[31].nodeId||o[31].populate(q),t=o[29],o[32]||(o[32]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const N={};N.x=100,N.y=300,N.w=200,N.h=100,N.color="#fca5a5",N.rotation=250,o[32].nodeId||o[32].populate(N),t=o[29],o[33]||(o[33]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const G={};G.x=100,G.y=450,G.w=200,G.h=100,G.color="#f87171",G.rotation=260,o[33].nodeId||o[33].populate(G),t=o[29],o[34]||(o[34]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const X={};X.x=100,X.y=610,X.w=200,X.h=100,X.color="#ef4444",X.rotation=270,o[34].nodeId||o[34].populate(X),t=o[29],o[35]||(o[35]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const H={};H.x=100,H.y=800,H.w=200,H.h=100,H.color="#dc2626",H.rotation=280,o[35].nodeId||o[35].populate(H),t=o[0],o[36]||(o[36]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const O={};O.y=70,O.x=1500,o[36].nodeId||o[36].populate(O),t=o[36],o[37]||(o[37]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const V={};V.x=100,V.y=0,V.w=200,V.h=100,V.color="#fee2e2",V.rotation=290,o[37].nodeId||o[37].populate(V),t=o[36],o[38]||(o[38]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const D={};D.x=100,D.y=150,D.w=200,D.h=100,D.color="#fecaca",D.rotation=300,o[38].nodeId||o[38].populate(D),t=o[36],o[39]||(o[39]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const Z={};Z.x=100,Z.y=300,Z.w=200,Z.h=100,Z.color="#fca5a5",Z.rotation=310,o[39].nodeId||o[39].populate(Z),t=o[36],o[40]||(o[40]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const Q={};Q.x=100,Q.y=450,Q.w=200,Q.h=100,Q.color="#f87171",Q.rotation=320,o[40].nodeId||o[40].populate(Q),t=o[36],o[41]||(o[41]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const ee={};ee.x=100,ee.y=610,ee.w=200,ee.h=100,ee.color="#ef4444",ee.rotation=330,o[41].nodeId||o[41].populate(ee),t=o[36],o[42]||(o[42]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const re={};re.x=100,re.y=800,re.w=200,re.h=100,re.color="#dc2626",re.rotation=340,o[42].nodeId||o[42].populate(re),t=o[0],o[43]||(o[43]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const ue={};ue.x=200,ue.y=200,ue.w=400,ue.h=400,ue.color="#0891b2",ue.rotation=e.rotation1,o[43].nodeId||o[43].populate(ue),t=o[0],o[44]||(o[44]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const ae={};ae.x=800,ae.y=200,ae.w=400,ae.h=400,ae.color="#0891b2",o[44].nodeId||o[44].populate(ae),t=o[0],o[45]||(o[45]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const ne={};return ne.x=1400,ne.y=200,ne.w=400,ne.h=400,ne.color="#0891b2",o[45].nodeId||o[45].populate(ne),o},effects:[function(t,e,i){e[44].set("rotation",t.rotation2)},,function(t,e,i){e[45].set("rotation",{transition:t.rotation3})}],context:{}},state(){return{rotation1:38,rotation2:0,rotation3:0}},hooks:{ready(){this.$setInterval(()=>{const s=this.rotation2+10;this.rotation2=s<=360?s:0},800),this.$setInterval(()=>{this.rotation3=Math.max(10,Math.min(720,this.rotation3*2)),this.rotation3===720&&(this.rotation3=0)},2e3)}}}),Tn=W.Component("KeyInput",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.x=525,l.y=130,o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.w=200,r.h=200,o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=180,n.h=180,n.x=10,n.y=10,o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.w=180,f.h=180,f.x=230,f.y=10,o[3].nodeId||o[3].populate(f),t=o[0],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.w=180,d.h=180,d.x=450,d.y=10,o[4].nodeId||o[4].populate(d),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.w=180,a.h=180,a.x=670,a.y=10,o[5].nodeId||o[5].populate(a),t=o[0],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.w=180,c.h=180,c.x=10,c.y=220,o[6].nodeId||o[6].populate(c),t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.w=180,p.h=180,p.x=230,p.y=220,o[7].nodeId||o[7].populate(p),t=o[0],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.w=180,u.h=180,u.x=450,u.y=220,o[8].nodeId||o[8].populate(u),t=o[0],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};h.w=180,h.h=180,h.x=670,h.y=220,o[9].nodeId||o[9].populate(h),t=o[0],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.w=180,y.h=180,y.x=10,y.y=430,o[10].nodeId||o[10].populate(y),t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};g.w=180,g.h=180,g.x=230,g.y=430,o[11].nodeId||o[11].populate(g),t=o[0],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};x.w=180,x.h=180,x.x=450,x.y=430,o[12].nodeId||o[12].populate(x),t=o[0],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};I.w=180,I.h=180,I.x=670,I.y=430,o[13].nodeId||o[13].populate(I),t=o[0],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};b.w=180,b.h=180,b.x=10,b.y=640,o[14].nodeId||o[14].populate(b),t=o[0],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};C.w=180,C.h=180,C.x=230,C.y=640,o[15].nodeId||o[15].populate(C),t=o[0],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const S={};S.w=180,S.h=180,S.x=450,S.y=640,o[16].nodeId||o[16].populate(S),t=o[0],o[17]||(o[17]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};return v.w=180,v.h=180,v.x=670,v.y=640,o[17].nodeId||o[17].populate(v),o},effects:[function(t,e,i){e[1].set("color",t.focusColor)},,function(t,e,i){e[1].set("x",t.focusedX*220)},,function(t,e,i){e[1].set("y",t.focusedY*210)},,function(t,e,i){e[2].set("color",t.blockColor)},,function(t,e,i){e[3].set("color",t.blockColor)},,function(t,e,i){e[4].set("color",t.blockColor)},,function(t,e,i){e[5].set("color",t.blockColor)},,function(t,e,i){e[6].set("color",t.blockColor)},,function(t,e,i){e[7].set("color",t.blockColor)},,function(t,e,i){e[8].set("color",t.blockColor)},,function(t,e,i){e[9].set("color",t.blockColor)},,function(t,e,i){e[10].set("color",t.blockColor)},,function(t,e,i){e[11].set("color",t.blockColor)},,function(t,e,i){e[12].set("color",t.blockColor)},,function(t,e,i){e[13].set("color",t.blockColor)},,function(t,e,i){e[14].set("color",t.blockColor)},,function(t,e,i){e[15].set("color",t.blockColor)},,function(t,e,i){e[16].set("color",t.blockColor)},,function(t,e,i){e[17].set("color",t.blockColor)}],context:{}},state(){return{focusedX:0,focusedY:0,colorscheme:"yellow"}},computed:{blockColor(){return this.colorscheme==="yellow"?"#fef08a":"#bae6fd"},focusColor(){return this.colorscheme==="yellow"?"#facc15":"#38bdf8"}},input:{left(s){const t=this.focusedX-1;t===-1?this.parent.focus(s):this.focusedX=Math.max(t,0)},right(s){const t=this.focusedX+1;t===4?this.parent.focus(s):this.focusedX=Math.min(t,3)},up(){this.focusedY=Math.max(this.focusedY-1,0)},down(){this.focusedY=Math.min(this.focusedY+1,3)},enter(){this.colorscheme=this.colorscheme==="yellow"?"blue":"yellow"},any(s){const t=parseInt(s.key);isNaN(t)?this.parent.focus(s):(this.focusedX=Math.max(0,(t-1)%4),this.focusedY=Math.max(0,Math.ceil(t/4)-1))}}}),Fo=["#64748b","#ef4444","#f97316","#84cc16","#14b8a6","#3b82f6"],Bo=["Iron Man","Captain America","Thor","Hulk","Black Widow","Hawkeye","Scarlet Witch","Vision","Black Panther","Doctor Strange","Spider-Man","Ant-Man","Wasp","Captain Marvel","Falcon","Winter Soldier","War Machine","Quicksilver","Star-Lord","Gamora"],_n=W.Component("Texts",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.x=100,l.y=100,o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.content="Default text",n["@loaded"]=e.textLoaded&&e.textLoaded.bind(e),typeof r<"u")for(let E in r.config.props)delete n[r.config.props[E]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.content="Default text",f["@loaded"]=e.textLoaded&&e.textLoaded.bind(e),o[2]||(o[2]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]);const d=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.content="123456",a.x=400,typeof d<"u")for(let E in d.config.props)delete a[d.config.props[E]];o[3].nodeId||o[3].populate(a),t=o[3];const c={};c.content="123456",c.x=400,o[4]||(o[4]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:c},o[3],e),o[4][Symbol.for("slots")][0]?(t=o[4][Symbol.for("slots")][0],e=o[4]):t=o[4][Symbol.for("children")][0]);const p=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};if(u.content="Text with a different fontsize",u.y=120,u.font="raleway",typeof p<"u")for(let E in p.config.props)delete u[p.config.props[E]];o[5].nodeId||o[5].populate(u),t=o[5];const h={};h.content="Text with a different fontsize",h.size=e.size,h.y=120,h.font="raleway",o[6]||(o[6]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:h},o[5],e),o[6][Symbol.for("slots")][0]?(t=o[6][Symbol.for("slots")][0],e=o[6]):t=o[6][Symbol.for("children")][0]);const y=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};if(g.content="Text with a different color",g.size=50,g.y=250,typeof y<"u")for(let E in y.config.props)delete g[y.config.props[E]];o[7].nodeId||o[7].populate(g),t=o[7];const x={};x.content="Text with a different color",x.size=50,x.color=e.color,x.y=250,o[8]||(o[8]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:x},o[7],e),o[8][Symbol.for("slots")][0]?(t=o[8][Symbol.for("slots")][0],e=o[8]):t=o[8][Symbol.for("children")][0]);const I=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};if(b.content="Letterspacing",b.size=50,b.color="#38bdf8",b.y=450,b.letterspacing=40,typeof I<"u")for(let E in I.config.props)delete b[I.config.props[E]];o[9].nodeId||o[9].populate(b),t=o[9];const C={};C.content="Letterspacing",C.size=50,C.color="#38bdf8",C.y=450,C.letterspacing=40,o[10]||(o[10]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:C},o[9],e),o[10][Symbol.for("slots")][0]?(t=o[10][Symbol.for("slots")][0],e=o[10]):t=o[10][Symbol.for("children")][0]),t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const S={};S.w=800,S.h=100,S.y=550,S.color="#94a3b8",o[11].nodeId||o[11].populate(S);const v=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[11],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _={};if(_.content="Text align center",_.size=50,_.y=15,_.color="#bae6fd",_.align="center",_.wordwrap=800,typeof v<"u")for(let E in v.config.props)delete _[v.config.props[E]];o[12].nodeId||o[12].populate(_),t=o[12];const T={};T.content="Text align center",T.size=50,T.y=15,T.color="#bae6fd",T.align="center",T.wordwrap=800,o[13]||(o[13]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:T},o[12],e),o[13][Symbol.for("slots")][0]?(t=o[13][Symbol.for("slots")][0],e=o[13]):t=o[13][Symbol.for("children")][0]),t=o[0],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const $={};$.w=800,$.h=200,$.x=900,$.y=550,$.color="#94a3b8",o[14].nodeId||o[14].populate($);const R=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[14],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const z={};if(z.content=e.longText,z.size=40,z.color="#bae6fd",z.wordwrap=800,z.maxlines=5,typeof R<"u")for(let E in R.config.props)delete z[R.config.props[E]];o[15].nodeId||o[15].populate(z),t=o[15];const k={};k.content=e.longText,k.size=40,k.color="#bae6fd",k.wordwrap=800,k.maxlines=5,o[16]||(o[16]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:k},o[15],e),o[16][Symbol.for("slots")][0]?(t=o[16][Symbol.for("slots")][0],e=o[16]):t=o[16][Symbol.for("children")][0]);const M=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[17]||(o[17]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const F={};if(F.size=50,F.y=750,F.font="opensans",typeof M<"u")for(let E in M.config.props)delete F[M.config.props[E]];o[17].nodeId||o[17].populate(F),t=o[17];const B={};return B.content=e.character,B.size=50,B.color=e.color,B.y=750,B.font="opensans",o[18]||(o[18]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:B},o[17],e),o[18][Symbol.for("slots")][0]?(t=o[18][Symbol.for("slots")][0],e=o[18]):t=o[18][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[5].set("size",t.size)},,function(t,e,i){e[6][Symbol.for("props")].size=t.size},,function(t,e,i){e[7].set("color",t.color)},,function(t,e,i){e[8][Symbol.for("props")].color=t.color},,function(t,e,i){e[17].set("content",t.character)},,function(t,e,i){e[17].set("color",t.color)},,function(t,e,i){e[18][Symbol.for("props")].content=t.character},,function(t,e,i){e[18][Symbol.for("props")].color=t.color}],context:{}},state(){return{color:Fo[0],size:10,character:Bo[0],myText:"This is my test yeah",longText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent at ante non mauris commodo tristique. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Ut quis mattis mi. Aliquam ultricies mi vel lobortis luctus. Ut non feugiat urna. Duis sed blandit dui. Donec venenatis, mauris at blandit malesuada, elit nibh scelerisque lacus, non tempus arcu mi at justo."}},hooks:{ready(){let s=0;this.$setInterval(()=>{s++,s>Fo.length-1&&(s=0),this.color=Fo[s],this.size=10*(s*2+1)},1e3);let t=0;this.$setInterval(()=>{t++,t>Bo.length-1&&(t=0),this.character=Bo[t]},1400)}},methods:{textLoaded(s){this.$log.info(`Image loaded with w: ${s.w} and h: ${s.h}`)}}}),po=["https://images.unsplash.com/photo-1690360994204-3d10cc73a08d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=428&q=80","https://images.unsplash.com/photo-1582971103098-bfc707d2ad92?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=428&q=80"],kn=W.Component("Images",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.src="assets/lightningbolt.png",r.w=428,r.h=234,r.x=100,r.y=100,o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.src="https://images.unsplash.com/photo-1611148799269-63df34f63f6c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=428&q=80",n.w=428,n.h=234,n.x=100,n.y=400,o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.w=428,f.h=234,f.x=100,f.y=700,f["@loaded"]=e.imageLoaded&&e.imageLoaded.bind(e),o[3].nodeId||o[3].populate(f),t=o[0],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.color="{top: 'red', bottom: 'gold'}",d.src="assets/lightningbolt.png",d.w=428,d.h=234,d.x=600,d.y=100,o[4].nodeId||o[4].populate(d),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.x=600,a.y=400,a.w=428,a.h=234,o[5].nodeId||o[5].populate(a),t=o[5],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};return c.src="assets/lightningbolt.png",c.w=856,c.h=468,o[6].nodeId||o[6].populate(c),o},effects:[function(t,e,i){e[3].set("src",t.image)},,function(t,e,i){e[5].set("clipping",t.clipping)}],context:{}},state(){return{image:po[0],clipping:!0}},hooks:{ready(){this.$setInterval(()=>{this.image=this.image===po[0]?po[1]:po[0],this.clipping=!this.clipping},2e3)}},methods:{imageLoaded(s){this.$log.info(`Image loaded with w: ${s.w} and h: ${s.h}`)}}}),ro=W.Component("Square",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};return l.w=e.size,l.h=e.size,l.color="#86198f",o[0].nodeId||o[0].populate(l),o},effects:[],context:{}},props:[{key:"size",default:80}]}),Zt=W.Component("Card",{components:{Square:ro},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=e.w,l.h=e.h,l.color="#0891b2",o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.x=80,n.y=80,typeof r<"u")for(let p in r.config.props)delete n[r.config.props[p]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.x=80,f.y=80,o[2]||(o[2]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]);const d=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.x=20,a.y=20,a.size=40,typeof d<"u")for(let p in d.config.props)delete a[d.config.props[p]];o[3].nodeId||o[3].populate(a),t=o[3];const c={};return c.x=20,c.y=20,c.size=40,o[4]||(o[4]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:c},o[3],e),o[4][Symbol.for("slots")][0]?(t=o[4][Symbol.for("slots")][0],e=o[4]):t=o[4][Symbol.for("children")][0]),o},effects:[],context:{}},props:["size"],computed:{w(){return this.size==="large"?400:200},h(){return this.size==="large"?500:300}}}),$n=W.Component("Components",{components:{Square:ro,Card:Zt},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.x=100,n.y=100,n.size=50,typeof r<"u")for(let T in r.config.props)delete n[r.config.props[T]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.x=100,f.y=100,f.size=50,o[2]||(o[2]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]);const d=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.x=100,a.y=200,a.size=100,typeof d<"u")for(let T in d.config.props)delete a[d.config.props[T]];o[3].nodeId||o[3].populate(a),t=o[3];const c={};c.x=100,c.y=200,c.size=100,o[4]||(o[4]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:c},o[3],e),o[4][Symbol.for("slots")][0]?(t=o[4][Symbol.for("slots")][0],e=o[4]):t=o[4][Symbol.for("children")][0]);const p=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};if(u.x=100,u.y=350,u.size=200,typeof p<"u")for(let T in p.config.props)delete u[p.config.props[T]];o[5].nodeId||o[5].populate(u),t=o[5];const h={};h.x=100,h.y=350,h.size=200,o[6]||(o[6]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:h},o[5],e),o[6][Symbol.for("slots")][0]?(t=o[6][Symbol.for("slots")][0],e=o[6]):t=o[6][Symbol.for("children")][0]);const y=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};if(g.y=600,g.size=50,typeof y<"u")for(let T in y.config.props)delete g[y.config.props[T]];o[7].nodeId||o[7].populate(g),t=o[7];const x={};x.x={transition:e.x},x.y=600,x.size=50,o[8]||(o[8]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:x},o[7],e),o[8][Symbol.for("slots")][0]?(t=o[8][Symbol.for("slots")][0],e=o[8]):t=o[8][Symbol.for("children")][0]);const I=i.components&&i.components.Card||e[Symbol.for("components")].Card;t=o[0],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};if(b.x=500,b.y=100,typeof I<"u")for(let T in I.config.props)delete b[I.config.props[T]];o[9].nodeId||o[9].populate(b),t=o[9];const C={};C.x=500,C.y=100,o[10]||(o[10]=(i.components&&i.components.Card||e[Symbol.for("components")].Card||(()=>{console.error("component Card not found")})).call(null,{props:C},o[9],e),o[10][Symbol.for("slots")][0]?(t=o[10][Symbol.for("slots")][0],e=o[10]):t=o[10][Symbol.for("children")][0]);const S=i.components&&i.components.Card||e[Symbol.for("components")].Card;t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};if(v.x=500,v.y=500,v.size="large",typeof S<"u")for(let T in S.config.props)delete v[S.config.props[T]];o[11].nodeId||o[11].populate(v),t=o[11];const _={};return _.x=500,_.y=500,_.size="large",o[12]||(o[12]=(i.components&&i.components.Card||e[Symbol.for("components")].Card||(()=>{console.error("component Card not found")})).call(null,{props:_},o[11],e),o[12][Symbol.for("slots")][0]?(t=o[12][Symbol.for("slots")][0],e=o[12]):t=o[12][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[7].set("x",{transition:t.x})},,function(t,e,i){e[8][Symbol.for("props")].x={transition:t.x}}],context:{}},state(){return{x:100}},hooks:{ready(){this.$setInterval(()=>{this.x=this.x===100?250:100},2e3)}}}),ce=["#bbf7d0","#86efac","#4ade80","#22c55e","#16a34a","#15803d"],Rn=W.Component("ForLoop",{components:{Square:ro},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.y=20,o[1].nodeId||o[1].populate(r),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.y=120,o[3].nodeId||o[3].populate(n),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.y=220,o[5].nodeId||o[5].populate(f),t=o[0],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.y=320,o[7].nodeId||o[7].populate(d),t=o[0],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.y=420,o[10].nodeId||o[10].populate(a),t=o[0],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.y=520,o[13].nodeId||o[13].populate(c),t=o[0],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.y=620,o[15].nodeId||o[15].populate(p),t=o[0],o[17]||(o[17]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.y=720,o[17].nodeId||o[17].populate(u),t=o[0],o[19]||(o[19]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};h.y=720,h.x=700,o[19].nodeId||o[19].populate(h),t=o[0],o[21]||(o[21]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.y=920,o[21].nodeId||o[21].populate(y),t=o[0],o[24]||(o[24]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};return g.y=920,g.x=700,o[24].nodeId||o[24].populate(g),o},effects:[function(t,e,i){parent=e[1];const o=t.collection1,l=[];for(let r=0;r<o.length;r++){parent=e[1],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.key.toString()),parent=e[1],e[2]=e[2]||{},e[2][n.key]||(e[2][n.key]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const f={};f.w=80,f.h=80,f.x=n.item,f.color="#4d7c0f",e[2][n.key].nodeId||e[2][n.key].populate(f)}e[2]&&Object.keys(e[2]).forEach(r=>{l.indexOf(r)===-1&&(e[2][r].delete&&e[2][r].delete(),e[2][r].destroy&&e[2][r].destroy(),delete e[2][r])})},,function(t,e,i){parent=e[3];const o=t.collection2,l=[];for(let r=0;r<o.length;r++){parent=e[3],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.item.id),parent=e[3],e[4]=e[4]||{},e[4][n.item.id]||(e[4][n.item.id]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const f={};f.w=80,f.h=80,f.color=n.item.color,f.key=n.item.id,e[4][n.item.id].nodeId||e[4][n.item.id].populate(f),e[4][n.item.id].set("x",n.item.x*n.index)}e[4]&&Object.keys(e[4]).forEach(r=>{l.indexOf(r)===-1&&(e[4][r].delete&&e[4][r].delete(),e[4][r].destroy&&e[4][r].destroy(),delete e[4][r])})},,function(t,e,i){parent=e[5];const o=t.collection3,l=[];for(let r=0;r<o.length;r++){parent=e[5],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.key.toString()),parent=e[5],e[6]=e[6]||{},e[6][n.key]||(e[6][n.key]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const f={};f.w=80,f.h=80,f.color=n.item.color,e[6][n.key].nodeId||e[6][n.key].populate(f),e[6][n.key].set("x",n.item.x)}e[6]&&Object.keys(e[6]).forEach(r=>{l.indexOf(r)===-1&&(e[6][r].delete&&e[6][r].delete(),e[6][r].destroy&&e[6][r].destroy(),delete e[6][r])})},,function(t,e,i){parent=e[7];const o=t.collection2,l=[];for(let r=0;r<o.length;r++){parent=e[7],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.key.toString());const f=i.components&&i.components.Square||t[Symbol.for("components")].Square;e[8]=e[8]||{},e[8][n.key]||(e[8][n.key]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const d={};if(typeof f<"u")for(let c in f.config.props)delete d[f.config.props[c]];e[8][n.key].nodeId||e[8][n.key].populate(d),e[9]=e[9]||{},parent=e[8][n.key];const a={};a.x=n.item.x*n.index,a.ref="square"+n.index,a.alpha=n.alpha,e[9][n.key]||(e[9][n.key]=(i.components&&i.components.Square||t[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:a},e[8][n.key],t),e[9][n.key][Symbol.for("slots")][0]?(parent=e[9][n.key][Symbol.for("slots")][0],t=e[9][n.key]):parent=e[9][n.key][Symbol.for("children")][0]),e[8][n.key].set("x",n.item.x*n.index),e[8][n.key].set("ref","square"+n.index),e[8][n.key].set("alpha",n.alpha),e[9][n.key][Symbol.for("props")].x=n.item.x*n.index,e[9][n.key][Symbol.for("props")].ref="square"+n.index,e[9][n.key][Symbol.for("props")].alpha=n.alpha}e[9]&&Object.keys(e[9]).forEach(r=>{l.indexOf(r)===-1&&(e[9][r].delete&&e[9][r].delete(),e[9][r].destroy&&e[9][r].destroy(),delete e[9][r])})},,function(t,e,i){parent=e[10];const o=t.collection3,l=[];for(let r=0;r<o.length;r++){parent=e[10],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.item.color);const f=i.components&&i.components.Square||t[Symbol.for("components")].Square;e[11]=e[11]||{},e[11][n.item.color]||(e[11][n.item.color]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const d={};if(d.key=n.item.color,typeof f<"u")for(let c in f.config.props)delete d[f.config.props[c]];e[11][n.item.color].nodeId||e[11][n.item.color].populate(d),e[12]=e[12]||{},parent=e[11][n.item.color];const a={};a.x=n.item.x,a.key=n.item.color,a.alpha=n.alpha,e[12][n.item.color]||(e[12][n.item.color]=(i.components&&i.components.Square||t[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:a},e[11][n.item.color],t),e[12][n.item.color][Symbol.for("slots")][0]?(parent=e[12][n.item.color][Symbol.for("slots")][0],t=e[12][n.item.color]):parent=e[12][n.item.color][Symbol.for("children")][0]),e[11][n.item.color].set("x",n.item.x),e[11][n.item.color].set("alpha",n.alpha),e[12][n.item.color][Symbol.for("props")].x=n.item.x,e[12][n.item.color][Symbol.for("props")].alpha=n.alpha}e[12]&&Object.keys(e[12]).forEach(r=>{l.indexOf(r)===-1&&(e[12][r].delete&&e[12][r].delete(),e[12][r].destroy&&e[12][r].destroy(),delete e[12][r])})},,function(t,e,i){parent=e[13];const o=t.collection1,l=[];for(let r=0;r<o.length;r++){parent=e[13],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.key.toString()),parent=e[13],e[14]=e[14]||{},e[14][n.key]||(e[14][n.key]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const f={};f.w=80,f.h=80,f.color="#eab308",e[14][n.key].nodeId||e[14][n.key].populate(f),e[14][n.key].set("x",n.item),e[14][n.key].set("alpha",n.alpha)}e[14]&&Object.keys(e[14]).forEach(r=>{l.indexOf(r)===-1&&(e[14][r].delete&&e[14][r].delete(),e[14][r].destroy&&e[14][r].destroy(),delete e[14][r])})},,function(t,e,i){parent=e[15];const o=t.collection2,l=[];for(let r=0;r<o.length;r++){parent=e[15],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.item.id),parent=e[15],e[16]=e[16]||{},e[16][n.item.id]||(e[16][n.item.id]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const f={};f.w=80,f.h=80,f.color=n.item.color,f.key=n.item.id,e[16][n.item.id].nodeId||e[16][n.item.id].populate(f),e[16][n.item.id].set("x",n.item.x),e[16][n.item.id].set("alpha",n.alpha)}e[16]&&Object.keys(e[16]).forEach(r=>{l.indexOf(r)===-1&&(e[16][r].delete&&e[16][r].delete(),e[16][r].destroy&&e[16][r].destroy(),delete e[16][r])})},,function(t,e,i){parent=e[17];const o=t.collection4,l=[];for(let r=0;r<o.length;r++){parent=e[17],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.item.id),parent=e[17],e[18]=e[18]||{},e[18][n.item.id]||(e[18][n.item.id]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const f={};f.w=80,f.h=80,f.color="#06b6d4",f.key=n.item.id,e[18][n.item.id].nodeId||e[18][n.item.id].populate(f),e[18][n.item.id].set("x",n.item.x)}e[18]&&Object.keys(e[18]).forEach(r=>{l.indexOf(r)===-1&&(e[18][r].delete&&e[18][r].delete(),e[18][r].destroy&&e[18][r].destroy(),delete e[18][r])})},,function(t,e,i){parent=e[19];const o=t.collection4,l=[];for(let r=0;r<o.length;r++){parent=e[19],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.key.toString()),parent=e[19],e[20]=e[20]||{},e[20][n.key]||(e[20][n.key]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const f={};f.w=80,f.h=80,f.color="#8b5cf6",e[20][n.key].nodeId||e[20][n.key].populate(f),e[20][n.key].set("x",n.item.x)}e[20]&&Object.keys(e[20]).forEach(r=>{l.indexOf(r)===-1&&(e[20][r].delete&&e[20][r].delete(),e[20][r].destroy&&e[20][r].destroy(),delete e[20][r])})},,function(t,e,i){parent=e[21];const o=t.collection4,l=[];for(let r=0;r<o.length;r++){parent=e[21],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.item.id);const f=i.components&&i.components.Square||t[Symbol.for("components")].Square;e[22]=e[22]||{},e[22][n.item.id]||(e[22][n.item.id]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const d={};if(d.w=80,d.h=80,d.key=n.item.id,typeof f<"u")for(let c in f.config.props)delete d[f.config.props[c]];e[22][n.item.id].nodeId||e[22][n.item.id].populate(d),e[23]=e[23]||{},parent=e[22][n.item.id];const a={};a.w=80,a.h=80,a.x=n.item.x,a.key=n.item.id,e[23][n.item.id]||(e[23][n.item.id]=(i.components&&i.components.Square||t[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:a},e[22][n.item.id],t),e[23][n.item.id][Symbol.for("slots")][0]?(parent=e[23][n.item.id][Symbol.for("slots")][0],t=e[23][n.item.id]):parent=e[23][n.item.id][Symbol.for("children")][0]),e[22][n.item.id].set("x",n.item.x),e[23][n.item.id][Symbol.for("props")].x=n.item.x}e[23]&&Object.keys(e[23]).forEach(r=>{l.indexOf(r)===-1&&(e[23][r].delete&&e[23][r].delete(),e[23][r].destroy&&e[23][r].destroy(),delete e[23][r])})},,function(t,e,i){parent=e[24];const o=t.collection4,l=[];for(let r=0;r<o.length;r++){parent=e[24],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,item:o[r]});l.push(n.key.toString());const f=i.components&&i.components.Square||t[Symbol.for("components")].Square;e[25]=e[25]||{},e[25][n.key]||(e[25][n.key]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const d={};if(d.w=80,d.h=80,typeof f<"u")for(let c in f.config.props)delete d[f.config.props[c]];e[25][n.key].nodeId||e[25][n.key].populate(d),e[26]=e[26]||{},parent=e[25][n.key];const a={};a.w=80,a.h=80,a.x=n.item.x,e[26][n.key]||(e[26][n.key]=(i.components&&i.components.Square||t[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:a},e[25][n.key],t),e[26][n.key][Symbol.for("slots")][0]?(parent=e[26][n.key][Symbol.for("slots")][0],t=e[26][n.key]):parent=e[26][n.key][Symbol.for("children")][0]),e[25][n.key].set("x",n.item.x),e[26][n.key][Symbol.for("props")].x=n.item.x}e[26]&&Object.keys(e[26]).forEach(r=>{l.indexOf(r)===-1&&(e[26][r].delete&&e[26][r].delete(),e[26][r].destroy&&e[26][r].destroy(),delete e[26][r])})}],context:{}},state(){return{collection1:[0,100,200,300,400,500],collection2:[{id:"block1",x:0,color:ce[0]},{id:"block2",x:100,color:ce[1]},{id:"block3",x:200,color:ce[2]},{id:"block4",x:300,color:ce[3]},{id:"block5",x:400,color:ce[4]},{id:"block6",x:500,color:ce[5]}],collection3:[],collection4:[{x:0,id:"one"},{x:200,id:"two"},{x:400,id:"three"}],alpha:.5}},hooks:{ready(){this.$setTimeout(()=>{this.collection2[0].color=ce[5],this.collection2[1].color=ce[4],this.collection2[2].color=ce[3],this.collection2[3].color=ce[2],this.collection2[4].color=ce[1],this.collection2[5].color=ce[0]},4e3);let s=0;const t=this.$setInterval(()=>{this.collection3.push({x:s*100,color:ce[s]}),s++,s===ce.length&&clearInterval(t)},1e3);this.$setTimeout(()=>{this.alpha=this.alpha===.5?1:.5},800),this.$setTimeout(()=>{this.collection4=[{x:100,id:"four"},{x:500,id:"five"}]},2e3)}}}),zn=W.Component("Effects",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.w=160,r.h=160,r.x=40,r.y=40,r.color="#fb923c",o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=160,n.h=160,n.x=240,n.y=40,n.color="#d97706",o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.w=160,f.h=160,f.x=440,f.y=40,f.color="#b45309",o[3].nodeId||o[3].populate(f),t=o[0],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.w=160,d.h=160,d.x=640,d.y=40,d.color="#78350f",o[4].nodeId||o[4].populate(d),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.w=160,a.h=160,a.x=40,a.y=240,a.color="#65a30d",o[5].nodeId||o[5].populate(a),t=o[0],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.w=300,c.h=300,c.x=40,c.y=440,c.color="#0c4a6e",o[6].nodeId||o[6].populate(c),t=o[6],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.w=200,p.h=200,p.x=50,p.y=50,p.color="#0284c7",o[7].nodeId||o[7].populate(p),t=o[7],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.w=100,u.h=100,u.x=50,u.y=50,u.color="#38bdf8",o[8].nodeId||o[8].populate(u),t=o[8],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};h.w=40,h.h=40,h.x=30,h.y=30,h.color="#bae6fd",o[9].nodeId||o[9].populate(h),t=o[0],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.w=160,y.h=160,y.x=840,y.y=40,y.color="#3b82f6",o[10].nodeId||o[10].populate(y),t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};return g.w=160,g.h=160,g.x=1040,g.y=40,g.color="#500724",o[11].nodeId||o[11].populate(g),o},effects:[function(t,e,i){e[1].set("effects",[t.shader("radius",{radius:44})])},,function(t,e,i){e[2].set("effects",[t.shader("radius",{radius:25})])},,function(t,e,i){e[3].set("effects",[t.shader("radius",{radius:80})])},,function(t,e,i){e[4].set("effects",[t.shader("radius",{radius:10})])},,function(t,e,i){e[5].set("effects",[t.shader("radius",{radius:t.radius})])},,function(t,e,i){e[6].set("effects",[t.shader("radius",{radius:30})])},,function(t,e,i){e[7].set("effects",[t.shader("radius",{radius:40})])},,function(t,e,i){e[8].set("effects",[t.shader("radius",{radius:50})])},,function(t,e,i){e[9].set("effects",[t.shader("radius",{radius:20})])},,function(t,e,i){e[10].set("effects",[t.shader("radius",{radius:10}),t.shader("border",{width:20,color:"#60a5fa"})])},,function(t,e,i){e[11].set("effects",t.effects)}],context:{}},state(){return{direction:"up",radius:0,effects:[this.shader("borderTop",{width:20,color:"#be123c"}),this.shader("borderBottom",{width:20,color:"#f43f5e"})]}},hooks:{ready(){this.$setInterval(()=>{const t=this.direction==="up"?this.radius+10:this.radius-10;this.radius=Math.max(Math.min(t,80),0),this.radius===80&&(this.direction="down"),this.radius===0&&(this.direction="up")},500);let s=0;this.$setInterval(()=>{s++,s%2?this.effects=[this.shader("borderLeft",{width:20,color:"#be123c"}),this.shader("borderRight",{width:20,color:"#f43f5e"})]:this.effects=[this.shader("borderTop",{width:20,color:"#be123c"}),this.shader("borderBottom",{width:20,color:"#f43f5e"})]},2e3)}}}),Mn=W.Component("ShowIf",{components:{Square:ro},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.y=40,o[1].nodeId||o[1].populate(r),t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.x=50,n.w=200,n.h=300,n.color="#bef264",n.show=!0,o[2].nodeId||o[2].populate(n),t=o[1],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.x=350,f.w=200,f.h=300,f.color="#bef264",f.show=!1,o[3].nodeId||o[3].populate(f),t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.x=650,d.w=200,d.h=300,d.color="#84cc16",d.show=1,o[4].nodeId||o[4].populate(d),t=o[1],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.x=950,a.w=200,a.h=300,a.color="#84cc16",a.show=0,o[5].nodeId||o[5].populate(a),t=o[0],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.y=380,o[6].nodeId||o[6].populate(c),t=o[6],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};p.x=50,p.w=200,p.h=300,p.color="#fde047",p.show=e.showNr,o[7].nodeId||o[7].populate(p),t=o[6],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};u.x=350,u.w=200,u.h=300,u.color="#fde047",u.show=e.hideNr,o[8].nodeId||o[8].populate(u),t=o[6],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};h.x=650,h.w=200,h.h=300,h.color="#84cc16",h.show=e.showBool,o[9].nodeId||o[9].populate(h),t=o[6],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y.x=950,y.w=200,y.h=300,y.color="#84cc16",y.show=e.hideBool,o[10].nodeId||o[10].populate(y),t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};g.y=720,o[11].nodeId||o[11].populate(g),t=o[11],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const x={};x.x=50,x.w=200,x.h=300,x.color="#5eead4",o[12].nodeId||o[12].populate(x),t=o[0],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};I.y=40,I.x=1e3,o[13].nodeId||o[13].populate(I);const b=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[13],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};if(C.show=!0,typeof b<"u")for(let k in b.config.props)delete C[b.config.props[k]];o[14].nodeId||o[14].populate(C),t=o[14];const S={};S.show=!0,o[15]||(o[15]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:S},o[14],e),o[15][Symbol.for("slots")][0]?(t=o[15][Symbol.for("slots")][0],e=o[15]):t=o[15][Symbol.for("children")][0]);const v=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[13],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _={};if(_.y=100,_.show=!1,typeof v<"u")for(let k in v.config.props)delete _[v.config.props[k]];o[16].nodeId||o[16].populate(_),t=o[16];const T={};T.y=100,T.show=!1,o[17]||(o[17]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:T},o[16],e),o[17][Symbol.for("slots")][0]?(t=o[17][Symbol.for("slots")][0],e=o[17]):t=o[17][Symbol.for("children")][0]);const $=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[13],o[18]||(o[18]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const R={};if(R.y=200,typeof $<"u")for(let k in $.config.props)delete R[$.config.props[k]];o[18].nodeId||o[18].populate(R),t=o[18];const z={};return z.y=200,z.show=e.showHideToggle,o[19]||(o[19]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:z},o[18],e),o[19][Symbol.for("slots")][0]?(t=o[19][Symbol.for("slots")][0],e=o[19]):t=o[19][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[12].set("show",t.showHideToggle)},,function(t,e,i){e[18].set("show",t.showHideToggle)},,function(t,e,i){e[19][Symbol.for("props")].show=t.showHideToggle}],context:{}},state(){return{showNr:1,hidNr:0,showBool:!0,hideBool:!1,showHideToggle:!0}},hooks:{ready(){this.$setInterval(()=>{this.showHideToggle=!this.showHideToggle},2e3),this.$setTimeout(()=>{this.showNr=0,this.hideNr=1,this.showBool=!1,this.hideBool=!0},4e3)}}}),En=W.Component("Events",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.x=400,l.y=360,o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.w=280,r.h=280,r.color="#e5e7eb",r.y=-5,o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};n.w=250,n.h=250,n.x=10,n.y=10,n.color=e.colors[0],o[2].nodeId||o[2].populate(n),t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};f.w=250,f.h=250,f.x=290,f.y=10,f.color=e.colors[1],o[3].nodeId||o[3].populate(f),t=o[0],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};d.w=250,d.h=250,d.x=570,d.y=10,d.color=e.colors[2],o[4].nodeId||o[4].populate(d),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};return a.w=250,a.h=250,a.x=850,a.y=10,a.color=e.colors[3],o[5].nodeId||o[5].populate(a),o},effects:[function(t,e,i){e[1].set("x",t.x)}],context:{}},state(){return{count:0,colors:["#fbbf24","#a3e635","#22d3ee","#f472b6"]}},computed:{x(){return this.count*280-5}},hooks:{unfocus(){this.$emit("changeBackground")}},input:{left(s){const t=this.count-1;t===-1?this.parent.focus(s):this.count=Math.max(t,0)},right(s){const t=this.count+1;t===4?this.parent.focus(s):this.count=Math.min(t,3)},enter(){this.$emit("changeBackground",this.colors[this.count])}}}),Ln=W.Component("SlotCard",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=300,l.h=500,l.color="{top: '#94a3b8', bottom: '#475569'}",o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r[Symbol.for("isSlot")]=!0,r.x=20,r.y=20,o[1].nodeId||o[1].populate(r);const n=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};if(f.content=e.label,f.wordwrap=260,f.x=20,f.y=400,f.align="center",typeof n<"u")for(let a in n.config.props)delete f[n.config.props[a]];o[2].nodeId||o[2].populate(f),t=o[2];const d={};return d.content=e.label,d.wordwrap=260,d.x=20,d.y=400,d.align="center",o[3]||(o[3]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:d},o[2],e),o[3][Symbol.for("slots")][0]?(t=o[3][Symbol.for("slots")][0],e=o[3]):t=o[3][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[0].set("effects",[t.shader("radius",{radius:20}),t.shader("border",{width:6,color:"#e2e8f0"})])}],context:{}},props:[{key:"label"}]}),Fn=W.Component("NamedSlotCard",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=700,l.h=300,l.color="{top: '#94a3b8', bottom: '#475569'}",o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.x=20,r.y=20,o[1].nodeId||o[1].populate(r);const n=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};if(f.content="First slot",typeof n<"u")for(let S in n.config.props)delete f[n.config.props[S]];o[2].nodeId||o[2].populate(f),t=o[2];const d={};d.content="First slot",o[3]||(o[3]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:d},o[2],e),o[3][Symbol.for("slots")][0]?(t=o[3][Symbol.for("slots")][0],e=o[3]):t=o[3][Symbol.for("children")][0]),t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a[Symbol.for("isSlot")]=!0,a.y=40,a.ref="first",o[4].nodeId||o[4].populate(a),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const c={};c.x=200,c.y=20,o[5].nodeId||o[5].populate(c);const p=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[5],o[6]||(o[6]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const u={};if(u.content="Second slot",typeof p<"u")for(let S in p.config.props)delete u[p.config.props[S]];o[6].nodeId||o[6].populate(u),t=o[6];const h={};h.content="Second slot",o[7]||(o[7]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:h},o[6],e),o[7][Symbol.for("slots")][0]?(t=o[7][Symbol.for("slots")][0],e=o[7]):t=o[7][Symbol.for("children")][0]),t=o[5],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};y[Symbol.for("isSlot")]=!0,y.y=40,y.ref="second",o[8].nodeId||o[8].populate(y),t=o[0],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};g.x=480,g.y=20,o[9].nodeId||o[9].populate(g);const x=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[9],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};if(I.content="Third slot",typeof x<"u")for(let S in x.config.props)delete I[x.config.props[S]];o[10].nodeId||o[10].populate(I),t=o[10];const b={};b.content="Third slot",o[11]||(o[11]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:b},o[10],e),o[11][Symbol.for("slots")][0]?(t=o[11][Symbol.for("slots")][0],e=o[11]):t=o[11][Symbol.for("children")][0]),t=o[9],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};return C[Symbol.for("isSlot")]=!0,C.y=40,C.ref="third",o[12].nodeId||o[12].populate(C),o},effects:[function(t,e,i){e[0].set("effects",[t.shader("radius",{radius:20}),t.shader("border",{width:6,color:"#e2e8f0"})])}],context:{}}}),Ke=["#fff7ed","#fdba74","#f97316","#ea580c","#9a3412","#431407"],Bn=W.Component("Components",{components:{SlotCard:Ln,NamedSlotCard:Fn,Card:Zt,Square:ro},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.SlotCard||e[Symbol.for("components")].SlotCard;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.x=400,n.y=100,n.label="Element",typeof r<"u")for(let O in r.config.props)delete n[r.config.props[O]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.x=400,f.y=100,f.label="Element",o[2]||(o[2]=(i.components&&i.components.SlotCard||e[Symbol.for("components")].SlotCard||(()=>{console.error("component SlotCard not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]),o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const d={};o[3].nodeId||o[3].populate(d),t=o[3],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.w=100,a.h=100,o[4].nodeId||o[4].populate(a);const c=i.components&&i.components.SlotCard||e[Symbol.for("components")].SlotCard;t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};if(p.x=800,p.y=100,p.label="Component",typeof c<"u")for(let O in c.config.props)delete p[c.config.props[O]];o[5].nodeId||o[5].populate(p),t=o[5];const u={};u.x=800,u.y=100,u.label="Component",o[6]||(o[6]=(i.components&&i.components.SlotCard||e[Symbol.for("components")].SlotCard||(()=>{console.error("component SlotCard not found")})).call(null,{props:u},o[5],e),o[6][Symbol.for("slots")][0]?(t=o[6][Symbol.for("slots")][0],e=o[6]):t=o[6][Symbol.for("children")][0]),o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const h={};o[7].nodeId||o[7].populate(h);const y=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[7],o[8]||(o[8]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const g={};if(g.size=200,g.y=50,typeof y<"u")for(let O in y.config.props)delete g[y.config.props[O]];o[8].nodeId||o[8].populate(g),t=o[8];const x={};x.size=200,x.y=50,o[9]||(o[9]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:x},o[8],e),o[9][Symbol.for("slots")][0]?(t=o[9][Symbol.for("slots")][0],e=o[9]):t=o[9][Symbol.for("children")][0]);const I=i.components&&i.components.SlotCard||e[Symbol.for("components")].SlotCard;t=o[0],o[10]||(o[10]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const b={};if(b.x=1200,b.y=100,b.label="Element & Component",typeof I<"u")for(let O in I.config.props)delete b[I.config.props[O]];o[10].nodeId||o[10].populate(b),t=o[10];const C={};C.x=1200,C.y=100,C.label="Element & Component",o[11]||(o[11]=(i.components&&i.components.SlotCard||e[Symbol.for("components")].SlotCard||(()=>{console.error("component SlotCard not found")})).call(null,{props:C},o[10],e),o[11][Symbol.for("slots")][0]?(t=o[11][Symbol.for("slots")][0],e=o[11]):t=o[11][Symbol.for("children")][0]),o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const S={};o[12].nodeId||o[12].populate(S),t=o[12],o[13]||(o[13]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};v.w=100,v.h=100,o[13].nodeId||o[13].populate(v);const _=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[12],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const T={};if(T.size=200,T.y=150,typeof _<"u")for(let O in _.config.props)delete T[_.config.props[O]];o[14].nodeId||o[14].populate(T),t=o[14];const $={};$.size=200,$.y=150,o[15]||(o[15]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:$},o[14],e),o[15][Symbol.for("slots")][0]?(t=o[15][Symbol.for("slots")][0],e=o[15]):t=o[15][Symbol.for("children")][0]);const R=i.components&&i.components.Card||e[Symbol.for("components")].Card;t=o[0],o[16]||(o[16]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const z={};if(z.x=400,z.y=700,z.size="small",typeof R<"u")for(let O in R.config.props)delete z[R.config.props[O]];o[16].nodeId||o[16].populate(z),t=o[16];const k={};k.x=400,k.y=700,k.size="small",o[17]||(o[17]=(i.components&&i.components.Card||e[Symbol.for("components")].Card||(()=>{console.error("component Card not found")})).call(null,{props:k},o[16],e),o[17][Symbol.for("slots")][0]?(t=o[17][Symbol.for("slots")][0],e=o[17]):t=o[17][Symbol.for("children")][0]),o[18]||(o[18]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const M={};o[18].nodeId||o[18].populate(M),t=o[18],o[19]||(o[19]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const F={};F.w=100,F.h=100,o[19].nodeId||o[19].populate(F);const B=i.components&&i.components.NamedSlotCard||e[Symbol.for("components")].NamedSlotCard;t=o[0],o[20]||(o[20]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const E={};if(E.x=800,E.y=700,typeof B<"u")for(let O in B.config.props)delete E[B.config.props[O]];o[20].nodeId||o[20].populate(E),t=o[20];const L={};L.x=800,L.y=700,o[21]||(o[21]=(i.components&&i.components.NamedSlotCard||e[Symbol.for("components")].NamedSlotCard||(()=>{console.error("component NamedSlotCard not found")})).call(null,{props:L},o[20],e),o[21][Symbol.for("slots")][0]?(t=o[21][Symbol.for("slots")][0],e=o[21]):t=o[21][Symbol.for("children")][0]),o[22]||(o[22]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const U={};o[22].nodeId||o[22].populate(U),t=o[22],o[23]||(o[23]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const A={};A.color="#0891b2",A.x=10,A.y=140,A.w=80,A.h=60,A.parent=e[Symbol.for("slots")].filter(O=>O.ref==="second").shift()||e[Symbol.for("slots")][0]||t,A.slot="second",o[23].nodeId||o[23].populate(A),t=o[22],o[24]||(o[24]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const q={};q.w=100,q.h=100,q.parent=e[Symbol.for("slots")].filter(O=>O.ref==="third").shift()||e[Symbol.for("slots")][0]||t,q.slot="third",o[24].nodeId||o[24].populate(q);const N=i.components&&i.components.Square||e[Symbol.for("components")].Square;t=o[22],o[25]||(o[25]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const G={};if(G.size=100,G.parent=e[Symbol.for("slots")].filter(O=>O.ref==="first").shift()||e[Symbol.for("slots")][0]||t,G.slot="first",typeof N<"u")for(let O in N.config.props)delete G[N.config.props[O]];o[25].nodeId||o[25].populate(G),t=o[25];const X={};X.size=100,X.slot="first",o[26]||(o[26]=(i.components&&i.components.Square||e[Symbol.for("components")].Square||(()=>{console.error("component Square not found")})).call(null,{props:X},o[25],e),o[26][Symbol.for("slots")][0]?(t=o[26][Symbol.for("slots")][0],e=o[26]):t=o[26][Symbol.for("children")][0]),t=o[22],o[27]||(o[27]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const H={};return H.color="#4d7c0f",H.x=40,H.y=40,H.w=40,H.h=60,H.parent=e[Symbol.for("slots")].filter(O=>O.ref==="second").shift()||e[Symbol.for("slots")][0]||t,H.slot="second",o[27].nodeId||o[27].populate(H),o},effects:[function(t,e,i){e[4].set("color",t.color)},,function(t,e,i){e[13].set("color",t.color)},,function(t,e,i){e[19].set("color",t.color)},,function(t,e,i){e[24].set("color",t.color)}],context:{}},state(){return{color:Ke[0]}},hooks:{ready(){this.$setInterval(()=>{const s=Ke.indexOf(this.color)+1;this.color=s<=Ke.length?Ke[s]:Ke[0]},600)}}}),Pn=W.Component("MemoryCard",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=320,l.h=200,l.x=e.col*360,l.y=e.row*250,o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};r.w=320,r.y=125,r.mount="{y: 0.5}",o[1].nodeId||o[1].populate(r),t=o[0],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};return n.w=320,n.y=125,n.mount="{y: 0.5}",o[2].nodeId||o[2].populate(n),o},effects:[function(t,e,i){e[0].set("scale",{transition:t.scale})},,function(t,e,i){e[0].set("rotation",{transition:t.disabled?-2:0})},,function(t,e,i){e[1].set("h",{transition:t.h})},,function(t,e,i){e[1].set("color",{transition:t.disabled?"#ccc":"#fff"})},,function(t,e,i){e[1].set("src",t.image+"&w=320&h=200")},,function(t,e,i){e[1].set("effects",[t.shader("radius",{radius:6})])},,function(t,e,i){e[1].set("show",t.open)},,function(t,e,i){e[2].set("h",{transition:t.h})},,function(t,e,i){e[2].set("color",t.open?"transparent":{top:"#efefef",bottom:"#aaa"})},,function(t,e,i){e[2].set("effects",[t.shader("radius",{radius:6})])}],context:{}},props:["row","col","image","description","index"],state(){return{disabled:!1,open:!1,h:200,scale:1}},hooks:{init(){this.$listen("closeMemoryCard",s=>{s===this.index&&this.$setTimeout(()=>this.flip(),1e3)}),this.$listen("deactivateMemoryCard",s=>{s===this.index&&(this.$setTimeout(()=>{this.scale=1.16},500),this.$setTimeout(()=>{this.disabled=!0,this.scale=1},800))})},focus(s){this.scale=1.08;const t="Card "+(this.index+1)+(this.disabled?" (disabled)":"");this.$announcer.speak(t)},unfocus(){this.scale=1}},input:{enter(){if(!this.disabled){if(this.open){this.$announcer.speak("Card already open. Choose another");return}this.flip(),this.$announcer.speak(`Image of a ${this.description}`),this.$emit("selectMemoryCard",this.index)}}},methods:{flip(){this.h=0,this.$setTimeout(()=>{this.open=!this.open,this.h=200},250)}}}),St=[{image:"https://images.pexels.com/photos/106399/pexels-photo-106399.jpeg?auto=compress&cs=tinysrgb",description:"House"},{image:"https://images.pexels.com/photos/2902440/pexels-photo-2902440.jpeg?auto=compress&cs=tinysrgb",description:"Tree"},{image:"https://images.pexels.com/photos/686094/pexels-photo-686094.jpeg?auto=compress&cs=tinysrgb",description:"Dog"},{image:"https://images.pexels.com/photos/1302290/pexels-photo-1302290.jpeg?auto=compress&cs=tinysrgb",description:"Cat"},{image:"https://images.pexels.com/photos/627678/pexels-photo-627678.jpeg?auto=compress&cs=tinysrgb",description:"Car"},{image:"https://images.pexels.com/photos/1616566/pexels-photo-1616566.jpeg?auto=compress&cs=tinysrgb",description:"Bicycle"}],Nn=W.Component("Announcer",{components:{MemoryCard:Pn},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(n.font="raleway",n.size=80,n.color="white",n.content="Let's play memory!",n.x=580,n.y=60,typeof r<"u")for(let u in r.config.props)delete n[r.config.props[u]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};f.font="raleway",f.size=80,f.color="white",f.content="Let's play memory!",f.x=580,f.y=60,o[2]||(o[2]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]);const d=i.components&&i.components.Text||e[Symbol.for("components")].Text;t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.font="kalam",a.size=40,a.color="#b91c1c",a.content="the Accessible edition :)",a.x=1200,a.y=170,a.rotation=-6,typeof d<"u")for(let u in d.config.props)delete a[d.config.props[u]];o[3].nodeId||o[3].populate(a),t=o[3];const c={};c.font="kalam",c.size=40,c.color="#b91c1c",c.content="the Accessible edition :)",c.x=1200,c.y=170,c.rotation=-6,o[4]||(o[4]=(i.components&&i.components.Text||e[Symbol.for("components")].Text||(()=>{console.error("component Text not found")})).call(null,{props:c},o[3],e),o[4][Symbol.for("slots")][0]?(t=o[4][Symbol.for("slots")][0],e=o[4]):t=o[4][Symbol.for("children")][0]),t=o[0],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};return p.x=260,p.y=260,o[5].nodeId||o[5].populate(p),o},effects:[function(t,e,i){parent=e[5];const o=t.cards,l=[];for(let r=0;r<o.length;r++){parent=e[5],t.key||(l.length=0);const n=Object.assign(t,{key:Math.random(),index:r,card:o[r]});l.push(n.key.toString());const f=i.components&&i.components.MemoryCard||t[Symbol.for("components")].MemoryCard;e[6]=e[6]||{},e[6][n.key]||(e[6][n.key]=this.element({componentId:t[Symbol.for("id")],parent:parent||"root"},t));const d={};if(d.image=n.card.image,d.description=n.card.description,typeof f<"u")for(let c in f.config.props)delete d[f.config.props[c]];e[6][n.key].nodeId||e[6][n.key].populate(d),e[7]=e[7]||{},parent=e[6][n.key];const a={};a.col=n.index%4,a.row=Math.floor(n.index/4)%3,a.key=n.card.image,a.image=n.card.image,a.description=n.card.description,a.ref="card"+n.index,a.index=n.index,e[7][n.key]||(e[7][n.key]=(i.components&&i.components.MemoryCard||t[Symbol.for("components")].MemoryCard||(()=>{console.error("component MemoryCard not found")})).call(null,{props:a},e[6][n.key],t),e[7][n.key][Symbol.for("slots")][0]?(parent=e[7][n.key][Symbol.for("slots")][0],t=e[7][n.key]):parent=e[7][n.key][Symbol.for("children")][0]),e[6][n.key].set("col",n.index%4),e[6][n.key].set("row",Math.floor(n.index/4)%3),e[6][n.key].set("key",n.card.image),e[6][n.key].set("ref","card"+n.index),e[6][n.key].set("index",n.index),e[7][n.key][Symbol.for("props")].col=n.index%4,e[7][n.key][Symbol.for("props")].row=Math.floor(n.index/4)%3,e[7][n.key][Symbol.for("props")].key=n.card.image,e[7][n.key][Symbol.for("props")].ref="card"+n.index,e[7][n.key][Symbol.for("props")].index=n.index}e[7]&&Object.keys(e[7]).forEach(r=>{l.indexOf(r)===-1&&(e[7][r].delete&&e[7][r].delete(),e[7][r].destroy&&e[7][r].destroy(),delete e[7][r])})}],context:{}},state(){return{cards:St.concat(St),focusedRow:-1,focusedCol:-1,openCards:[],pairs:0}},hooks:{init(){this.shuffle(),this.$listen("selectMemoryCard",s=>{this.openCards.length<2&&this.openCards.push(s),this.openCards.length===2&&(this.cards[this.openCards[0]].description===this.cards[this.openCards[1]].description?(this.$emit("deactivateMemoryCard",this.openCards[0]),this.$emit("deactivateMemoryCard",this.openCards[1]),this.pairs++,this.$setTimeout(()=>{this.$announcer.speak(this.pairs===this.cards.length/2?"Congratulations, you found all pairs!":`You found a pair! ${this.cards.length/2-this.pairs} more to go.`)},1500)):(this.$emit("closeMemoryCard",this.openCards[0]),this.$emit("closeMemoryCard",this.openCards[1]),this.$setTimeout(()=>{this.$announcer.speak("No match. Try again")},1500)),this.openCards.length=0)})},destroy(){this.$announcer.speak("Thanks for playing Memory")}},watch:{focusedCol(s){if(this.focusedRow===-1){this.focusedRow=0;return}s=s+this.focusedRow*4,this.select("card"+s).focus()},focusedRow(s){if(this.focusedCol===-1){this.focusedCol=0;return}s=this.focusedCol+s*4,this.select("card"+s).focus()}},methods:{shuffle(){this.cards.sort(()=>.5-Math.random())}},input:{left(){this.focusedCol===0?this.focusedRow===0?this.$announcer.speak("You are already at the first card"):(this.focusedCol=3,this.focusedRow--):this.focusedCol=Math.max(0,this.focusedCol-1)},right(){this.focusedCol===3?this.focusedRow===2?this.$announcer.speak("You are already at the last card"):(this.focusedCol=0,this.focusedRow++):this.focusedCol=Math.min(3,this.focusedCol+1)},up(){this.focusedCol===0&&this.$announcer.speak("You are already at the first card"),this.focusedRow=Math.max(0,this.focusedRow-1)},down(){this.focusedRow===2&&this.$announcer.speak("You are already at the last card"),this.focusedRow=Math.min(2,this.focusedRow+1)}}}),Qe=(s,t)=>Math.floor(Math.random()*(t-s+1)+s),An=W.Component("Item",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};return l.src="assets/blits-b-small.png",l.w=96,l.h=168,o[0].nodeId||o[0].populate(l),o},effects:[function(t,e,i){e[0].set("x",{transition:{value:t.x,duration:2900}})},,function(t,e,i){e[0].set("y",{transition:{value:t.y,duration:2900}})},,function(t,e,i){e[0].set("rotation",{transition:{value:t.rotation,duration:2900}})},,function(t,e,i){e[0].set("scale",{transition:{value:t.scale,duration:1e3}})}],context:{}},state(){return{x:Qe(20,1560),y:Qe(20,720),rotation:0,scale:.1}},hooks:{ready(){this.scale=1,this.$setInterval(()=>{this.scale=1,this.x=Qe(20,1740),this.y=Qe(20,900),this.rotation=Qe(10,360)},3e3)}}}),On=W.Component("Exponential",{components:{Item:An},template:`<Element>
    <Item :for="item in $items" key="$item" />
  </Element>`,state(){return{items:[]}},hooks:{ready(){const s=this.$setInterval(()=>{for(let t=0;t<=Math.floor(this.items.length/10);t++)this.items.push(`item${this.items.length}`);this.$log.info("# items",this.items.length),this.items.length>100&&clearInterval(s)},2e3)}}}),Dn=W.Component("FPScounter",{code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.y=15,l.x=20,o[0].nodeId||o[0].populate(l),t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const r={};o[1].nodeId||o[1].populate(r);const n=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[1],o[2]||(o[2]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const f={};if(f.image="assets/fps_sprite.png",f.w=43,f.h=25,f.map=e.sprite,f.frame="fps",typeof n<"u")for(let K in n.config.props)delete f[n.config.props[K]];o[2].nodeId||o[2].populate(f),t=o[2];const d={};d.image="assets/fps_sprite.png",d.w=43,d.h=25,d.map=e.sprite,d.frame="fps",o[3]||(o[3]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:d},o[2],e),o[3][Symbol.for("slots")][0]?(t=o[3][Symbol.for("slots")][0],e=o[3]):t=o[3][Symbol.for("children")][0]),t=o[1],o[4]||(o[4]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};a.x=58,a.y=2,o[4].nodeId||o[4].populate(a);const c=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[4],o[5]||(o[5]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const p={};if(p.image="assets/fps_sprite.png",p.x=0,p.h=20,p.w=20,p.map=e.sprite,typeof c<"u")for(let K in c.config.props)delete p[c.config.props[K]];o[5].nodeId||o[5].populate(p),t=o[5];const u={};u.image="assets/fps_sprite.png",u.x=0,u.h=20,u.w=20,u.map=e.sprite,u.frame=e.fps[0],o[6]||(o[6]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:u},o[5],e),o[6][Symbol.for("slots")][0]?(t=o[6][Symbol.for("slots")][0],e=o[6]):t=o[6][Symbol.for("children")][0]);const h=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[4],o[7]||(o[7]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const y={};if(y.image="assets/fps_sprite.png",y.x=18,y.h=20,y.w=20,y.map=e.sprite,typeof h<"u")for(let K in h.config.props)delete y[h.config.props[K]];o[7].nodeId||o[7].populate(y),t=o[7];const g={};g.image="assets/fps_sprite.png",g.x=18,g.h=20,g.w=20,g.map=e.sprite,g.frame=e.fps[1],o[8]||(o[8]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:g},o[7],e),o[8][Symbol.for("slots")][0]?(t=o[8][Symbol.for("slots")][0],e=o[8]):t=o[8][Symbol.for("children")][0]);const x=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[4],o[9]||(o[9]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const I={};if(I.image="assets/fps_sprite.png",I.x=36,I.h=20,I.w=20,I.map=e.sprite,typeof x<"u")for(let K in x.config.props)delete I[x.config.props[K]];o[9].nodeId||o[9].populate(I),t=o[9];const b={};b.image="assets/fps_sprite.png",b.x=36,b.h=20,b.w=20,b.map=e.sprite,b.frame=e.fps[2],o[10]||(o[10]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:b},o[9],e),o[10][Symbol.for("slots")][0]?(t=o[10][Symbol.for("slots")][0],e=o[10]):t=o[10][Symbol.for("children")][0]),t=o[0],o[11]||(o[11]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const C={};C.x=150,o[11].nodeId||o[11].populate(C);const S=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[11],o[12]||(o[12]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const v={};if(v.image="assets/fps_sprite.png",v.y=2,v.w=48,v.h=25,v.map=e.sprite,v.frame="avg",typeof S<"u")for(let K in S.config.props)delete v[S.config.props[K]];o[12].nodeId||o[12].populate(v),t=o[12];const _={};_.image="assets/fps_sprite.png",_.y=2,_.w=48,_.h=25,_.map=e.sprite,_.frame="avg",o[13]||(o[13]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:_},o[12],e),o[13][Symbol.for("slots")][0]?(t=o[13][Symbol.for("slots")][0],e=o[13]):t=o[13][Symbol.for("children")][0]),t=o[11],o[14]||(o[14]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const T={};T.x=63,T.y=2,o[14].nodeId||o[14].populate(T);const $=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[14],o[15]||(o[15]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const R={};if(R.image="assets/fps_sprite.png",R.x=0,R.h=20,R.w=20,R.map=e.sprite,typeof $<"u")for(let K in $.config.props)delete R[$.config.props[K]];o[15].nodeId||o[15].populate(R),t=o[15];const z={};z.image="assets/fps_sprite.png",z.x=0,z.h=20,z.w=20,z.map=e.sprite,z.frame=e.avgFps[0],o[16]||(o[16]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:z},o[15],e),o[16][Symbol.for("slots")][0]?(t=o[16][Symbol.for("slots")][0],e=o[16]):t=o[16][Symbol.for("children")][0]);const k=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[14],o[17]||(o[17]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const M={};if(M.image="assets/fps_sprite.png",M.x=18,M.h=20,M.w=20,M.map=e.sprite,typeof k<"u")for(let K in k.config.props)delete M[k.config.props[K]];o[17].nodeId||o[17].populate(M),t=o[17];const F={};F.image="assets/fps_sprite.png",F.x=18,F.h=20,F.w=20,F.map=e.sprite,F.frame=e.avgFps[1],o[18]||(o[18]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:F},o[17],e),o[18][Symbol.for("slots")][0]?(t=o[18][Symbol.for("slots")][0],e=o[18]):t=o[18][Symbol.for("children")][0]);const B=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[14],o[19]||(o[19]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const E={};if(E.image="assets/fps_sprite.png",E.x=36,E.h=20,E.w=20,E.map=e.sprite,typeof B<"u")for(let K in B.config.props)delete E[B.config.props[K]];o[19].nodeId||o[19].populate(E),t=o[19];const L={};L.image="assets/fps_sprite.png",L.x=36,L.h=20,L.w=20,L.map=e.sprite,L.frame=e.avgFps[2],o[20]||(o[20]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:L},o[19],e),o[20][Symbol.for("slots")][0]?(t=o[20][Symbol.for("slots")][0],e=o[20]):t=o[20][Symbol.for("children")][0]),t=o[0],o[21]||(o[21]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const U={};U.x=0,U.y=40,o[21].nodeId||o[21].populate(U);const A=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[21],o[22]||(o[22]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const q={};if(q.image="assets/fps_sprite.png",q.x=-2,q.w=47,q.h=25,q.map=e.sprite,q.frame="min",typeof A<"u")for(let K in A.config.props)delete q[A.config.props[K]];o[22].nodeId||o[22].populate(q),t=o[22];const N={};N.image="assets/fps_sprite.png",N.x=-2,N.w=47,N.h=25,N.map=e.sprite,N.frame="min",o[23]||(o[23]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:N},o[22],e),o[23][Symbol.for("slots")][0]?(t=o[23][Symbol.for("slots")][0],e=o[23]):t=o[23][Symbol.for("children")][0]),t=o[21],o[24]||(o[24]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const G={};G.x=58,G.y=2,o[24].nodeId||o[24].populate(G);const X=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[24],o[25]||(o[25]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const H={};if(H.image="assets/fps_sprite.png",H.x=0,H.h=20,H.w=20,H.map=e.sprite,typeof X<"u")for(let K in X.config.props)delete H[X.config.props[K]];o[25].nodeId||o[25].populate(H),t=o[25];const O={};O.image="assets/fps_sprite.png",O.x=0,O.h=20,O.w=20,O.map=e.sprite,O.frame=e.minFps[0],o[26]||(o[26]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:O},o[25],e),o[26][Symbol.for("slots")][0]?(t=o[26][Symbol.for("slots")][0],e=o[26]):t=o[26][Symbol.for("children")][0]);const V=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[24],o[27]||(o[27]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const D={};if(D.image="assets/fps_sprite.png",D.x=18,D.h=20,D.w=20,D.map=e.sprite,typeof V<"u")for(let K in V.config.props)delete D[V.config.props[K]];o[27].nodeId||o[27].populate(D),t=o[27];const Z={};Z.image="assets/fps_sprite.png",Z.x=18,Z.h=20,Z.w=20,Z.map=e.sprite,Z.frame=e.minFps[1],o[28]||(o[28]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:Z},o[27],e),o[28][Symbol.for("slots")][0]?(t=o[28][Symbol.for("slots")][0],e=o[28]):t=o[28][Symbol.for("children")][0]);const Q=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[24],o[29]||(o[29]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const ee={};if(ee.image="assets/fps_sprite.png",ee.x=36,ee.h=20,ee.w=20,ee.map=e.sprite,typeof Q<"u")for(let K in Q.config.props)delete ee[Q.config.props[K]];o[29].nodeId||o[29].populate(ee),t=o[29];const re={};re.image="assets/fps_sprite.png",re.x=36,re.h=20,re.w=20,re.map=e.sprite,re.frame=e.minFps[2],o[30]||(o[30]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:re},o[29],e),o[30][Symbol.for("slots")][0]?(t=o[30][Symbol.for("slots")][0],e=o[30]):t=o[30][Symbol.for("children")][0]),t=o[0],o[31]||(o[31]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const ue={};ue.x=150,ue.y=40,o[31].nodeId||o[31].populate(ue);const ae=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[31],o[32]||(o[32]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const ne={};if(ne.image="assets/fps_sprite.png",ne.w=53,ne.h=25,ne.map=e.sprite,ne.frame="max",typeof ae<"u")for(let K in ae.config.props)delete ne[ae.config.props[K]];o[32].nodeId||o[32].populate(ne),t=o[32];const ge={};ge.image="assets/fps_sprite.png",ge.w=53,ge.h=25,ge.map=e.sprite,ge.frame="max",o[33]||(o[33]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:ge},o[32],e),o[33][Symbol.for("slots")][0]?(t=o[33][Symbol.for("slots")][0],e=o[33]):t=o[33][Symbol.for("children")][0]),t=o[31],o[34]||(o[34]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const Fe={};Fe.x=63,Fe.y=2,o[34].nodeId||o[34].populate(Fe);const Be=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[34],o[35]||(o[35]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const ve={};if(ve.image="assets/fps_sprite.png",ve.x=0,ve.h=20,ve.w=20,ve.map=e.sprite,typeof Be<"u")for(let K in Be.config.props)delete ve[Be.config.props[K]];o[35].nodeId||o[35].populate(ve),t=o[35];const Te={};Te.image="assets/fps_sprite.png",Te.x=0,Te.h=20,Te.w=20,Te.map=e.sprite,Te.frame=e.maxFps[0],o[36]||(o[36]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:Te},o[35],e),o[36][Symbol.for("slots")][0]?(t=o[36][Symbol.for("slots")][0],e=o[36]):t=o[36][Symbol.for("children")][0]);const To=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[34],o[37]||(o[37]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const _e={};if(_e.image="assets/fps_sprite.png",_e.x=18,_e.h=20,_e.w=20,_e.map=e.sprite,typeof To<"u")for(let K in To.config.props)delete _e[To.config.props[K]];o[37].nodeId||o[37].populate(_e),t=o[37];const ke={};ke.image="assets/fps_sprite.png",ke.x=18,ke.h=20,ke.w=20,ke.map=e.sprite,ke.frame=e.maxFps[1],o[38]||(o[38]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:ke},o[37],e),o[38][Symbol.for("slots")][0]?(t=o[38][Symbol.for("slots")][0],e=o[38]):t=o[38][Symbol.for("children")][0]);const _o=i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite;t=o[34],o[39]||(o[39]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const $e={};if($e.image="assets/fps_sprite.png",$e.x=36,$e.h=20,$e.w=20,$e.map=e.sprite,typeof _o<"u")for(let K in _o.config.props)delete $e[_o.config.props[K]];o[39].nodeId||o[39].populate($e),t=o[39];const Re={};return Re.image="assets/fps_sprite.png",Re.x=36,Re.h=20,Re.w=20,Re.map=e.sprite,Re.frame=e.maxFps[2],o[40]||(o[40]=(i.components&&i.components.Sprite||e[Symbol.for("components")].Sprite||(()=>{console.error("component Sprite not found")})).call(null,{props:Re},o[39],e),o[40][Symbol.for("slots")][0]?(t=o[40][Symbol.for("slots")][0],e=o[40]):t=o[40][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[5].set("frame",t.fps[0])},,function(t,e,i){e[6][Symbol.for("props")].frame=t.fps[0]},,function(t,e,i){e[7].set("frame",t.fps[1])},,function(t,e,i){e[8][Symbol.for("props")].frame=t.fps[1]},,function(t,e,i){e[9].set("frame",t.fps[2])},,function(t,e,i){e[10][Symbol.for("props")].frame=t.fps[2]},,function(t,e,i){e[15].set("frame",t.avgFps[0])},,function(t,e,i){e[16][Symbol.for("props")].frame=t.avgFps[0]},,function(t,e,i){e[17].set("frame",t.avgFps[1])},,function(t,e,i){e[18][Symbol.for("props")].frame=t.avgFps[1]},,function(t,e,i){e[19].set("frame",t.avgFps[2])},,function(t,e,i){e[20][Symbol.for("props")].frame=t.avgFps[2]},,function(t,e,i){e[25].set("frame",t.minFps[0])},,function(t,e,i){e[26][Symbol.for("props")].frame=t.minFps[0]},,function(t,e,i){e[27].set("frame",t.minFps[1])},,function(t,e,i){e[28][Symbol.for("props")].frame=t.minFps[1]},,function(t,e,i){e[29].set("frame",t.minFps[2])},,function(t,e,i){e[30][Symbol.for("props")].frame=t.minFps[2]},,function(t,e,i){e[35].set("frame",t.maxFps[0])},,function(t,e,i){e[36][Symbol.for("props")].frame=t.maxFps[0]},,function(t,e,i){e[37].set("frame",t.maxFps[1])},,function(t,e,i){e[38][Symbol.for("props")].frame=t.maxFps[1]},,function(t,e,i){e[39].set("frame",t.maxFps[2])},,function(t,e,i){e[40][Symbol.for("props")].frame=t.maxFps[2]}],context:{}},state(){return{sprite:{defaults:{y:1,w:20,h:20},frames:{false:{x:-1e3},0:{x:1},1:{x:23},2:{x:45},3:{x:67},4:{x:89},5:{x:111},6:{x:133},7:{x:155},8:{x:177},9:{x:199},avg:{x:221,w:48,h:25},fps:{x:271,w:43,h:25},max:{x:316,w:53,h:25},min:{x:371,w:47,h:25}}},fps:"-",avgFps:"-",minFps:"-",maxFps:"-"}},hooks:{init(){const s=[];let t=0,e=1e4,i=0,o=0,l=0,r=0,n=performance.now();const f=()=>{window.requestAnimationFrame(()=>{const d=performance.now();for(e<1e4&&n<=d-1e3&&(n=d,this.fps=t.toString().padStart(3,"0"),this.avgFps=o.toString().padStart(3,"0"),this.minFps=e.toString().padStart(3,"0"),this.maxFps=i.toString().padStart(3,"0"));s.length>0&&s[0]<=d-1e3;)s.shift();s.push(d),t=s.length,r>60&&(e=Math.min(t,e),i=Math.max(t,i),l+=t,o=Math.round(l/(r-60))),r++,f()})};f()}}}),Yn=W.Application({components:{FPScounter:Dn},code:{render:function(t,e,i){const o=[];o[0]||(o[0]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const l={};l.w=1920,l.h=1080,o[0].nodeId||o[0].populate(l);const r=i.components&&i.components.RouterView||e[Symbol.for("components")].RouterView;t=o[0],o[1]||(o[1]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const n={};if(typeof r<"u")for(let p in r.config.props)delete n[r.config.props[p]];o[1].nodeId||o[1].populate(n),t=o[1];const f={};o[2]||(o[2]=(i.components&&i.components.RouterView||e[Symbol.for("components")].RouterView||(()=>{console.error("component RouterView not found")})).call(null,{props:f},o[1],e),o[2][Symbol.for("slots")][0]?(t=o[2][Symbol.for("slots")][0],e=o[2]):t=o[2][Symbol.for("children")][0]);const d=i.components&&i.components.FPScounter||e[Symbol.for("components")].FPScounter;t=o[0],o[3]||(o[3]=this.element({componentId:e[Symbol.for("id")],parent:t||"root"},e));const a={};if(a.x=1610,typeof d<"u")for(let p in d.config.props)delete a[d.config.props[p]];o[3].nodeId||o[3].populate(a),t=o[3];const c={};return c.x=1610,o[4]||(o[4]=(i.components&&i.components.FPScounter||e[Symbol.for("components")].FPScounter||(()=>{console.error("component FPScounter not found")})).call(null,{props:c},o[3],e),o[4][Symbol.for("slots")][0]?(t=o[4][Symbol.for("slots")][0],e=o[4]):t=o[4][Symbol.for("children")][0]),o},effects:[function(t,e,i){e[0].set("color",t.backgroundColor)}],context:{}},state(){return{backgroundColor:"#1e293b"}},routes:[{path:"/",component:Vs,options:{keepAlive:!0}},{path:"/demos/loading",component:()=>Ft(()=>import("./Loading-7880e043.js"),["assets/Loading-7880e043.js","assets/settings-b6f7d147.js"])},{path:"/demos/intro",component:()=>new Promise(s=>{s(Qs)})},{path:"/demos/theming",component:tn},{path:"/demos/tmdb",component:hn},{path:"/demos/sprites",component:mn},{path:"/demos/focushandling",component:gn},{path:"/demos/memory-game",component:Nn,announce:"Let's play Memory"},{path:"/examples/positioning",component:xn},{path:"/examples/colors",component:bn},{path:"/examples/gradients",component:Sn},{path:"/examples/transitions",component:In},{path:"/examples/alpha",component:wn},{path:"/examples/scaling",component:Cn},{path:"/examples/rotation",component:vn},{path:"/examples/keyinput",component:Tn},{path:"/examples/texts",component:_n},{path:"/examples/images",component:kn},{path:"/examples/components",component:$n},{path:"/examples/forloop",component:Rn},{path:"/examples/effects",component:zn},{path:"/examples/showif",component:Mn},{path:"/examples/events",component:En},{path:"/examples/slots",component:Bn},{path:"/benchmarks/exponential",component:On}],hooks:{ready(){this.$listen("changeBackground",s=>{this.backgroundColor=s?s+80:"#1e293b"})}},input:{escape(){this.quit()},back(){this.$router.to("/")}}});W.Launch(Yn,"app",{w:1920,h:1080,multithreaded:!1,debugLevel:1,fontLoader:Ls,reactivityMode:"Proxy",keymap:Fs(),fonts:[{family:"lato",type:"msdf",png:"/fonts/Lato-Regular.msdf.png",json:"/fonts/Lato-Regular.msdf.json"},{family:"raleway",type:"msdf",png:"/fonts/Raleway-ExtraBold.msdf.png",json:"/fonts/Raleway-ExtraBold.msdf.json"},{family:"opensans",type:"web",file:"/fonts/OpenSans-Medium.ttf"},{family:"kalam",type:"msdf",png:"/fonts/Kalam-Regular.msdf.png",json:"/fonts/Kalam-Regular.msdf.json"}]});export{W as B,ro as S};
